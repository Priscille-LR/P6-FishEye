{"version":3,"sources":["scripts/factory/MediaFactory.js","scripts/factory/PhotographerPageBuilder.js","scripts/factory/HomePageBuilder.js","scripts/factory/PageFactory.js","scripts/utils/DataFetcher.js","Router.js","index.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["MediaFactory","PICTURE","VIDEO","tmpMedium","extension","split","pop","test","mediaEnum","mediumTitle","String","toLowerCase","substring","length","mediumTitleArray","shift","join","charAt","toUpperCase","slice","medium","currentPhotographer","image","video","extractMediumTitle","mediumThumbnail","document","createElement","className","mediumType","getMediumType","innerHTML","name","mediumThumbnailContent","price","likes","appendChild","mediaFactory","PhotographerPageBuilder","props","DATE","POPULARITY","TITLE","jsonPromise","json","isDropdownVisible","allMedia","id","idPhotographer","then","jsonData","determineCurrentPhotographer","photographers","determineCurrentPhotographerMedia","media","renderHeader","renderBanner","renderMain","header","createHeader","appendLogo","banner","querySelector","insertBefore","logo","setAttribute","forEach","photographer","photographerId","push","createBannerContent","createBannerButton","createBannerPicture","bannerPicture","portrait","contactButton","bannerContent","city","country","tagline","appendBannerContentTags","tags","photographerTag","tag","generateSummary","renderDropdown","sortBy","SortEnum","renderMedium","main","incrementNumberOfLikes","likeButton","mediumLikes","totalLikes","addEventListener","parseInt","numberOfLikes","totalNumberOfLikes","summary","photographerPrice","mainNode","index","childNodes","child","removeChild","dropdown","dropdrownButton","dropdrownContent","style","display","dropdownItems","getElementsByClassName","item","handleDropdownItemClick","click","removeAllThumbnails","swapDropdownItems","temporary","sortType","sortedMedia","sort","a","b","Date","date","compareTitle","console","log","sortedMedium","createMediumThumbnail","aMedium","bMedium","t1","t2","localeCompare","HomePageBuilder","dataPromise","clickedTags","appendMainNav","mainNav","appendNavTags","nav","allTags","map","flat","distinctTags","Set","headerTag","tagName","event","handleTagClick","sortPhotographers","photographersNode","selectedPhotographers","clickedTag","includes","createArticle","createMainTitle","title","article","appendPhotographerThumbnailPicture","appendPhotographerThumbnailContent","thumbnailPicture","thumbnailContent","registeredPages","PageFactory","type","DataFetcher","dataSource","fetch","resp","dataFetcher","fetchSource","pageFactory","routes","path","component","getPage","photographerURLRegex","router","potentialMatches","route","result","location","pathname","matchedPage","find","potentialMatch","render","window","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","body","getElementById","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"P6-Fisheye.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export class MediaFactory {\n    constructor() {\n    }\n\n    mediaEnum = {\n        PICTURE: \"picture\",\n        VIDEO: \"video\",\n    }\n\n    getMediumType(tmpMedium) {\n        let extension = tmpMedium.split('.').pop();\n        if (/(jpg)$/ig.test(extension)) {\n            return this.mediaEnum.PICTURE;\n        }\n        if (/(mp4)$/ig.test(extension)) {\n            return this.mediaEnum.VIDEO;\n        }\n    }\n\n    extractMediumTitle(tmpMedium) {\n        let mediumTitle = String(tmpMedium.toLowerCase());\n        mediumTitle = mediumTitle.substring(0, tmpMedium.length - 4); //remove extension\n        let mediumTitleArray = mediumTitle.split(\"_\");\n        mediumTitleArray.shift(); //remove 1st element in array \n        mediumTitle = mediumTitleArray.join(\" \"); //add elements of array into a string\n        mediumTitle = mediumTitle.charAt(0).toUpperCase() + mediumTitle.slice(1);\n        return mediumTitle;\n    }\n\n\n    renderMedium(medium, currentPhotographer) {\n\n        let tmpMedium = medium.image;\n        if (tmpMedium == null) {\n            tmpMedium = String(medium.video);\n        } else {\n            tmpMedium = String(medium.image);\n        }\n\n        let mediumTitle = this.extractMediumTitle(tmpMedium);\n\n        //create medium thumbnail\n        let mediumThumbnail = document.createElement('div');\n        mediumThumbnail.className = \"medium_thumbnail\";\n\n        const mediumType = this.getMediumType(tmpMedium)\n\n        switch (mediumType) {\n            case this.mediaEnum.PICTURE:\n                tmpMedium = String(medium.image);\n                mediumThumbnail.innerHTML = `<img class=\"medium_thumbnail__miniature\" \n                src=\"/static/${currentPhotographer.name.split(' ')[0]}/${tmpMedium}\"\n                alt=\"${mediumTitle}\"/>`;\n                break;\n\n            case this.mediaEnum.VIDEO:\n                tmpMedium = String(medium.video);\n                mediumThumbnail.innerHTML = `\n                <video id=\"medium_thumbnail__miniature\" title=\"${mediumTitle}\" controls>\n                <source src=\"/static/${currentPhotographer.name.split(' ')[0]}/${tmpMedium}\">\n                type=\"video/mp4\">\n                </video>`;\n                break;\n            default: tmpMedium = String(\"\");\n\n        }\n\n\n        let mediumThumbnailContent = document.createElement('div');\n        mediumThumbnailContent.className = \"medium_thumbnail__content\";\n        mediumThumbnailContent.innerHTML = `\n            <h2 class=\"medium_title\">${mediumTitle}</h2>\n            <div class=\"price_and_likes\">\n              <span class=\"medium_price\">${medium.price}€</span>\n              <span class=\"medium_number_of_likes\">${medium.likes}</span>\n              <button class=\"like\">\n              <i class=\"fas fa-heart\"></i>\n              </button>\n            </div>\n          </div>\n            `;\n\n        mediumThumbnail.appendChild(mediumThumbnailContent);\n        return mediumThumbnail;\n    }\n}\n\n\n","import { MediaFactory } from './MediaFactory';\n\nconst mediaFactory = new MediaFactory();\n\nexport class PhotographerPageBuilder {\n\n    SortEnum = {\n        DATE: \"Date\",\n        POPULARITY: \"Popularité\",\n        TITLE: \"Titre\",\n    }\n\n    constructor(props) {\n        this.jsonPromise = props.json\n        this.isDropdownVisible = false //dropdown menu hidden by default\n        this.allMedia = [];\n    }\n\n    render(id) {\n        this.idPhotographer = id\n        this.jsonPromise.then((jsonData) => {\n            this.determineCurrentPhotographer(jsonData.photographers);\n            this.determineCurrentPhotographerMedia(jsonData.media);\n\n            this.renderHeader();\n            this.renderBanner()\n            this.renderMain()\n        })\n    }\n\n    renderHeader() {\n        const header = this.createHeader();\n        this.appendLogo(header);\n\n        const banner = document.querySelector(\".banner\");\n        document.querySelector('body').insertBefore(header, banner);\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_photographer_page';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.setAttribute(\"href\", \"/\");\n        logo.innerHTML = `<img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"logo\" />`;\n\n        header.appendChild(logo);\n    }\n\n    // for each photographer, \n    //  if their id == photographer wanted \n    //  then save photographer in currentPhotographer \n    determineCurrentPhotographer(photographers) {\n        photographers.forEach(photographer => {\n            if (photographer.id == this.idPhotographer) {\n                this.currentPhotographer = photographer;\n            }\n        });\n    }\n\n    //for each medium, \n    //  if photographer id in media object = id in photographers object,\n    //  then add medium to array\n    determineCurrentPhotographerMedia(media) {\n        media.forEach(medium => {\n            if (medium.photographerId == this.idPhotographer) {\n                this.allMedia.push(medium);\n            }\n        });\n    }\n\n    renderBanner() {\n        this.createBannerContent();\n        this.createBannerButton();\n        this.createBannerPicture();\n    }\n\n    createBannerPicture() {\n        const bannerPicture = document.createElement('div');\n        bannerPicture.className = 'photographer__picture';\n        bannerPicture.innerHTML = `\n            <img\n                class=\"photographer_thumbnail__picture picture_profile\"\n                src=\"/static/Photographers ID Photos/${this.currentPhotographer.portrait}\"\n                alt=\"photographer's thumbnail picture\"\n              />`;\n\n        document.querySelector('.banner').appendChild(bannerPicture);\n    }\n\n    createBannerButton() {\n        const contactButton = document.createElement('button');\n        contactButton.className = 'button_contact';\n        contactButton.innerHTML = `Contactez-moi`;\n        document.querySelector('.banner').appendChild(contactButton);\n    }\n\n    createBannerContent() {\n        const bannerContent = document.createElement('div');\n        bannerContent.className = 'banner__text_content';\n        bannerContent.innerHTML = `\n\n            <h2 class=\"photographer_name\">${this.currentPhotographer.name}</h2>\n            <h3 class=\"photographer_location\">${this.currentPhotographer.city}, ${this.currentPhotographer.country}</h3>\n            <p class=\"photographer_desc\">${this.currentPhotographer.tagline}</p>\n            \n            <div class=\"tags tags_photographer_page\">\n            </div>`;\n\n        this.appendBannerContentTags(bannerContent);\n\n        document.querySelector('.banner').appendChild(bannerContent);\n    }\n\n    appendBannerContentTags(bannerContent) {\n        this.currentPhotographer.tags.forEach(photographerTag => {\n            const tag = document.createElement('a');\n            tag.className = 'tags__item';\n            tag.innerHTML = `\n         <span>#${photographerTag}</span>`;\n            bannerContent.querySelector('.tags').appendChild(tag);\n        });\n    }\n\n    renderMain() {\n        this.generateSummary()\n        this.renderDropdown()\n        this.sortBy(this.SortEnum.POPULARITY)\n    }\n\n    \n    createMediumThumbnail(medium) {\n\n        const mediumThumbnail = mediaFactory.renderMedium(medium, this.currentPhotographer);\n\n        const main = document.querySelector('main');\n        main.appendChild(mediumThumbnail);\n\n        this.incrementNumberOfLikes(mediumThumbnail);\n    }\n\n\n    incrementNumberOfLikes(mediumThumbnail) {\n        const likeButton = mediumThumbnail.querySelector('.like');\n        const mediumLikes = mediumThumbnail.querySelector('.medium_number_of_likes');\n        const totalLikes = document.querySelector('.total_number_of_likes');\n\n        likeButton.addEventListener('click', () => {\n            mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) + 1;\n            totalLikes.innerHTML = parseInt(totalLikes.innerHTML) + 1;\n\n        });\n    }\n\n    //sticker photographer total number of likes and price\n    generateSummary() {\n\n        let numberOfLikes = 0;\n        this.allMedia.forEach(medium => {\n            numberOfLikes = numberOfLikes + medium.likes\n        });\n\n        const totalNumberOfLikes = document.createElement('div')\n        totalNumberOfLikes.className = \"total_likes\"\n\n        totalNumberOfLikes.innerHTML = `\n        <p class=\"total_number_of_likes\">` + numberOfLikes + `</p>\n        <i class=\"fas fa-heart fa-lg\"></i>\n          \n        `\n\n        const summary = document.querySelector('.sticker_summary')\n        summary.appendChild(totalNumberOfLikes)\n\n        const price = this.currentPhotographer.price;\n        const photographerPrice = document.createElement('div')\n        photographerPrice.className = \"photographer_price\"\n        photographerPrice.innerHTML = price + \"€/jour\"\n        summary.appendChild(photographerPrice)\n        \n    }\n\n    removeAllThumbnails() {\n        const mainNode = document.querySelector('main')\n        for (let index = mainNode.childNodes.length - 1; index >= 0 ; index--) {\n            const child = mainNode.childNodes[index];\n            mainNode.removeChild(child)\n        }\n    }\n\n    renderDropdown() {\n\n        const sortBy = document.createElement('span');\n        sortBy.className = 'sort_by';\n        sortBy.innerHTML = `Trier par`;\n        document.querySelector('.dropdown_menu').appendChild(sortBy);\n\n        const dropdown = document.createElement('div');\n        dropdown.className = \"dropdown\";\n        dropdown.innerHTML = `\n        <button class=\"dropdown__button\">${this.SortEnum.POPULARITY}</button>\n        <div class=\"dropdown__content\">\n            <a class=\"dropdown__content__item\" href=\"#\">${this.SortEnum.DATE}</a>\n            <a class=\"dropdown__content__item\" href=\"#\">${this.SortEnum.TITLE}</a>\n      </div>`;\n      \n        document.querySelector('.dropdown_menu').appendChild(dropdown);\n\n        const dropdrownButton = document.querySelector('.dropdown__button');\n        const dropdrownContent = document.querySelector('.dropdown__content');\n\n        dropdrownButton.addEventListener('click', () => {\n            if (this.isDropdownVisible == false) {\n                dropdrownContent.style.display = \"block\";\n                this.isDropdownVisible = true; //content visibility state \n            } else {\n                dropdrownContent.style.display = \"none\";\n                this.isDropdownVisible = false;\n            }\n        });\n\n\n        const dropdownItems = document.getElementsByClassName(\"dropdown__content__item\");\n        for (let item of dropdownItems) {\n            item.addEventListener('click', () => {\n                this.handleDropdownItemClick(dropdrownButton, item);\n            })\n        }\n    }\n\n    handleDropdownItemClick(dropdrownButton, item) {\n        dropdrownButton.click();\n\n        this.removeAllThumbnails();\n\n        //Tri\n        this.sortBy(item.innerHTML);\n\n        //swap\n        this.swapDropdownItems(item, dropdrownButton);\n    }\n\n    swapDropdownItems(item, dropdrownButton) {\n        var temporary = item.innerHTML;\n        item.innerHTML = dropdrownButton.innerHTML;\n        dropdrownButton.innerHTML = temporary;\n    }\n\n    sortBy(sortType) {\n        let sortedMedia = null;\n        switch (sortType) {\n            case this.SortEnum.DATE:\n                sortedMedia = this.allMedia.sort((a, b) => new Date(b.date) - new Date(a.date))\n                break;\n            case this.SortEnum.POPULARITY:\n                sortedMedia = this.allMedia.sort((a, b) => b.likes - a.likes);\n                break;\n            case this.SortEnum.TITLE:\n                sortedMedia = this.allMedia.sort(this.compareTitle);\n                break;\n        }\n\n        console.log(sortedMedia);\n        sortedMedia.forEach(sortedMedium => {\n            this.createMediumThumbnail(sortedMedium)\n        })\n    }\n\n    compareTitle(a, b) {\n        let aMedium = a.image;\n        let bMedium = b.image;\n      \n        if (aMedium == null) {\n            aMedium = a.video\n            \n        }\n        if (bMedium == null) {\n            bMedium = b.video\n        }\n\n        const t1 = mediaFactory.extractMediumTitle(aMedium)\n        const t2 = mediaFactory.extractMediumTitle(bMedium)\n        \n         \n        return t1.localeCompare(t2, 'fr') \n    }\n}","// Nom de classe\nexport class HomePageBuilder {\n    constructor(props) {\n        this.dataPromise = props.json\n        this.clickedTags = [];\n    }\n\n    //display header and main (home page)\n    render() {\n        this.dataPromise\n            .then((jsonData) => {\n                let photographers = jsonData.photographers\n\n                this.renderHeader(photographers)\n                this.renderMain(photographers)\n            })\n    }\n\n    renderHeader(photographers) {\n        const header = this.createHeader()\n        this.appendLogo(header)\n        this.appendMainNav(photographers, header)\n\n        const main = document.querySelector(\"main\");\n        document.querySelector('body').insertBefore(header, main);\n\n        document.querySelector(\".banner\").style.display = \"none\";\n        document.querySelector(\".dropdown_menu\").style.display = \"none\";\n        document.querySelector(\".sticker_summary\").style.display = \"none\";\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_home';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.innerHTML = `\n        <img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"logo\" />\n        `;\n\n        header.appendChild(logo);\n    }\n\n    appendMainNav(photographers, header) {\n        const mainNav = document.createElement('nav');\n        mainNav.className = 'main_nav';\n\n        this.appendNavTags(photographers, mainNav)\n        header.appendChild(mainNav);\n    }\n\n    appendNavTags(photographers, nav) {\n        const allTags = photographers.map(photographer => photographer.tags).flat()\n        const distinctTags = [...new Set(allTags)] //remove duplicates\n\n        //add each tag dynamically in the nav\n        distinctTags.forEach(tag => {\n            const headerTag = document.createElement('a')\n            const tagName = tag.charAt(0).toUpperCase() + tag.substring(1);\n            headerTag.className = 'main_nav__item'\n            headerTag.innerHTML = `<span>#${tagName}</span>`;\n            nav.appendChild(headerTag);\n\n            //listen to clicks on main nav tags\n            headerTag.addEventListener(\"click\", (event) => {\n                this.clickedTags.push(tag);\n                this.clickedTags = [...new Set(this.clickedTags)];\n                console.log(\"contenu de clickedTags : \" + this.clickedTags)\n                this.handleTagClick(photographers)\n            });\n        });\n    }\n\n    handleTagClick(photographers) {\n        this.removeAllThumbnails();\n        this.sortPhotographers(photographers)\n    }\n\n    removeAllThumbnails() {\n        const photographersNode = document.querySelector('.photographers')\n        for (let index = photographersNode.childNodes.length - 1; index >= 0 ; index--) {\n            const child = photographersNode.childNodes[index];\n            photographersNode.removeChild(child)\n        }\n    }\n\n    sortPhotographers(photographers) {\n        let selectedPhotographers = [];\n        this.clickedTags.forEach(clickedTag => {\n            photographers.forEach(photographer => {\n                if (photographer.tags.includes(clickedTag)) {\n                    selectedPhotographers.push(photographer)\n                }\n            });\n        });\n\n        selectedPhotographers = [...new Set(selectedPhotographers)]\n        this.createArticle(selectedPhotographers)\n    }    \n\n    renderMain(photographers) {\n        this.createMainTitle()\n        this.createArticle(photographers)\n    }\n\n    createMainTitle() {\n        const title = document.createElement('h1')\n        title.className = 'main_title'\n        title.innerHTML = `Nos photographes`\n        document.querySelector(\"main\").appendChild(title)\n    }\n\n    createArticle(photographers) {\n\n        photographers.forEach(photographer => {\n\n            const article = document.createElement('article')\n            article.className = 'article';\n            article.innerHTML = `<a class=\"photographer_thumbnail\" href=\"/photographers-profile/${photographer.id}\">`;\n\n            this.appendPhotographerThumbnailPicture(article, photographer);\n            this.appendPhotographerThumbnailContent(article, photographer);\n\n            document.querySelector('.photographers').appendChild(article);\n        });\n    }\n\n    appendPhotographerThumbnailPicture(article, photographer) {\n        const thumbnailPicture = document.createElement('a')\n        thumbnailPicture.className = 'photographer_thumbnail__picture';\n        thumbnailPicture.innerHTML = `\n        <img class=\"photographer_thumbnail__picture\"\n        src=\"/static/Photographers ID Photos/${photographer.portrait}\"\n        alt=\"photographer's thumbnail picture\" />`;\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailPicture);\n    }\n\n    appendPhotographerThumbnailContent(article, photographer) {\n        const thumbnailContent = document.createElement('div')\n        thumbnailContent.className = 'photographer_thumbnail__content';\n        thumbnailContent.innerHTML = `\n        <h2 class=\"photographer_name\">${photographer.name}</h2>\n        <h3 class=\"photographer_location\">${photographer.city}, ${photographer.country}</h3>\n        <p class=\"photographer_desc\">${photographer.tagline}</p>\n        <p class=\"photographer_price\">${photographer.price}€/jour</p>\n        <div class=\"tags\"></div>`;\n\n        photographer.tags.forEach(photographerTag => {\n            const tag = document.createElement('a')\n            tag.className = 'tags__item';\n            tag.innerHTML = `<span>#${photographerTag}</span>`\n            thumbnailContent.querySelector('.tags').appendChild(tag)\n        })\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailContent);\n    }\n}\n","import { PhotographerPageBuilder } from \"./PhotographerPageBuilder\";\nimport { HomePageBuilder } from \"./HomePageBuilder\";\n\n//Map[key] = value\nlet registeredPages = {};\nregisteredPages[\"photographerPage\"] = PhotographerPageBuilder;\nregisteredPages[\"homePage\"] = HomePageBuilder;\n\nexport class PageFactory {\n    \n    getPage(type, props) {\n        return new registeredPages[type](props);\n    }\n}\n\n","export class DataFetcher {\n    constructor(dataSource) {\n        this.dataSource = dataSource; //json file\n    }\n\n    fetchSource() {\n        return fetch(this.dataSource) // ressource request\n            .then(function (resp) {\n                console.log(resp)\n                return resp.json(); \n            });\n    }\n}","import { PageFactory } from './scripts/factory/PageFactory';\nimport { DataFetcher } from './scripts/utils/DataFetcher';\n\nconst dataFetcher = new DataFetcher('/static/FishEyeDataFR.json');\nconst jsonPromise = dataFetcher.fetchSource()\n\nconst pageFactory = new PageFactory();\n\nconst props = {\n    json: jsonPromise,\n};\n//possible routes\nconst routes = [\n    {\n        path: \"/\",\n        component: pageFactory.getPage(\"homePage\", props)\n    },\n    {\n        path: \"/photographers-profile/\", \n        component: pageFactory.getPage(\"photographerPage\", props)\n    },\n];\n\n//match for photographer page regex\nconst photographerURLRegex = /\\/[A-Za-z\\-]{1,}\\/[0-9]{0,3}?$/;\n\nexport const router = () => {\n\n    //for each route, return component (page)\n    // check if requested page corresponds to a photographer page (with regex)\n    const potentialMatches = routes.map(route => {\n        return {\n            component: route.component,\n            result: photographerURLRegex.test(route.path) && photographerURLRegex.test(location.pathname) //current url\n        }\n    })\n    \n    const matchedPage = potentialMatches.find(potentialMatch => potentialMatch.result == true)\n\n    if(matchedPage != null){ // photographer page match\n        const idPhotographer = location.pathname.split('/')[2];\n        matchedPage.component.render(idPhotographer);\n    } else {\n        routes.find(route => route.path == \"/\").component.render(); //return to home page\n    }\n\n};","import { router } from './Router';\n\nwindow.addEventListener('hashchange', router);\nwindow.addEventListener('load', router);","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}