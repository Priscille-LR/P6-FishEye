{"version":3,"sources":["scripts/factory/MediaFactory.js","scripts/factory/ContactModal.js","scripts/factory/LightboxMedia.js","scripts/factory/PhotographerPageBuilder.js","scripts/factory/HomePageBuilder.js","scripts/factory/PageFactory.js","scripts/utils/DataFetcher.js","Router.js","index.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["MediaFactory","constructor","PICTURE","VIDEO","getMediumType","tmpMedium","extension","split","pop","test","mediaEnum","extractMediumTitle","medium","getMediumFile","mediumTitle","toLowerCase","mediumTitleArray","shift","join","charAt","toUpperCase","slice","renderMedium","currentPhotographer","mediumThumbnail","createMediumDisplay","appendThumbnailContent","mediumThumbnailContent","document","createElement","className","innerHTML","price","likes","appendChild","controls","mediumType","media","String","image","src","name","video","source","type","autoplay","alt","ContactModal","renderContactModal","createContactModal","createContactModalBody","contactModal","querySelector","modalBody","appendModalTitle","appendCloseButton","appendContactForm","createModalButton","modalTitle","closeButton","addEventListener","hideContactModal","contactForm","setAttribute","createFormFields","addEventListenerValidate","inputs","querySelectorAll","forEach","input","validateFieldsFormat","hideErrorMessage","parentElement","id","showErrorMessage","createFormData","formData","createLabel","forParam","textParam","label","createInputField","inputField","createTextArea","textAreaInput","modalButton","e","preventDefault","validateFields","map","fields","inputValue","value","field","console","log","showContactModal","style","display","message","removeAttribute","fieldFormat","emailAddressFormat","messageFormat","length","outcome","LightboxMedia","allMedia","mediaFactory","renderLightboxMedia","createLightboxMedia","createLightboxMediaBody","lightboxMedia","lightboxBody","appendNavButtons","handleNav","appendMediumBox","appendMediumTitle","hideLightboxMedia","createNavButton","buttonClass","buttonIcon","button","previousButton","nextButton","currentIndex","indexOf","newIndex","showLightboxMedia","mediumBox","insertBefore","removeLightboxMedium","title","lightboxMedium","mainNode","index","childNodes","child","removeChild","PhotographerPageBuilder","json","DATE","POPULARITY","TITLE","jsonPromise","isDropdownVisible","photographerTags","selectedMedia","render","idPhotographer","then","jsonData","determineCurrentPhotographer","photographers","determineCurrentPhotographerMedia","renderHeader","renderMain","header","createHeader","appendLogo","main","logo","photographer","photographerId","push","renderBanner","renderSummary","renderDropdown","sortBy","SortEnum","createBanner","renderBannerContent","createBannerButton","createBannerPicture","banner","bannerContent","createBannerContent","appendBannerName","appendBannerLocation","appendBannerDesc","appendBannerTags","appendBannerContentTags","bannerTitle","bannerLocation","city","country","bannerDesc","tagline","contactButton","launchContactModal","bannerPicture","portrait","bannerTags","tags","photographerTag","bannerTag","checkboxTag","labelTag","checked","Set","splice","handleTagClick","removeAllThumbnails","sortMedia","clickedPhotographerTag","tag","createMediumThumbnail","selectedMedium","dropdownMenu","createDropdownMenu","appendSortByText","appendDropdown","dropdrownButton","dropdrownContent","dropdownItems","getElementsByClassName","item","handleDropdownItemClick","dropdown","appendDropdownButton","createDropdownContent","dropdownButton","dropdownContent","appendDropdownItemDATE","appendDropdownItemTITLE","dropdownItemDATE","dropdownItemTITLE","summary","createSummary","createTotalLikes","createPhotographerPrice","stickerSummary","photographerPrice","numberOfLikes","totalNumberOfLikes","incrementNumberOfLikes","likeButton","mediumLikes","totalLikes","parseInt","mediumThumbnailMiniature","click","swapDropdownItems","temporary","sortType","sortedMedia","sort","a","b","Date","date","compareTitle","sortedMedium","t1","t2","localeCompare","HomePageBuilder","dataPromise","clickedNavTags","appendMainNav","mainNav","appendNavTags","nav","allTags","flat","distinctTags","tagName","substring","headerTag","sortPhotographers","photographersNode","selectedPhotographers","clickedNavTag","includes","createArticle","createMainTitle","article","appendPhotographerThumbnailPicture","appendPhotographerThumbnailContent","thumbnailPicture","thumbnailContent","PageFactoryEnum","HOME","PHOTOGRAPHER","registeredPages","Map","PageFactory","getPage","props","get","DataFetcher","dataSource","fetchSource","resp","fetch","dataFetcher","pageFactory","routes","regex","component","router","location","pathname","find","route","window","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","body","getElementById","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"P6-Fisheye.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export class MediaFactory {\n    constructor() {\n    }\n\n    mediaEnum = {\n        PICTURE: \"picture\",\n        VIDEO: \"video\",\n    }\n\n    getMediumType(tmpMedium) {\n        let extension = tmpMedium.split('.').pop();\n        if (/(jpg)$/ig.test(extension)) {\n            return this.mediaEnum.PICTURE;\n        }\n        if (/(mp4)$/ig.test(extension)) {\n            return this.mediaEnum.VIDEO;\n        }\n    }\n\n    extractMediumTitle(medium) {\n        let tmpMedium = this.getMediumFile(medium)\n        let mediumTitle = tmpMedium.toLowerCase();\n        let mediumTitleArray = mediumTitle.split(\".\");\n        mediumTitle = mediumTitleArray[0];\n        mediumTitleArray = mediumTitle.split(\"_\");\n        mediumTitle = mediumTitleArray.shift(); //remove 1st element in array \n        mediumTitle = mediumTitleArray.join(\" \"); //add elements of array into a string\n        mediumTitle = mediumTitle.charAt(0).toUpperCase() + mediumTitle.slice(1);\n        return mediumTitle;\n    }\n\n\n    renderMedium(medium, currentPhotographer) {\n\n        let mediumTitle = this.extractMediumTitle(medium);\n\n        let mediumThumbnail = this.createMediumDisplay(medium, currentPhotographer, mediumTitle, \"medium_thumbnail\");\n              \n        this.appendThumbnailContent(mediumTitle, medium, mediumThumbnail);\n\n        return mediumThumbnail;\n    }\n\n    appendThumbnailContent(mediumTitle, medium, mediumThumbnail) {\n        let mediumThumbnailContent = document.createElement('div');\n        mediumThumbnailContent.className = \"medium_thumbnail__content\";\n        mediumThumbnailContent.innerHTML = `\n            <h2 class=\"medium_title\">${mediumTitle}</h2>\n            <div class=\"price_and_likes\">\n              <span class=\"medium_price\">${medium.price}â‚¬</span>\n              <span class=\"medium_number_of_likes\">${medium.likes}</span>\n              <label class=\"checkbox__like\"> \n                <input type=\"checkbox\" class=\"checkbox__input\" name=\"like\">\n                    <i class=\"far fa-heart like__unchecked\"></i>\n                    <i class=\"fas fa-heart like__checked\"></i>\n                </input>   \n                </label>\n            </div>\n          </div>`;\n\n        mediumThumbnail.appendChild(mediumThumbnailContent);\n    }\n\n    createMediumDisplay(medium, currentPhotographer, mediumTitle, className, controls = false) {\n        let mediumThumbnail = document.createElement('div');\n        mediumThumbnail.className = className;\n        \n        const mediumType = this.getMediumType(this.getMediumFile(medium));\n\n        var media;\n        switch (mediumType) {\n            case this.mediaEnum.PICTURE: {\n                let tmpMedium = String(medium.image);\n                media = document.createElement('img');\n                media.src = `/static/${currentPhotographer.name.split(' ')[0]}/${tmpMedium}`;\n                break;\n            }\n            case this.mediaEnum.VIDEO: {\n                let tmpMedium = String(medium.video);\n                media = document.createElement('video');\n                let source = document.createElement('source');\n                source.src = `/static/${currentPhotographer.name.split(' ')[0]}/${tmpMedium}`\n                source.type = \"video/mp4\"\n                media.controls = controls;\n                if(controls){\n                    media.autoplay = true\n                }\n                media.appendChild(source);\n                break;\n            }\n            default: tmpMedium = String(\"\");\n\n        }\n        media.className = `${className}__miniature`;\n        media.alt = mediumTitle;\n        mediumThumbnail.appendChild(media);\n        return mediumThumbnail;\n    }\n\n    getMediumFile(medium) {\n        let tmpMedium = medium.image;\n        if (tmpMedium == null) {\n            tmpMedium = medium.video;\n        }\n        return tmpMedium;\n    }\n}\n\n\n","export class ContactModal {\n    constructor(currentPhotographer) {\n        this.currentPhotographer = currentPhotographer;\n    }\n\n    //modal creation \n    renderContactModal() {\n        this.createContactModal();\n        this.createContactModalBody();\n\n        this.contactModal = document.querySelector('.contact_modal');\n    }\n\n    createContactModal() {\n        const contactModal = document.createElement('div');\n        contactModal.className = 'contact_modal';\n\n        document.querySelector('main').appendChild(contactModal);\n    }\n\n    createContactModalBody() {\n        const modalBody = document.createElement('div');\n        modalBody.className = 'contact_modal__body';\n\n        this.appendModalTitle(modalBody);\n        this.appendCloseButton(modalBody);\n        this.appendContactForm(modalBody);\n        this.createModalButton(modalBody);\n\n        document.querySelector('.contact_modal').appendChild(modalBody);\n    }\n\n    appendModalTitle(modalBody) {\n        const modalTitle = document.createElement('h2');\n        modalTitle.className = 'contact_modal__body__title';\n        modalTitle.innerHTML = `Contactez-moi </br> ${this.currentPhotographer.name}`;\n\n        modalBody.appendChild(modalTitle);\n\n    }\n\n    appendCloseButton(modalBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button';\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideContactModal();\n        });\n        modalBody.appendChild(closeButton);\n\n    }\n\n    appendContactForm(modalBody) {\n        const contactForm = document.createElement('form');\n        contactForm.className = 'contact_form';\n        contactForm.setAttribute = (\"method\", \"post\");\n        contactForm.setAttribute = (\"action\", \"submit\");\n\n        this.createFormFields(contactForm);\n        this.addEventListenerValidate(contactForm);\n\n        modalBody.appendChild(contactForm);\n    }\n\n    addEventListenerValidate(contactForm) {\n        const inputs = contactForm.querySelectorAll('.input_field');\n\n        inputs.forEach(input => {\n            input.addEventListener('blur', () => {\n                if (this.validateFieldsFormat(input) === true) {\n                    this.hideErrorMessage(input.parentElement);\n                } else {\n                    if (input.id === \"email\") {\n                        this.showErrorMessage(input.parentElement, 'Veuillez entrer une adresse mail valide')\n                    } else if (input.id === \"message\") {\n                        this.showErrorMessage(input.parentElement, \"Dites-m'en un peu plus...\")\n                    } else {\n                        this.showErrorMessage(input.parentElement, 'Veuillez entrer au moins 2 caractÃ¨res')\n                    }\n                }\n            });\n        });\n    }\n\n    createFormData() {\n        const formData = document.createElement('div');\n        formData.className = 'formData';\n        return formData;\n    }\n\n    createLabel(forParam, textParam) {\n        const label = document.createElement('label');\n        label.setAttribute(\"for\", forParam);\n        label.innerHTML = `${textParam}`;\n        return label;\n    }\n\n    createInputField(id) {\n        const inputField = document.createElement('input');\n        inputField.className = 'input_field';\n        inputField.type = \"text\";\n        inputField.setAttribute(\"id\", id);\n        return inputField;\n    }\n\n    createTextArea(id) {\n        const textAreaInput = document.createElement('textarea');\n        textAreaInput.className = 'input_field';\n        textAreaInput.setAttribute(\"id\", id);\n        textAreaInput.setAttribute(\"rows\", 5);\n        return textAreaInput;\n    }\n\n    createFormFields(contactForm) {\n\n        //Firstname\n        let formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"firstname\", \"PrÃ©nom\"));\n        formData.appendChild(this.createInputField(\"firstname\"));\n        contactForm.appendChild(formData);\n\n        //Lastname\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"lastname\", \"Nom\"));\n        formData.appendChild(this.createInputField(\"lastname\"));\n        contactForm.appendChild(formData);\n\n        //Email\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"email\", \"Email\"));\n        formData.appendChild(this.createInputField(\"email\"));\n        contactForm.appendChild(formData);\n\n        //Message\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"message\", \"Votre message\"));\n        formData.appendChild(this.createTextArea(\"message\"));\n        contactForm.appendChild(formData);\n    }\n\n    createModalButton(modalBody) {\n        const modalButton = document.createElement('button');\n        modalButton.className = 'button_contact submit_button';\n        modalButton.type = \"submit\";\n        modalButton.innerHTML = `Envoyer`;\n\n        modalButton.addEventListener('click', (e) => {\n            const inputs = [...modalBody.querySelectorAll('.input_field')];\n            e.preventDefault();\n            if (this.validateFields(modalBody) === true) {\n                this.hideContactModal();\n                inputs.map(input => {\n                    const fields = {\n                        input: input.id,\n                        inputValue: input.value,\n                    }\n                    return fields;\n                })\n                .forEach((field) => console.log(field.input + \" : \" + field.inputValue));\n            } else {\n                console.log(\"Merci de rensigner les champs\")\n            }\n        });\n        modalBody.appendChild(modalButton);\n    }\n\n    showContactModal() {\n        this.contactModal.style.display = \"block\";\n    }\n\n    hideContactModal() {\n        this.contactModal.style.display = \"none\";\n    }\n\n\n    //fields validation \n\n    //error message is displayed when field is invalid\t\n    showErrorMessage(field, message) {\n        field.setAttribute('data-error', message);\n        field.setAttribute('data-error-visible', 'true');\n    }\n\n    //error message is hidden \n    hideErrorMessage(field) {\n        field.removeAttribute('data-error');\n        field.removeAttribute('data-error-visible');\n    }\n\n    validateFieldsFormat(input) {\n        const fieldFormat = /^[A-Za-z\\-\\sÃ Ã¡Ã¢Ã£Ã¤Ã¥Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã²Ã³Ã´ÃµÃ¶Ã¹ÃºÃ»Ã¼Ã½Ã¿']{2,}$/;\n        const emailAddressFormat = /\\S+@\\S+\\.\\S+/;\n        const messageFormat = /^[A-Za-z\\-\\sÃ Ã¡Ã¢Ã£Ã¤Ã¥Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã²Ã³Ã´ÃµÃ¶Ã¹ÃºÃ»Ã¼Ã½Ã¿'.,;:!?]{5,500}$/;\n\n        if (input.id === \"email\") {\n            if ((input.value.length != 0) && (emailAddressFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        if (input.id === \"message\") {\n            if ((input.value.length != 0) && (messageFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n\n        } else {\n            if ((input.value.length != 0) && (fieldFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    validateFields(modalBody) {\n        const inputs = modalBody.querySelectorAll('.input_field');\n        let outcome = true\n        inputs.forEach(input => {\n            if (this.validateFieldsFormat(input) === false) {\n                outcome = false\n            }\n        });\n        return outcome;\n    }\n}","import { MediaFactory } from './MediaFactory';\n\nexport class LightboxMedia {\n    constructor(allMedia = [], currentPhotographer) {\n        this.allMedia = allMedia;\n        this.currentPhotographer = currentPhotographer;\n\n        this.mediaFactory = new MediaFactory();\n    }\n\n    renderLightboxMedia() {\n        this.createLightboxMedia();\n        this.createLightboxMediaBody();\n\n        this.lightboxMedia = document.querySelector('.lightbox_media');\n    }\n\n    createLightboxMedia() {\n        const lightboxMedia = document.createElement('div');\n        lightboxMedia.className = 'lightbox_media';\n\n        document.querySelector('main').appendChild(lightboxMedia);\n    }\n\n    createLightboxMediaBody() {\n        const lightboxBody = document.createElement('div');\n        lightboxBody.className = 'lightbox_media__body';\n\n        this.appendCloseButton(lightboxBody);\n        this.appendNavButtons(lightboxBody);\n        this.handleNav(lightboxBody);\n        this.appendMediumBox(lightboxBody);\n        this.appendMediumTitle(lightboxBody);\n       \n        document.querySelector('.lightbox_media').appendChild(lightboxBody);\n    }\n\n    appendCloseButton(lightboxBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button_lightbox';\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideLightboxMedia();\n        });\n        lightboxBody.appendChild(closeButton);\n    }\n\n    createNavButton(buttonClass, buttonIcon) {\n        const button = document.createElement('button');\n        button.className = buttonClass;\n        button.innerHTML = `<i class=\"fas ${buttonIcon} fa-3x\"></i>`;\n        return button;\n    }\n\n    appendNavButtons(lightboxBody) {\n        const previousButton = this.createNavButton(\"previous_button\", \"fa-chevron-left\");\n        const nextButton = this.createNavButton(\"next_button\", \"fa-chevron-right\");\n\n        lightboxBody.appendChild(previousButton);\n        lightboxBody.appendChild(nextButton);\n    }\n\n    handleNav(lightboxBody) {\n\n        const previousButton = lightboxBody.querySelector('.previous_button');\n        const nextButton = lightboxBody.querySelector('.next_button');\n\n        previousButton.addEventListener('click', () => {\n\n            const currentIndex = this.allMedia.indexOf(this.medium);\n            const newIndex = currentIndex - 1;\n\n            const nextButton = lightboxBody.querySelector('.next_button');\n            nextButton.style.display = \"block\";\n            \n            if (newIndex >= 0 ) {\n                this.showLightboxMedia(this.allMedia[newIndex], this.currentPhotographer, this.allMedia);\n            } \n\n            if (newIndex == 0) {\n                previousButton.style.display = \"none\"; //disable prev button\n            }\n        });\n\n        nextButton.addEventListener('click', () => {\n            const currentIndex = this.allMedia.indexOf(this.medium);\n            const newIndex = currentIndex + 1;\n\n            const previousButton = lightboxBody.querySelector('.previous_button');\n            previousButton.style.display = \"block\";\n\n            if (newIndex <= this.allMedia.length -1) {\n                this.showLightboxMedia(this.allMedia[newIndex], this.currentPhotographer, this.allMedia);\n            }\n\n            if (newIndex == this.allMedia.length -1) {\n                nextButton.style.display = \"none\";\n            }\n        });\n    }\n\n\n    appendMediumBox(lightboxBody) {\n        const nextButton = lightboxBody.querySelector('.next_button');\n        const mediumBox = document.createElement('div');\n        mediumBox.className = \"medium_box\";\n        lightboxBody.insertBefore(mediumBox, nextButton);\n    }\n\n    appendMediumTitle(lightboxBody) {\n        const mediumTitle = document.createElement('h2');\n        mediumTitle.className = 'lightbox_title';\n        lightboxBody.querySelector('.medium_box').appendChild(mediumTitle);\n    }\n\n    showLightboxMedia(medium, currentPhotographer, allMedia) {\n        this.allMedia = allMedia;\n        this.medium = medium;\n        this.removeLightboxMedium();\n\n        const title =this.mediaFactory.extractMediumTitle(medium);\n        const mediumTitle = document.querySelector('.lightbox_title')\n        mediumTitle.innerHTML = title;\n\n        const lightboxMedium = this.mediaFactory.createMediumDisplay(medium, currentPhotographer, title, \"lightbox_medium\", true);\n        document.querySelector('.medium_box').insertBefore(lightboxMedium, mediumTitle);\n        this.lightboxMedia.style.display = \"block\";        \n    }\n\n    hideLightboxMedia() {\n        this.lightboxMedia.style.display = \"none\";\n    }\n\n    removeLightboxMedium() {\n        const mainNode = document.querySelector('.medium_box')\n        for (let index = mainNode.childNodes.length - 1; index >= 0; index--) {\n            const child = mainNode.childNodes[index];\n            if (child.className != \"lightbox_title\") mainNode.removeChild(child)\n        }\n    }\n}\n","import { MediaFactory } from './MediaFactory';\nimport { ContactModal } from \"./ContactModal\";\nimport { LightboxMedia } from \"./LightboxMedia\";\n\nexport class PhotographerPageBuilder {\n\n    SortEnum = {\n        DATE: \"Date\",\n        POPULARITY: \"PopularitÃ©\",\n        TITLE: \"Titre\",\n    }\n\n    constructor(json) {\n        this.jsonPromise = json\n        this.isDropdownVisible = false //dropdown menu hidden by default\n        this.allMedia = [];\n        this.photographerTags = [];\n        this.selectedMedia = [];\n        this.mediaFactory = new MediaFactory();\n    }\n\n    render(id) {\n        this.idPhotographer = id\n        this.jsonPromise.then((jsonData) => {\n            this.determineCurrentPhotographer(jsonData.photographers);\n            this.determineCurrentPhotographerMedia(jsonData.media);\n\n            this.renderHeader();\n            this.renderMain();\n\n            this.contactModal = new ContactModal(this.currentPhotographer);\n            this.contactModal.renderContactModal();\n\n            this.lightboxMedia = new LightboxMedia(this.allMedia, this.currentPhotographer);\n            this.lightboxMedia.renderLightboxMedia();\n        })\n    }\n\n    renderHeader() {\n        const header = this.createHeader();\n        this.appendLogo(header);\n\n        const main = document.querySelector(\"main\");\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_photographer_page';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.setAttribute(\"href\", \"/\");\n        logo.innerHTML = `<img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"logo\" />`;\n\n        header.appendChild(logo);\n    }\n\n    // for each photographer, \n    //  if their id == photographer wanted \n    //  then save photographer in currentPhotographer \n    determineCurrentPhotographer(photographers) {\n        photographers.forEach(photographer => {\n            if (photographer.id == this.idPhotographer) {\n                this.currentPhotographer = photographer;\n            }\n        });\n    }\n\n    //for each medium, \n    //  if photographer id in media object = id in photographers object,\n    //  then add medium to array\n    determineCurrentPhotographerMedia(media) {\n        media.forEach(medium => {\n            if (medium.photographerId == this.idPhotographer) {\n                this.allMedia.push(medium);\n            }\n        });\n    }\n\n    renderMain() {\n        this.renderBanner();\n        this.renderSummary();\n        this.renderDropdown();\n        this.sortBy(this.SortEnum.POPULARITY);\n    }\n\n\n    //Banner\n\n    renderBanner() {\n        this.createBanner();\n        this.renderBannerContent();\n        this.createBannerButton();\n        this.createBannerPicture();\n    }\n\n    createBanner() {\n        const banner = document.createElement('div');\n        banner.className = 'banner';\n        document.querySelector('main').appendChild(banner);\n    }\n\n    renderBannerContent() {\n        const bannerContent = this.createBannerContent();\n        this.appendBannerName(bannerContent);\n        this.appendBannerLocation(bannerContent);\n        this.appendBannerDesc(bannerContent);\n        this.appendBannerTags(bannerContent);\n        this.appendBannerContentTags(bannerContent);\n    }\n\n    createBannerContent() {\n        const bannerContent = document.createElement('div');\n        bannerContent.className = 'banner__text_content';\n        document.querySelector('.banner').appendChild(bannerContent);\n        return bannerContent;\n\n    }\n\n    appendBannerName(bannerContent) {\n        const bannerTitle = document.createElement('h2');\n        bannerTitle.className = 'photographer_name';\n        bannerTitle.innerHTML = this.currentPhotographer.name;\n        bannerContent.appendChild(bannerTitle);\n    }\n\n    appendBannerLocation(bannerContent) {\n        const bannerLocation = document.createElement('h3');\n        bannerLocation.className = 'photographer_location';\n        bannerLocation.innerHTML = `${this.currentPhotographer.city}, ${this.currentPhotographer.country}`;\n        bannerContent.appendChild(bannerLocation);\n    }\n\n    appendBannerDesc(bannerContent) {\n        const bannerDesc = document.createElement('p');\n        bannerDesc.className = 'photographer_desc';\n        bannerDesc.innerHTML = this.currentPhotographer.tagline;\n        bannerContent.appendChild(bannerDesc);\n    }\n\n    createBannerButton() {\n        const contactButton = document.createElement('button');\n        contactButton.className = 'button_contact button_banner';\n        contactButton.innerHTML = `Contactez-moi`;\n        contactButton.addEventListener('click', () => {\n            this.launchContactModal()\n        });\n        document.querySelector('.banner').appendChild(contactButton);\n    }\n\n    launchContactModal() {\n        this.contactModal.showContactModal();\n    }\n\n    createBannerPicture() {\n        const bannerPicture = document.createElement('div');\n        bannerPicture.className = 'photographer__picture';\n        bannerPicture.innerHTML = `\n            <img\n                class=\"photographer_thumbnail__picture picture_profile\"\n                src=\"/static/Photographers ID Photos/${this.currentPhotographer.portrait}\"\n                alt=\"photographer's thumbnail picture\"\n              />`;\n\n        document.querySelector('.banner').appendChild(bannerPicture);\n    }\n\n    appendBannerTags(bannerContent) {\n        const bannerTags = document.createElement('div');\n        bannerTags.className = 'tags tags_photographer_page';\n        bannerContent.appendChild(bannerTags);\n    }\n\n    appendBannerContentTags(bannerContent) {\n        this.currentPhotographer.tags.forEach(photographerTag => {\n            const bannerTag = document.createElement('div');\n            bannerTag.className = 'photographer_tags__item';\n\n            const checkboxTag = document.createElement('input');\n            checkboxTag.type = \"checkbox\";\n            checkboxTag.className = \"tag_checkbox\"\n            checkboxTag.id = photographerTag;\n            bannerTag.appendChild(checkboxTag)\n\n            const labelTag = document.createElement('label');\n            labelTag.className = \"tag_name\"\n            labelTag.setAttribute(\"for\", photographerTag);\n            labelTag.innerHTML = `#${photographerTag}`;\n            bannerTag.appendChild(labelTag)\n\n            bannerContent.querySelector('.tags_photographer_page').appendChild(bannerTag);\n\n            checkboxTag.addEventListener('change', () => {\n                if (checkboxTag.checked) {\n                    this.photographerTags.push(photographerTag);\n                    this.photographerTags = [...new Set(this.photographerTags)];\n                } else {\n                    const currentIndex = this.photographerTags.indexOf(photographerTag);\n                    this.photographerTags.splice(currentIndex, 1);\n                }\n                console.log(this.photographerTags)\n                this.handleTagClick();\n            });\n        });\n    }\n\n    handleTagClick() {\n        this.removeAllThumbnails();\n        this.sortMedia()\n    }\n\n    sortMedia() {\n       this.selectedMedia = [];\n        this.photographerTags.forEach(clickedPhotographerTag => {\n            this.allMedia.forEach(medium => {\n                medium.tags.forEach(tag => {\n                    if (tag == clickedPhotographerTag) {\n                        this.selectedMedia.push(medium)\n                    }\n                })\n            });\n        });\n\n        if (this.selectedMedia.length == 0) {\n            this.allMedia.forEach(medium => {\n                this.createMediumThumbnail(medium)\n\n            });\n        } else {\n            this.selectedMedia = [...new Set(this.selectedMedia)];\n\n            this.selectedMedia.forEach(selectedMedium => {\n                this.createMediumThumbnail(selectedMedium);\n            });\n        }\n\n    }\n\n\n    //dropdown\n\n    renderDropdown() {\n\n        const dropdownMenu = this.createDropdownMenu();\n        this.appendSortByText(dropdownMenu);\n        this.appendDropdown(dropdownMenu);\n        document.querySelector('main').appendChild(dropdownMenu);\n\n        const dropdrownButton = document.querySelector('.dropdown__button');\n        const dropdrownContent = document.querySelector('.dropdown__content');\n\n        dropdrownButton.addEventListener('click', () => {\n            if (this.isDropdownVisible == false) {\n                dropdrownContent.style.display = \"block\";\n                this.isDropdownVisible = true; //content visibility state \n            } else {\n                dropdrownContent.style.display = \"none\";\n                this.isDropdownVisible = false;\n            }\n        });\n\n        const dropdownItems = document.getElementsByClassName(\"dropdown__content__item\");\n        for (let item of dropdownItems) {\n            item.addEventListener('click', () => {\n                this.handleDropdownItemClick(dropdrownButton, item);\n            })\n        }\n    }\n\n    createDropdownMenu() {\n        const dropdownMenu = document.createElement('div');\n        dropdownMenu.className = \"dropdown_menu\";\n        return dropdownMenu;\n    }\n\n    appendSortByText(dropdownMenu) {\n        const sortBy = document.createElement('span');\n        sortBy.className = 'sort_by';\n        sortBy.innerHTML = `Trier par`;\n        dropdownMenu.appendChild(sortBy);\n    }\n\n    appendDropdown(dropdownMenu) {\n        const dropdown = document.createElement('div');\n        dropdown.className = \"dropdown\";\n        this.appendDropdownButton(dropdown);\n        this.createDropdownContent(dropdown);\n        dropdownMenu.appendChild(dropdown);\n    }\n\n    appendDropdownButton(dropdown) {\n        const dropdownButton = document.createElement('button');\n        dropdownButton.className = 'dropdown__button';\n        dropdownButton.innerHTML = this.SortEnum.POPULARITY;\n        dropdown.appendChild(dropdownButton);\n    }\n\n    createDropdownContent(dropdown) {\n        const dropdownContent = document.createElement('div');\n        dropdownContent.className = 'dropdown__content';\n\n        this.appendDropdownItemDATE(dropdownContent);\n        this.appendDropdownItemTITLE(dropdownContent);\n\n        dropdown.appendChild(dropdownContent);\n    }\n\n    appendDropdownItemDATE(dropdownContent) {\n        const dropdownItemDATE = document.createElement('a');\n        dropdownItemDATE.className = 'dropdown__content__item';\n        dropdownItemDATE.innerHTML = this.SortEnum.DATE;\n        dropdownContent.appendChild(dropdownItemDATE);\n    }\n\n    appendDropdownItemTITLE(dropdownContent) {\n        const dropdownItemTITLE = document.createElement('a');\n        dropdownItemTITLE.className = 'dropdown__content__item';\n        dropdownItemTITLE.innerHTML = this.SortEnum.TITLE;\n        dropdownContent.appendChild(dropdownItemTITLE);\n    }\n\n\n    //sticker photographer total number of likes and price\n\n    renderSummary() {\n        const summary = this.createSummary();\n        this.createTotalLikes(summary);\n        this.createPhotographerPrice(summary);\n\n    }\n\n    createSummary() {\n        const stickerSummary = document.createElement('div');\n        stickerSummary.className = 'sticker_summary';\n        document.querySelector('main').appendChild(stickerSummary);\n        return stickerSummary;\n    }\n\n    createPhotographerPrice(summary) {\n        const price = this.currentPhotographer.price;\n        const photographerPrice = document.createElement('div');\n        photographerPrice.className = \"photographer_price\";\n        photographerPrice.innerHTML = price + \"â‚¬/jour\";\n\n        summary.appendChild(photographerPrice);\n    }\n\n    createTotalLikes(summary) {\n        let numberOfLikes = 0;\n        this.allMedia.forEach(medium => {\n            numberOfLikes = numberOfLikes + medium.likes\n        });\n\n        const totalNumberOfLikes = document.createElement('div');\n        totalNumberOfLikes.className = \"total_likes\";\n\n        totalNumberOfLikes.innerHTML = `\n        <p class=\"total_number_of_likes\">` + numberOfLikes + `</p>\n        <i class=\"fas fa-heart fa-lg\"></i>`;\n\n        summary.appendChild(totalNumberOfLikes);\n    }\n\n    incrementNumberOfLikes(mediumThumbnail) {\n        const likeButton = mediumThumbnail.querySelector('.checkbox__input');\n        const mediumLikes = mediumThumbnail.querySelector('.medium_number_of_likes');\n        const totalLikes = document.querySelector('.total_number_of_likes');\n\n        likeButton.addEventListener('change', () => {\n            if (likeButton.checked) {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) + 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) + 1;\n            } else {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) - 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) - 1;\n            }\n\n        });\n    }\n\n    createMediumThumbnail(medium) {\n        const mediumThumbnail = this.mediaFactory.renderMedium(medium, this.currentPhotographer);\n\n        const main = document.querySelector('main');\n        main.appendChild(mediumThumbnail);\n\n        const mediumThumbnailMiniature = mediumThumbnail.querySelector('.medium_thumbnail__miniature');\n\n        mediumThumbnailMiniature.addEventListener('click', () => {\n            if (this.selectedMedia.length == 0) {\n                this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, this.allMedia)\n            } else {\n                this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, this.selectedMedia)\n            }\n        })\n\n        this.incrementNumberOfLikes(mediumThumbnail);\n    }\n\n    removeAllThumbnails() {\n        const mainNode = document.querySelector('main')\n        for (let index = mainNode.childNodes.length - 1; index >= 0; index--) {\n            const child = mainNode.childNodes[index];\n            if (child.className == \"medium_thumbnail\") {\n                mainNode.removeChild(child)\n            }\n        }\n    }\n\n\n    handleDropdownItemClick(dropdrownButton, item) {\n        dropdrownButton.click();\n\n        this.removeAllThumbnails(); //remove everything\n        this.sortBy(item.innerHTML); //sort\n        this.swapDropdownItems(item, dropdrownButton); //swap\n    }\n\n    swapDropdownItems(item, dropdrownButton) {\n        var temporary = item.innerHTML;\n        item.innerHTML = dropdrownButton.innerHTML;\n        dropdrownButton.innerHTML = temporary;\n    }\n\n    //a & b = media\n    sortBy(sortType) {\n        let sortedMedia = null;\n        switch (sortType) {\n            case this.SortEnum.DATE:\n                sortedMedia = this.allMedia.sort((a, b) => new Date(b.date) - new Date(a.date))\n                break;\n            case this.SortEnum.POPULARITY:\n                sortedMedia = this.allMedia.sort((a, b) => b.likes - a.likes);\n                \n                break;\n            case this.SortEnum.TITLE:\n                sortedMedia = this.allMedia.sort((a,b) => this.compareTitle(a,b));\n                break;\n        }\n        sortedMedia.forEach(sortedMedium => {\n            this.createMediumThumbnail(sortedMedium)\n        })\n    }\n\n    compareTitle(a,b){\n        const t1 = this.mediaFactory.extractMediumTitle(a)\n        const t2 = this.mediaFactory.extractMediumTitle(b)\n\n        return t1.localeCompare(t2, 'fr')\n    }\n}","export class HomePageBuilder {\n    constructor(json) {\n        this.dataPromise = json\n        this.clickedNavTags = [];\n    }\n\n    //display header and main (home page)\n    render() {\n        this.dataPromise\n            .then((jsonData) => {\n                let photographers = jsonData.photographers\n\n                this.renderHeader(photographers)\n                this.renderMain(photographers)\n            })\n    }\n\n    renderHeader(photographers) {\n        const header = this.createHeader()\n        this.appendLogo(header)\n        this.appendMainNav(photographers, header)\n\n        const main = document.querySelector(\"main\");\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_home';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.innerHTML = `\n        <img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"logo\" />\n        `;\n\n        header.appendChild(logo);\n    }\n\n    appendMainNav(photographers, header) {\n        const mainNav = document.createElement('nav');\n        mainNav.className = 'main_nav';\n\n        this.appendNavTags(photographers, mainNav)\n        header.appendChild(mainNav);\n    }\n\n    appendNavTags(photographers, nav) {\n        const allTags = photographers.map(photographer => photographer.tags).flat()\n        const distinctTags = [...new Set(allTags)] //remove duplicates\n\n        //add each tag dynamically in the nav\n        distinctTags.forEach(tag => {\n            const tagName = tag.charAt(0).toUpperCase() + tag.substring(1);\n            const headerTag = document.createElement('div');\n            headerTag.className = 'main_nav__item';\n\n            const checkboxTag = document.createElement('input');\n            checkboxTag.type = \"checkbox\";\n            checkboxTag.className = \"tag_checkbox\"\n            checkboxTag.id = tagName;\n            headerTag.appendChild(checkboxTag)\n\n            const labelTag = document.createElement('label');\n            labelTag.className = \"tag_name\"\n            labelTag.setAttribute(\"for\", tagName);\n            labelTag.innerHTML = `#${tagName}`;\n            headerTag.appendChild(labelTag)\n\n            nav.appendChild(headerTag);\n\n            //listen to clicks on main nav tags\n            headerTag.addEventListener(\"change\", () => {\n\n                if (checkboxTag.checked) {\n                this.clickedNavTags.push(tag);\n                this.clickedNavTags = [...new Set(this.clickedNavTags)];\n                } else {\n                    const currentIndex = this.clickedNavTags.indexOf(tag);\n                    this.clickedNavTags.splice(currentIndex, 1);\n                }\n                this.handleTagClick(photographers)\n            });\n        });\n    }\n\n    createLabel(forParam, textParam) {\n        const label = document.createElement('label');\n        label.setAttribute(\"for\", forParam);\n        label.innerHTML = `${textParam}`;\n        return label;\n    }\n\n    createInputField(id) {\n        const inputField = document.createElement('input');\n        inputField.className = 'input_field';\n        inputField.type = \"text\";\n        inputField.setAttribute(\"id\", id);\n        return inputField;\n    }\n\n    handleTagClick(photographers) {\n        this.removeAllThumbnails();\n        this.sortPhotographers(photographers)\n    }\n\n    removeAllThumbnails() {\n        const photographersNode = document.querySelector('.photographers')\n        for (let index = photographersNode.childNodes.length - 1; index >= 0 ; index--) {\n            const child = photographersNode.childNodes[index];\n            photographersNode.removeChild(child)\n        }\n    }\n\n    sortPhotographers(photographers) {\n        let selectedPhotographers = [];\n        this.clickedNavTags.forEach(clickedNavTag => {\n            photographers.forEach(photographer => {\n                if (photographer.tags.includes(clickedNavTag)) {\n                    selectedPhotographers.push(photographer)\n                }\n            });\n        });\n\n        if (this.clickedNavTags.length == 0) {\n            this.createArticle(photographers)\n        } else {\n            selectedPhotographers = [...new Set(selectedPhotographers)];\n            this.createArticle(selectedPhotographers)\n        }\n        \n    }    \n\n    renderMain(photographers) {\n        this.createMainTitle()\n        this.createArticle(photographers)\n    }\n\n    createMainTitle() {\n        const title = document.createElement('h1')\n        title.className = 'main_title'\n        title.innerHTML = `Nos photographes`\n        document.querySelector(\"main\").appendChild(title)\n    }\n\n    createArticle(photographers) {\n\n        photographers.forEach(photographer => {\n\n            const article = document.createElement('article')\n            article.className = 'article';\n            article.innerHTML = `<a class=\"photographer_thumbnail\" href=\"/photographers-profile/${photographer.id}\">`;\n\n            this.appendPhotographerThumbnailPicture(article, photographer);\n            this.appendPhotographerThumbnailContent(article, photographer);\n\n            document.querySelector('.photographers').appendChild(article);\n        });\n    }\n\n    appendPhotographerThumbnailPicture(article, photographer) {\n        const thumbnailPicture = document.createElement('a')\n        thumbnailPicture.className = 'photographer_thumbnail__picture';\n        thumbnailPicture.innerHTML = `\n        <img class=\"photographer_thumbnail__picture\"\n        src=\"/static/Photographers ID Photos/${photographer.portrait}\"\n        alt=\"photographer's thumbnail picture\" />`;\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailPicture);\n    }\n\n    appendPhotographerThumbnailContent(article, photographer) {\n        const thumbnailContent = document.createElement('div')\n        thumbnailContent.className = 'photographer_thumbnail__content';\n        thumbnailContent.innerHTML = `\n        <h2 class=\"photographer_name\">${photographer.name}</h2>\n        <h3 class=\"photographer_location\">${photographer.city}, ${photographer.country}</h3>\n        <p class=\"photographer_desc\">${photographer.tagline}</p>\n        <p class=\"photographer_price\">${photographer.price}â‚¬/jour</p>\n        <div class=\"tags\"></div>`;\n\n        photographer.tags.forEach(photographerTag => {\n            const tag = document.createElement('a')\n            tag.className = 'tags__item';\n            tag.innerHTML = `<span>#${photographerTag}</span>`\n            thumbnailContent.querySelector('.tags').appendChild(tag)\n        })\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailContent);\n    }\n}\n","import { PhotographerPageBuilder } from \"./PhotographerPageBuilder\";\nimport { HomePageBuilder } from \"./HomePageBuilder\";\n\nexport const PageFactoryEnum = {\n    HOME: \"home\",\n    PHOTOGRAPHER : \"photographer\",\n}\n//Map[key] = value\nlet registeredPages = new Map([\n    [PageFactoryEnum.PHOTOGRAPHER, PhotographerPageBuilder],\n    [PageFactoryEnum.HOME, HomePageBuilder]\n])\n\nexport class PageFactory {\n    getPage(type, props) {\n        return new (registeredPages.get(type))(props);\n    }\n}\n\n","export class DataFetcher {\n    constructor(dataSource) {\n        this.dataSource = dataSource; //json file\n    }\n\n    async fetchSource() {\n        const resp = await fetch(this.dataSource); // ressource request\n        //console.log(resp);\n        return await resp.json();\n    }\n}","import { PageFactory, PageFactoryEnum } from './scripts/factory/PageFactory';\nimport { DataFetcher } from './scripts/utils/DataFetcher';\n\nconst dataFetcher = new DataFetcher('/static/FishEyeDataFR.json');\nconst json =  dataFetcher.fetchSource()\nconst pageFactory = new PageFactory();\n\n//possible routes\nconst routes = [\n    {\n        regex: /\\/{1}$/gm,\n        component: pageFactory.getPage(PageFactoryEnum.HOME, json)\n    },\n    {\n        regex: /\\/[A-Za-z\\-]{1,}\\/[0-9]{0,3}?$/, \n        component: pageFactory.getPage(PageFactoryEnum.PHOTOGRAPHER, json)\n    },\n];\n\nexport const router = () => {\n    const idPhotographer = location.pathname.split('/')[2];\n    routes.find(route => route.regex.test(location.pathname)).component.render(idPhotographer)\n};","import { router } from './Router';\n\nwindow.addEventListener('hashchange', router); // identifier of the URL changes\nwindow.addEventListener('load', router); // ressource has loaded","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] âœ¨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] ðŸš¨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">ðŸš¨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}