{"version":3,"sources":["scripts/factory/MediaFactory.js","scripts/factory/ContactModal.js","scripts/factory/LightboxMedia.js","scripts/factory/PhotographerPageBuilder.js","scripts/factory/HomePageBuilder.js","scripts/factory/PageFactory.js","scripts/utils/DataFetcher.js","Router.js","index.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["MediaFactory","PICTURE","VIDEO","tmpMedium","extension","split","pop","test","mediaEnum","medium","getMediumFile","mediumTitle","toLowerCase","mediumTitleArray","shift","join","charAt","toUpperCase","slice","currentPhotographer","extractMediumTitle","mediumThumbnail","createMediumDisplay","appendThumbnailContent","mediumThumbnailContent","document","createElement","className","innerHTML","price","likes","appendChild","controls","mediumType","getMediumType","media","String","image","src","name","video","source","type","autoplay","alt","ContactModal","createContactModal","createContactModalBody","contactModal","querySelector","modalBody","appendModalTitle","appendCloseButton","appendContactForm","createModalButton","modalTitle","closeButton","addEventListener","hideContactModal","contactForm","setAttribute","createFormFields","addEventListenerOnInputs","formData","createFormData","createLabel","createInputField","createTextArea","forParam","textParam","label","id","inputField","textAreaInput","modalButton","style","display","field","message","removeAttribute","text","fieldFormat","emailAddressFormat","inputs","querySelectorAll","forEach","input","length","validateFieldsFormat","value","hideErrorMessage","parentElement","console","log","showErrorMessage","form","e","preventDefault","LightboxMedia","allMedia","mediaFactory","createLightboxMedia","createLightboxMediaBody","lightboxMedia","lightboxBody","appendPreviousButton","appendMediumBox","appendNextButton","hideLightboxMedia","previousButton","currentIndex","indexOf","newIndex","showLightboxMedia","mediumBox","nextButton","title","removeLightboxMedium","lightboxMedium","mainNode","index","childNodes","child","removeChild","PhotographerPageBuilder","props","DATE","POPULARITY","TITLE","jsonPromise","json","isDropdownVisible","photographerTags","idPhotographer","then","jsonData","determineCurrentPhotographer","photographers","determineCurrentPhotographerMedia","renderHeader","renderMain","renderContactModal","renderLightboxMedia","header","createHeader","appendLogo","main","insertBefore","logo","photographer","photographerId","push","renderBanner","renderSummary","renderDropdown","sortBy","SortEnum","createBanner","renderBannerContent","createBannerButton","createBannerPicture","banner","bannerContent","createBannerContent","appendBannerName","appendBannerLocation","appendBannerDesc","appendBannerTags","appendBannerContentTags","bannerTitle","bannerLocation","city","country","bannerDesc","tagline","bannerTags","tags","photographerTag","tag","Set","handleTagClick","removeAllThumbnails","sortMedia","selectedMedia","clickedPhotographerTag","selectedMedium","createMediumThumbnail","contactButton","launchContactModal","bannerPicture","portrait","showContactModal","summary","createSummary","createTotalLikes","createPhotographerPrice","stickerSummary","photographerPrice","numberOfLikes","totalNumberOfLikes","likeButton","mediumLikes","totalLikes","checked","parseInt","renderMedium","mediumThumbnailMiniature","getAttribute","incrementNumberOfLikes","dropdownMenu","createDropdownMenu","appendSortByText","appendDropdown","dropdrownButton","dropdrownContent","dropdownItems","getElementsByClassName","item","handleDropdownItemClick","dropdown","appendDropdownButton","createDropdownContent","dropdownButton","dropdownContent","appendDropdownItemDATE","appendDropdownItemTITLE","dropdownItemDATE","dropdownItemTITLE","click","swapDropdownItems","temporary","sortType","sortedMedia","sort","a","b","Date","date","compareTitle","sortedMedium","t1","t2","localeCompare","HomePageBuilder","dataPromise","clickedNavTags","appendMainNav","mainNav","appendNavTags","nav","allTags","map","flat","distinctTags","headerTag","tagName","substring","event","sortPhotographers","photographersNode","selectedPhotographers","clickedNavTag","includes","createArticle","createMainTitle","article","appendPhotographerThumbnailPicture","appendPhotographerThumbnailContent","thumbnailPicture","thumbnailContent","registeredPages","PageFactory","DataFetcher","dataSource","fetch","resp","dataFetcher","fetchSource","pageFactory","routes","path","component","getPage","photographerURLRegex","router","potentialMatches","route","result","location","pathname","matchedPage","find","potentialMatch","render","window","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","body","getElementById","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"P6-Fisheye.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export class MediaFactory {\n    constructor() {\n    }\n\n    mediaEnum = {\n        PICTURE: \"picture\",\n        VIDEO: \"video\",\n    }\n\n    getMediumType(tmpMedium) {\n        let extension = tmpMedium.split('.').pop();\n        if (/(jpg)$/ig.test(extension)) {\n            return this.mediaEnum.PICTURE;\n        }\n        if (/(mp4)$/ig.test(extension)) {\n            return this.mediaEnum.VIDEO;\n        }\n    }\n\n    extractMediumTitle(medium) {\n\n        let tmpMedium = this.getMediumFile(medium)\n\n        let mediumTitle = tmpMedium.toLowerCase();\n        let mediumTitleArray = mediumTitle.split(\".\");\n        mediumTitle = mediumTitleArray[0];\n        mediumTitleArray = mediumTitle.split(\"_\");\n        mediumTitle = mediumTitleArray.shift(); //remove 1st element in array \n        mediumTitle = mediumTitleArray.join(\" \"); //add elements of array into a string\n        mediumTitle = mediumTitle.charAt(0).toUpperCase() + mediumTitle.slice(1);\n        return mediumTitle;\n    }\n\n\n    renderMedium(medium, currentPhotographer) {\n\n        let mediumTitle = this.extractMediumTitle(medium);\n\n        let mediumThumbnail = this.createMediumDisplay(medium, currentPhotographer, mediumTitle, \"medium_thumbnail\");\n              \n        this.appendThumbnailContent(mediumTitle, medium, mediumThumbnail);\n\n        return mediumThumbnail;\n    }\n\n    appendThumbnailContent(mediumTitle, medium, mediumThumbnail) {\n        let mediumThumbnailContent = document.createElement('div');\n        mediumThumbnailContent.className = \"medium_thumbnail__content\";\n        mediumThumbnailContent.innerHTML = `\n            <h2 class=\"medium_title\">${mediumTitle}</h2>\n            <div class=\"price_and_likes\">\n              <span class=\"medium_price\">${medium.price}€</span>\n              <span class=\"medium_number_of_likes\">${medium.likes}</span>\n              <label class=\"checkbox__like\"> \n                <input type=\"checkbox\" class=\"checkbox__input\" name=\"like\">\n                    <i class=\"far fa-heart like__unchecked\"></i>\n                    <i class=\"fas fa-heart like__checked\"></i>\n                </input>   \n                </label>\n            </div>\n          </div>`;\n\n        mediumThumbnail.appendChild(mediumThumbnailContent);\n    }\n\n    createMediumDisplay(medium, currentPhotographer, mediumTitle, className, controls = false) {\n        let mediumThumbnail = document.createElement('div');\n        mediumThumbnail.className = className;\n        \n        const mediumType = this.getMediumType(this.getMediumFile(medium));\n\n        var media;\n        switch (mediumType) {\n            case this.mediaEnum.PICTURE: {\n                let tmpMedium = String(medium.image);\n                media = document.createElement('img');\n                media.src = `/static/${currentPhotographer.name.split(' ')[0]}/${tmpMedium}`;\n                break;\n            }\n            case this.mediaEnum.VIDEO: {\n                let tmpMedium = String(medium.video);\n                media = document.createElement('video');\n                let source = document.createElement('source');\n                source.src = `/static/${currentPhotographer.name.split(' ')[0]}/${tmpMedium}`\n                source.type = \"video/mp4\"\n                media.controls = controls;\n                if(controls){\n                    media.autoplay = true\n                }\n                media.appendChild(source);\n                break;\n            }\n            default: tmpMedium = String(\"\");\n\n        }\n        media.className = `${className}__miniature`;\n        media.alt = mediumTitle;\n        mediumThumbnail.appendChild(media);\n        return mediumThumbnail;\n    }\n\n    getMediumFile(medium) {\n        let tmpMedium = medium.image;\n        if (tmpMedium == null) {\n            tmpMedium = medium.video;\n        }\n        return tmpMedium;\n    }\n}\n\n\n","export class ContactModal {\n    constructor(currentPhotographer) {\n        this.currentPhotographer = currentPhotographer;\n    }\n\n    //modal creation \n\n    renderContactModal() {\n        this.createContactModal();\n        this.createContactModalBody();\n        \n        this.contactModal = document.querySelector('.contact_modal');\n    }\n\n    createContactModal() {\n        const contactModal = document.createElement('div');\n        contactModal.className = 'contact_modal';\n\n        document.querySelector('main').appendChild(contactModal);\n    }\n\n    createContactModalBody() {\n        const modalBody = document.createElement('div');\n        modalBody.className = 'contact_modal__body';\n\n        this.appendModalTitle(modalBody);\n        this.appendCloseButton(modalBody);\n        this.appendContactForm(modalBody);\n        this.createModalButton(modalBody);\n        \n\n        document.querySelector('.contact_modal').appendChild(modalBody);\n    }\n\n    appendModalTitle(modalBody) {\n        const modalTitle = document.createElement('h2');\n        modalTitle.className = 'contact_modal__body__title';\n        modalTitle.innerHTML = `Contactez-moi </br> ${this.currentPhotographer.name}`;\n\n        modalBody.appendChild(modalTitle);\n\n    }\n\n    appendCloseButton(modalBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button';\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideContactModal();\n        });\n        modalBody.appendChild(closeButton);\n\n    }\n\n    appendContactForm(modalBody) {\n        const contactForm = document.createElement('form');\n        contactForm.className = 'contact_form';\n        contactForm.setAttribute = (\"method\", \"post\");\n        contactForm.setAttribute = (\"action\", \"submit\");\n\n        this.createFormFields(contactForm);\n        this.addEventListenerOnInputs(contactForm);\n\n        modalBody.appendChild(contactForm);\n    }\n\n    createFormFields(contactForm) {\n\n        //Firstname\n        let formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"firstname\", \"Prénom\"));\n        formData.appendChild(this.createInputField(\"firstname\"));\n        contactForm.appendChild(formData);\n\n        //Lastname\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"lastname\", \"Nom\"));\n        formData.appendChild(this.createInputField(\"lastname\"));\n        contactForm.appendChild(formData);\n\n        //Email\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"email\", \"Email\"));\n        formData.appendChild(this.createInputField(\"email\"));\n        contactForm.appendChild(formData);\n\n        //Message\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"message\", \"Votre message\"));\n        formData.appendChild(this.createTextArea(\"message\"));\n        contactForm.appendChild(formData);\n    }\n\n\n    createFormData() {\n        const formData = document.createElement('div');\n        formData.className = 'formData';\n        formData.innerHTML = ``;\n        return formData;\n    }\n\n    createLabel(forParam, textParam) {\n        const label = document.createElement('label');\n        label.setAttribute(\"for\", forParam);\n        label.innerHTML = `${textParam}`;\n        return label;\n    }\n\n    createInputField(id) {\n        const inputField = document.createElement('input');\n        inputField.className = 'input_field';\n        inputField.type = \"text\";\n        inputField.setAttribute(\"id\", id);\n        return inputField;\n    }\n\n    createTextArea(id) {\n        const textAreaInput = document.createElement('textarea');\n        textAreaInput.className = 'input_field';\n        textAreaInput.setAttribute(\"id\", id);\n        textAreaInput.setAttribute(\"rows\", 5);\n        return textAreaInput;\n    }\n\n    createModalButton(modalBody) {\n        const modalButton = document.createElement('button');\n        modalButton.className = 'button_contact submit_button';\n        modalButton.innerHTML = `Envoyer`;\n        modalBody.appendChild(modalButton);\n    }\n\n    showContactModal() {\n        this.contactModal.style.display = \"block\";\n    }\n\n    hideContactModal() {\n        this.contactModal.style.display = \"none\";\n    }\n\n\n    //fields validation \n    \n\n    //error message is displayed when field is invalid\t\n    showErrorMessage(field, message) {\n        field.setAttribute('data-error', message);\n        field.setAttribute('data-error-visible', 'true');\n    }\n  \n  //error message is hidden \n    hideErrorMessage(field) {\n        field.removeAttribute('data-error');\n        field.removeAttribute('data-error-visible');\n    }\n\n    validateFieldsFormat(text) {\n        const fieldFormat = /^[A-Za-z\\-\\sàáâãäåçèéêëìíîïðòóôõöùúûüýÿ']{2,}$/;\n        const emailAddressFormat = /\\S+@\\S+\\.\\S+/;\n\n        const inputs = document.querySelectorAll('.input_field');\n\n        inputs.forEach(input => {\n            if (input.id === \"email\") {\n                if ((text.length != 0) && (emailAddressFormat.test(text))) {\n                    return true;\n                } else {\n                    return false;\n                }\n            } else {\n                if ((text.length != 0) && (fieldFormat.test(text))) {\n                    return true;\n                } else {\n                    return false;\n                }\n            }\n        });\n    }\n\n    addEventListenerOnInputs(contactForm) {\n        const inputs = contactForm.querySelectorAll('.input_field');\n\n        inputs.forEach(input => {\n            input.addEventListener('blur', () => {\n                if (this.validateFieldsFormat(input.value) === true) {\n                    this.hideErrorMessage(input.parentElement)\n                } else {\n                    console.log(`input ${input.id} got an error`)\n                    this.showErrorMessage(input.parentElement, 'Veuillez entrer au moins 2 caractères')\n                }\n            });\n        });\n    }\n\n    submitForm() {\n        const form = document.querySelector('.contact_form');\n\n        form.addEventListener('submit', () => {\n            e.preventDefault();\n            console.log(inputs);\n            this.hideContactModal();\n        })\n    }\n\n}","import { MediaFactory } from './MediaFactory';\n\nexport class LightboxMedia {\n    constructor(allMedia = [], currentPhotographer) {\n        this.allMedia = allMedia;\n        this.currentPhotographer = currentPhotographer;\n\n        this.mediaFactory = new MediaFactory();\n    }\n\n    renderLightboxMedia() {\n        this.createLightboxMedia();\n        this.createLightboxMediaBody();\n\n        this.lightboxMedia = document.querySelector('.lightbox_media');\n    }\n\n    createLightboxMedia() {\n        const lightboxMedia = document.createElement('div');\n        lightboxMedia.className = 'lightbox_media';\n\n        document.querySelector('main').appendChild(lightboxMedia);\n    }\n\n    createLightboxMediaBody() {\n        const lightboxBody = document.createElement('div');\n        lightboxBody.className = 'lightbox_media__body';\n\n        this.appendCloseButton(lightboxBody);\n        this.appendPreviousButton(lightboxBody);\n        this.appendMediumBox(lightboxBody);\n        this.appendNextButton(lightboxBody);\n\n        document.querySelector('.lightbox_media').appendChild(lightboxBody);\n    }\n\n    appendCloseButton(lightboxBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button_lightbox';\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideLightboxMedia();\n        });\n        lightboxBody.appendChild(closeButton);\n    }\n\n    appendPreviousButton(lightboxBody) {\n        const previousButton = document.createElement('button');\n        previousButton.className = 'previous_button';\n        previousButton.innerHTML = `<i class=\"fas fa-chevron-left fa-3x\"></i>`;\n        previousButton.addEventListener('click', () => {\n\n            const currentIndex = this.allMedia.indexOf(this.medium);\n            const newIndex = currentIndex - 1;\n            if (newIndex >= 0 ) {\n                this.showLightboxMedia(this.allMedia[newIndex], this.currentPhotographer, \"toto\", this.allMedia)\n            }\n        })\n        lightboxBody.appendChild(previousButton);\n    }\n    \n    appendMediumBox(lightboxBody) {\n        const mediumBox = document.createElement('div');\n        mediumBox.className = \"medium_box\";\n\n        lightboxBody.appendChild(mediumBox);\n    }\n\n    appendMedium() {\n\n    }\n\n    appendNextButton(lightboxBody) {\n        const nextButton = document.createElement('button');\n        nextButton.className = 'next_button';\n        nextButton.innerHTML = `<i class=\"fas fa-chevron-right fa-3x\"></i>`;\n        nextButton.addEventListener('click', () => {\n            const currentIndex = this.allMedia.indexOf(this.medium);\n            const newIndex = currentIndex + 1;\n            if (newIndex <= this.allMedia.length -1) {\n                this.showLightboxMedia(this.allMedia[newIndex], this.currentPhotographer, \"toto\", this.allMedia)\n            }\n        });\n\n        lightboxBody.appendChild(nextButton);\n    }\n\n    showLightboxMedia(medium, currentPhotographer, title, allMedia) {\n        this.allMedia = allMedia;\n        this.medium = medium;\n        this.removeLightboxMedium();\n        const lightboxMedium = this.mediaFactory.createMediumDisplay(medium, currentPhotographer, title, \"lightbox_medium\", true);\n        document.querySelector('.medium_box').appendChild(lightboxMedium);\n        this.lightboxMedia.style.display = \"block\";\n    }\n\n    hideLightboxMedia() {\n        this.lightboxMedia.style.display = \"none\";\n    }\n\n    removeLightboxMedium() {\n        const mainNode = document.querySelector('.medium_box')\n        for (let index = mainNode.childNodes.length - 1; index >= 0; index--) {\n            const child = mainNode.childNodes[index];\n            mainNode.removeChild(child)\n        }\n    }\n}\n","import { MediaFactory } from './MediaFactory';\nimport { ContactModal } from \"./ContactModal\";\nimport { LightboxMedia } from \"./LightboxMedia\";\n\nexport class PhotographerPageBuilder {\n\n    SortEnum = {\n        DATE: \"Date\",\n        POPULARITY: \"Popularité\",\n        TITLE: \"Titre\",\n    }\n\n    constructor(props) {\n        this.jsonPromise = props.json\n        this.isDropdownVisible = false //dropdown menu hidden by default\n        this.allMedia = [];\n        this.photographerTags = [];\n\n        this.mediaFactory = new MediaFactory();\n    }\n\n    render(id) {\n        this.idPhotographer = id\n        this.jsonPromise.then((jsonData) => {\n            this.determineCurrentPhotographer(jsonData.photographers);\n            this.determineCurrentPhotographerMedia(jsonData.media);\n\n            this.renderHeader();\n            this.renderMain();\n\n            this.contactModal = new ContactModal(this.currentPhotographer);\n            this.contactModal.renderContactModal();\n\n            this.lightboxMedia = new LightboxMedia(this.allMedia, this.currentPhotographer);\n            this.lightboxMedia.renderLightboxMedia();\n        })\n    }\n\n    renderHeader() {\n        const header = this.createHeader();\n        this.appendLogo(header);\n\n        const main = document.querySelector(\"main\");\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_photographer_page';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.setAttribute(\"href\", \"/\");\n        logo.innerHTML = `<img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"logo\" />`;\n\n        header.appendChild(logo);\n    }\n\n    // for each photographer, \n    //  if their id == photographer wanted \n    //  then save photographer in currentPhotographer \n    determineCurrentPhotographer(photographers) {\n        photographers.forEach(photographer => {\n            if (photographer.id == this.idPhotographer) {\n                this.currentPhotographer = photographer;\n            }\n        });\n    }\n\n    //for each medium, \n    //  if photographer id in media object = id in photographers object,\n    //  then add medium to array\n    determineCurrentPhotographerMedia(media) {\n        media.forEach(medium => {\n            if (medium.photographerId == this.idPhotographer) {\n                this.allMedia.push(medium);\n            }\n        });\n    }\n\n    renderMain() {\n        this.renderBanner();\n        this.renderSummary();\n        this.renderDropdown();\n        this.sortBy(this.SortEnum.POPULARITY);\n    }\n\n    renderBanner() {\n        this.createBanner();\n        this.renderBannerContent();\n        this.createBannerButton();\n        this.createBannerPicture();\n    }\n\n\n    createBanner() {\n        const banner = document.createElement('div');\n        banner.className = 'banner';\n        document.querySelector('main').appendChild(banner);\n    }\n\n    renderBannerContent() {\n        const bannerContent = this.createBannerContent();\n        this.appendBannerName(bannerContent);\n        this.appendBannerLocation(bannerContent);\n        this.appendBannerDesc(bannerContent);\n        this.appendBannerTags(bannerContent);\n        this.appendBannerContentTags(bannerContent);\n    }\n\n\n    createBannerContent() {\n        const bannerContent = document.createElement('div');\n        bannerContent.className = 'banner__text_content';\n        document.querySelector('.banner').appendChild(bannerContent);\n        return bannerContent;\n\n    }\n\n    appendBannerName(bannerContent) {\n        const bannerTitle = document.createElement('h2');\n        bannerTitle.className = 'photographer_name';\n        bannerTitle.innerHTML = this.currentPhotographer.name;\n        bannerContent.appendChild(bannerTitle);\n    }\n\n    appendBannerLocation(bannerContent) {\n        const bannerLocation = document.createElement('h3');\n        bannerLocation.className = 'photographer_location';\n        bannerLocation.innerHTML = `${this.currentPhotographer.city}, ${this.currentPhotographer.country}`;\n        bannerContent.appendChild(bannerLocation);\n    }\n\n    appendBannerDesc(bannerContent) {\n        const bannerDesc = document.createElement('p');\n        bannerDesc.className = 'photographer_desc';\n        bannerDesc.innerHTML = this.currentPhotographer.tagline;\n        bannerContent.appendChild(bannerDesc);\n    }\n\n    appendBannerTags(bannerContent) {\n        const bannerTags = document.createElement('div');\n        bannerTags.className = 'tags tags_photographer_page';\n        bannerContent.appendChild(bannerTags);\n    }\n\n    appendBannerContentTags(bannerTags) {\n        this.currentPhotographer.tags.forEach(photographerTag => {\n            const tag = document.createElement('a');\n            tag.className = 'tags__item';\n            tag.innerHTML = `<span>#${photographerTag}</span>`;\n            bannerTags.querySelector('.tags').appendChild(tag);\n\n            tag.addEventListener('click', () => {\n                this.photographerTags.push(photographerTag);\n                this.photographerTags = [...new Set(this.photographerTags)];\n                this.handleTagClick();\n            });\n        });\n    }\n\n    handleTagClick() {\n        this.removeAllThumbnails();\n        this.sortMedia()\n    }\n\n    sortMedia() {\n        let selectedMedia = [];\n        this.photographerTags.forEach(clickedPhotographerTag => {\n            this.allMedia.forEach(medium => {\n                medium.tags.forEach(tag => {\n                    if (tag == clickedPhotographerTag) {\n                        selectedMedia.push(medium)\n                    }\n                })\n            });\n        });\n\n        selectedMedia = [...new Set(selectedMedia)];\n\n        selectedMedia.forEach(selectedMedium => {\n            this.createMediumThumbnail(selectedMedium);\n        })\n    }\n\n\n    createBannerButton() {\n        const contactButton = document.createElement('button');\n        contactButton.className = 'button_contact';\n        contactButton.innerHTML = `Contactez-moi`;\n        contactButton.addEventListener('click', () => {\n            this.launchContactModal()\n        });\n        document.querySelector('.banner').appendChild(contactButton);\n\n    }\n\n    createBannerPicture() {\n        const bannerPicture = document.createElement('div');\n        bannerPicture.className = 'photographer__picture';\n        bannerPicture.innerHTML = `\n            <img\n                class=\"photographer_thumbnail__picture picture_profile\"\n                src=\"/static/Photographers ID Photos/${this.currentPhotographer.portrait}\"\n                alt=\"photographer's thumbnail picture\"\n              />`;\n\n        document.querySelector('.banner').appendChild(bannerPicture);\n    }\n\n    launchContactModal() {\n        this.contactModal.showContactModal();\n    }\n\n    //sticker photographer total number of likes and price\n\n    renderSummary() {\n        const summary = this.createSummary();\n        this.createTotalLikes(summary);\n        this.createPhotographerPrice(summary);\n\n    }\n\n    createSummary() {\n        const stickerSummary = document.createElement('div');\n        stickerSummary.className = 'sticker_summary';\n        document.querySelector('main').appendChild(stickerSummary);\n        return stickerSummary;\n    }\n\n    createPhotographerPrice(summary) {\n        const price = this.currentPhotographer.price;\n        const photographerPrice = document.createElement('div');\n        photographerPrice.className = \"photographer_price\";\n        photographerPrice.innerHTML = price + \"€/jour\";\n\n        summary.appendChild(photographerPrice);\n    }\n\n    createTotalLikes(summary) {\n        let numberOfLikes = 0;\n        this.allMedia.forEach(medium => {\n            numberOfLikes = numberOfLikes + medium.likes\n        });\n\n        const totalNumberOfLikes = document.createElement('div');\n        totalNumberOfLikes.className = \"total_likes\";\n\n        totalNumberOfLikes.innerHTML = `\n        <p class=\"total_number_of_likes\">` + numberOfLikes + `</p>\n        <i class=\"fas fa-heart fa-lg\"></i>`;\n\n        summary.appendChild(totalNumberOfLikes);\n    }\n\n    incrementNumberOfLikes(mediumThumbnail) {\n        const likeButton = mediumThumbnail.querySelector('.checkbox__input');\n        const mediumLikes = mediumThumbnail.querySelector('.medium_number_of_likes');\n        const totalLikes = document.querySelector('.total_number_of_likes');\n\n        likeButton.addEventListener('change', () => {\n            if (likeButton.checked) {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) + 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) + 1;\n            } else {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) - 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) - 1;\n            }\n\n        });\n    }\n\n    createMediumThumbnail(medium) {\n        const mediumThumbnail = this.mediaFactory.renderMedium(medium, this.currentPhotographer);\n\n        const main = document.querySelector('main');\n        main.appendChild(mediumThumbnail);\n\n        const mediumThumbnailMiniature = mediumThumbnail.querySelector('.medium_thumbnail__miniature');\n\n        mediumThumbnailMiniature.addEventListener('click', () => {\n            const title = mediumThumbnail.querySelector(\".medium_thumbnail__miniature\").getAttribute(\"alt\");\n\n            this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, title, this.allMedia)\n        })\n\n        this.incrementNumberOfLikes(mediumThumbnail);\n    }\n\n    removeAllThumbnails() {\n        const mainNode = document.querySelector('main')\n        for (let index = mainNode.childNodes.length - 1; index >= 0; index--) {\n            const child = mainNode.childNodes[index];\n            if (child.className == \"medium_thumbnail\") {\n                mainNode.removeChild(child)\n            }\n        }\n    }\n\n    renderDropdown() {\n\n        const dropdownMenu = this.createDropdownMenu();\n        this.appendSortByText(dropdownMenu);\n        this.appendDropdown(dropdownMenu);\n        document.querySelector('main').appendChild(dropdownMenu);\n\n        const dropdrownButton = document.querySelector('.dropdown__button');\n        const dropdrownContent = document.querySelector('.dropdown__content');\n\n        dropdrownButton.addEventListener('click', () => {\n            if (this.isDropdownVisible == false) {\n                dropdrownContent.style.display = \"block\";\n                this.isDropdownVisible = true; //content visibility state \n            } else {\n                dropdrownContent.style.display = \"none\";\n                this.isDropdownVisible = false;\n            }\n        });\n\n        const dropdownItems = document.getElementsByClassName(\"dropdown__content__item\");\n        for (let item of dropdownItems) {\n            item.addEventListener('click', () => {\n                this.handleDropdownItemClick(dropdrownButton, item);\n            })\n        }\n    }\n\n\n    createDropdownMenu() {\n        const dropdownMenu = document.createElement('div');\n        dropdownMenu.className = \"dropdown_menu\";\n        // const main = document.querySelector('main');\n        // main.appendChild(dropdownMenu);\n        return dropdownMenu;\n    }\n\n    appendSortByText(dropdownMenu) {\n        const sortBy = document.createElement('span');\n        sortBy.className = 'sort_by';\n        sortBy.innerHTML = `Trier par`;\n        dropdownMenu.appendChild(sortBy);\n    }\n\n    appendDropdown(dropdownMenu) {\n        const dropdown = document.createElement('div');\n        dropdown.className = \"dropdown\";\n        this.appendDropdownButton(dropdown);\n        this.createDropdownContent(dropdown);\n        dropdownMenu.appendChild(dropdown);\n    }\n\n\n    appendDropdownButton(dropdown) {\n        const dropdownButton = document.createElement('button');\n        dropdownButton.className = 'dropdown__button';\n        dropdownButton.innerHTML = this.SortEnum.POPULARITY;\n        dropdown.appendChild(dropdownButton);\n    }\n\n    createDropdownContent(dropdown) {\n        const dropdownContent = document.createElement('div');\n        dropdownContent.className = 'dropdown__content';\n\n        this.appendDropdownItemDATE(dropdownContent);\n        this.appendDropdownItemTITLE(dropdownContent);\n\n        dropdown.appendChild(dropdownContent);\n    }\n\n    appendDropdownItemDATE(dropdownContent) {\n        const dropdownItemDATE = document.createElement('a');\n        dropdownItemDATE.className = 'dropdown__content__item';\n        dropdownItemDATE.innerHTML = this.SortEnum.DATE;\n        dropdownContent.appendChild(dropdownItemDATE);\n    }\n\n    appendDropdownItemTITLE(dropdownContent) {\n        const dropdownItemTITLE = document.createElement('a');\n        dropdownItemTITLE.className = 'dropdown__content__item';\n        dropdownItemTITLE.innerHTML = this.SortEnum.TITLE;\n        dropdownContent.appendChild(dropdownItemTITLE);\n    }\n\n\n    handleDropdownItemClick(dropdrownButton, item) {\n        dropdrownButton.click();\n\n        this.removeAllThumbnails(); //remove everything\n        this.sortBy(item.innerHTML); //sort\n        this.swapDropdownItems(item, dropdrownButton); //swap\n    }\n\n    swapDropdownItems(item, dropdrownButton) {\n        var temporary = item.innerHTML;\n        item.innerHTML = dropdrownButton.innerHTML;\n        dropdrownButton.innerHTML = temporary;\n    }\n\n    //a & b = media\n    sortBy(sortType) {\n        let sortedMedia = null;\n        switch (sortType) {\n            case this.SortEnum.DATE:\n                sortedMedia = this.allMedia.sort((a, b) => new Date(b.date) - new Date(a.date))\n                break;\n            case this.SortEnum.POPULARITY:\n                sortedMedia = this.allMedia.sort((a, b) => b.likes - a.likes);\n                \n                break;\n            case this.SortEnum.TITLE:\n                sortedMedia = this.allMedia.sort((a,b) => this.compareTitle(a,b));\n                break;\n        }\n        console.log(sortedMedia)\n        sortedMedia.forEach(sortedMedium => {\n            this.createMediumThumbnail(sortedMedium)\n        })\n    }\n\n    compareTitle(a,b){\n        const t1 = this.mediaFactory.extractMediumTitle(a)\n        const t2 = this.mediaFactory.extractMediumTitle(b)\n\n        return t1.localeCompare(t2, 'fr')\n    }\n}","export class HomePageBuilder {\n    constructor(props) {\n        this.dataPromise = props.json\n        this.clickedNavTags = [];\n    }\n\n    //display header and main (home page)\n    render() {\n        this.dataPromise\n            .then((jsonData) => {\n                let photographers = jsonData.photographers\n\n                this.renderHeader(photographers)\n                this.renderMain(photographers)\n            })\n    }\n\n    renderHeader(photographers) {\n        const header = this.createHeader()\n        this.appendLogo(header)\n        this.appendMainNav(photographers, header)\n\n        const main = document.querySelector(\"main\");\n        document.querySelector('body').insertBefore(header, main);\n\n        // document.querySelector(\".banner\").style.display = \"none\";\n        // document.querySelector(\".dropdown_menu\").style.display = \"none\";\n        // document.querySelector(\".sticker_summary\").style.display = \"none\";\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_home';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.innerHTML = `\n        <img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"logo\" />\n        `;\n\n        header.appendChild(logo);\n    }\n\n    appendMainNav(photographers, header) {\n        const mainNav = document.createElement('nav');\n        mainNav.className = 'main_nav';\n\n        this.appendNavTags(photographers, mainNav)\n        header.appendChild(mainNav);\n    }\n\n    appendNavTags(photographers, nav) {\n        const allTags = photographers.map(photographer => photographer.tags).flat()\n        const distinctTags = [...new Set(allTags)] //remove duplicates\n\n        //add each tag dynamically in the nav\n        distinctTags.forEach(tag => {\n            const headerTag = document.createElement('a')\n            const tagName = tag.charAt(0).toUpperCase() + tag.substring(1);\n            headerTag.className = 'main_nav__item'\n            headerTag.innerHTML = `<span>#${tagName}</span>`;\n            nav.appendChild(headerTag);\n\n            //listen to clicks on main nav tags\n            headerTag.addEventListener(\"click\", (event) => {\n                this.clickedNavTags.push(tag);\n                this.clickedNavTags = [...new Set(this.clickedNavTags)];\n                this.handleTagClick(photographers)\n            });\n        });\n    }\n\n    handleTagClick(photographers) {\n        this.removeAllThumbnails();\n        this.sortPhotographers(photographers)\n    }\n\n    removeAllThumbnails() {\n        const photographersNode = document.querySelector('.photographers')\n        for (let index = photographersNode.childNodes.length - 1; index >= 0 ; index--) {\n            const child = photographersNode.childNodes[index];\n            photographersNode.removeChild(child)\n        }\n    }\n\n    sortPhotographers(photographers) {\n        let selectedPhotographers = [];\n        this.clickedNavTags.forEach(clickedNavTag => {\n            photographers.forEach(photographer => {\n                if (photographer.tags.includes(clickedNavTag)) {\n                    selectedPhotographers.push(photographer)\n                }\n            });\n        });\n\n        selectedPhotographers = [...new Set(selectedPhotographers)]\n        this.createArticle(selectedPhotographers)\n    }    \n\n    renderMain(photographers) {\n        this.createMainTitle()\n        this.createArticle(photographers)\n    }\n\n    createMainTitle() {\n        const title = document.createElement('h1')\n        title.className = 'main_title'\n        title.innerHTML = `Nos photographes`\n        document.querySelector(\"main\").appendChild(title)\n    }\n\n    createArticle(photographers) {\n\n        photographers.forEach(photographer => {\n\n            const article = document.createElement('article')\n            article.className = 'article';\n            article.innerHTML = `<a class=\"photographer_thumbnail\" href=\"/photographers-profile/${photographer.id}\">`;\n\n            this.appendPhotographerThumbnailPicture(article, photographer);\n            this.appendPhotographerThumbnailContent(article, photographer);\n\n            document.querySelector('.photographers').appendChild(article);\n        });\n    }\n\n    appendPhotographerThumbnailPicture(article, photographer) {\n        const thumbnailPicture = document.createElement('a')\n        thumbnailPicture.className = 'photographer_thumbnail__picture';\n        thumbnailPicture.innerHTML = `\n        <img class=\"photographer_thumbnail__picture\"\n        src=\"/static/Photographers ID Photos/${photographer.portrait}\"\n        alt=\"photographer's thumbnail picture\" />`;\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailPicture);\n    }\n\n    appendPhotographerThumbnailContent(article, photographer) {\n        const thumbnailContent = document.createElement('div')\n        thumbnailContent.className = 'photographer_thumbnail__content';\n        thumbnailContent.innerHTML = `\n        <h2 class=\"photographer_name\">${photographer.name}</h2>\n        <h3 class=\"photographer_location\">${photographer.city}, ${photographer.country}</h3>\n        <p class=\"photographer_desc\">${photographer.tagline}</p>\n        <p class=\"photographer_price\">${photographer.price}€/jour</p>\n        <div class=\"tags\"></div>`;\n\n        photographer.tags.forEach(photographerTag => {\n            const tag = document.createElement('a')\n            tag.className = 'tags__item';\n            tag.innerHTML = `<span>#${photographerTag}</span>`\n            thumbnailContent.querySelector('.tags').appendChild(tag)\n        })\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailContent);\n    }\n}\n","import { PhotographerPageBuilder } from \"./PhotographerPageBuilder\";\nimport { HomePageBuilder } from \"./HomePageBuilder\";\n\n//Map[key] = value\nlet registeredPages = {};\nregisteredPages[\"photographerPage\"] = PhotographerPageBuilder;\nregisteredPages[\"homePage\"] = HomePageBuilder;\n\nexport class PageFactory {\n    \n    getPage(type, props) {\n        return new registeredPages[type](props);\n    }\n}\n\n","export class DataFetcher {\n    constructor(dataSource) {\n        this.dataSource = dataSource; //json file\n    }\n\n    fetchSource() {\n        return fetch(this.dataSource) // ressource request\n            .then(function (resp) {\n                console.log(resp)\n                return resp.json(); \n            });\n    }\n}","import { PageFactory } from './scripts/factory/PageFactory';\nimport { DataFetcher } from './scripts/utils/DataFetcher';\n\nconst dataFetcher = new DataFetcher('/static/FishEyeDataFR.json');\nconst jsonPromise = dataFetcher.fetchSource()\n\nconst pageFactory = new PageFactory();\n\nconst props = {\n    json: jsonPromise,\n};\n//possible routes\nconst routes = [\n    {\n        path: \"/\",\n        component: pageFactory.getPage(\"homePage\", props)\n    },\n    {\n        path: \"/photographers-profile/\", \n        component: pageFactory.getPage(\"photographerPage\", props)\n    },\n];\n\n//match for photographer page regex\nconst photographerURLRegex = /\\/[A-Za-z\\-]{1,}\\/[0-9]{0,3}?$/;\n\nexport const router = () => {\n\n    //for each route, return component (page)\n    // check if requested page corresponds to a photographer page (with regex)\n    const potentialMatches = routes.map(route => {\n        return {\n            component: route.component,\n            result: photographerURLRegex.test(route.path) && photographerURLRegex.test(location.pathname) //current url\n        }\n    })\n    \n    const matchedPage = potentialMatches.find(potentialMatch => potentialMatch.result == true)\n\n    if(matchedPage != null){ // photographer page match\n        const idPhotographer = location.pathname.split('/')[2];\n        matchedPage.component.render(idPhotographer);\n    } else {\n        routes.find(route => route.path == \"/\").component.render(); //return to home page\n    }\n\n};","import { router } from './Router';\n\nwindow.addEventListener('hashchange', router); // identifier of the URL changes\nwindow.addEventListener('load', router); // ressource has loaded","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}