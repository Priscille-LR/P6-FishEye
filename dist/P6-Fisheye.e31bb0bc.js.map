{"version":3,"sources":["scripts/utils/Utils.js","scripts/factory/Tags.js","scripts/models/PhotographerProfileModel.js","scripts/models/HomePageModel.js","scripts/factory/HomePageBuilder.js","scripts/utils/MediaUtils.js","scripts/models/MediumModel.js","scripts/factory/MediaFactory.js","scripts/factory/ContactModal.js","scripts/factory/LightboxMedia.js","scripts/models/PhotographerPageModel.js","scripts/factory/PhotographerPageBuilder.js","scripts/factory/PageFactory.js","scripts/models/AppModel.js","scripts/utils/PhotographersUtils.js","scripts/utils/DataFetcher.js","Router.js","index.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Utils","removeChildOf","node","classToRemove","parentNode","document","querySelector","console","log","index","childNodes","length","child","className","removeChild","Tags","constructor","tagsList","appendTags","parentElement","forEach","tag","tagItem","createElement","checkboxTag","type","id","appendChild","labelTag","setAttribute","innerHTML","addEventOnChange","callback","addEventListener","firstChild","checked","PhotographerProfileModel","photographer","getName","name","getLocation","city","country","getTagline","tagline","getPrice","price","getTags","tags","getPortrait","portrait","getId","HomePageModel","photographersList","getPhotographersList","getTagsList","HomePageBuilder","homePageModel","homePageModelPromise","clickedNavTags","render","then","photographers","allTags","renderHeader","renderMain","header","renderNavTags","main","getElementById","insertBefore","mainNav","isChecked","handleTagClick","push","Set","currentIndex","indexOf","splice","sortPhotographers","selectedPhotographers","clickedNavTag","includes","createArticle","createMainTitle","createPhotographersWrapper","title","ariaLabel","photographersWrapper","ariaLabelledby","article","appendPhotographerThumbnailPicture","appendPhotographerThumbnailContent","thumbnailPicture","thumbnailContent","photographerTag","mediaEnum","PICTURE","VIDEO","MediaUtils","getMediaSource","medium","source","image","video","getMediumType","extension","split","pop","test","MediumModel","getSource","getTitle","getLikes","likes","getPhotographerId","photographerId","getDate","date","MediaFactory","renderMedium","currentPhotographer","mediumThumbnail","createMediumDisplay","appendThumbnailContent","mediumThumbnailContent","controls","mediumType","mediumSource","String","media","src","autoplay","alt","ContactModal","renderContactModal","createContactModal","createContactModalBody","contactModal","modalBody","appendModalTitle","appendCloseButton","appendContactForm","createModalButton","modalTitle","closeButton","role","hideContactModal","contactForm","createFormFields","addEventListenerValidate","inputs","querySelectorAll","input","validateFieldsFormat","hideErrorMessage","showErrorMessage","createFormData","formData","createLabel","forParam","textParam","label","createInputField","inputField","createTextArea","textAreaInput","modalButton","e","preventDefault","validateFields","map","fields","inputValue","value","field","showContactModal","style","display","message","removeAttribute","fieldFormat","emailAddressFormat","messageFormat","outcome","LightboxMedia","mediaList","mediaFactory","renderLightboxMedia","createLightboxMedia","createLightboxMediaBody","lightboxMedia","lightboxBody","appendNavButtons","handleNav","appendMediumBox","appendMediumTitle","hideLightboxMedia","createNavButton","buttonClass","buttonIcon","accessibleName","button","previousButton","nextButton","newIndex","showLightboxMedia","mediumBox","mediumTitle","lightboxMedium","PhotographerPageModel","getMediaList","PhotographerPageBuilder","photographerPageModel","DATE","POPULARITY","TITLE","photographerPageModelPromise","determineCurrentPhotographer","determineCurrentPhotographerMedia","allMedia","isDropdownVisible","activeTags","selectedMedia","idPhotographer","renderBanner","renderDropdown","renderSummary","sortBy","SortEnum","banner","renderBannerTags","bannerTags","sortMedia","clickedPhotographerTag","createMediumThumbnail","selectedMedium","dropdownMenu","createDropdownMenu","dropdrownButton","dropdrownContent","dropdownItems","getElementsByClassName","item","handleDropdownItemClick","numberOfLikes","stickerSummary","incrementNumberOfLikes","likeButton","mediumLikes","totalLikes","parseInt","mediumThumbnailMiniature","click","swapDropdownItems","temporary","sortType","sortedMedia","sort","a","b","Date","localeCompare","sortedMedium","PageFactoryEnum","HOME","PHOTOGRAPHER","registeredPages","Map","PageFactory","getPage","pageModel","get","AppModel","homePage","getHomePage","getMediaPageModel","PhotographersUtils","getAllTags","json","flat","DataFetcher","dataSource","fetchSource","result","fetch","resp","appPageWrapper","createMediaList","mediaPageModel","dataFetcher","pageFactory","routes","regex","component","appModel","router","location","pathname","find","route","window","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"P6-Fisheye.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export class Utils {\n\n    static removeChildOf(node, classToRemove){\n        const parentNode = document.querySelector(node)\n        console.log(parentNode)\n        for (let index = parentNode.childNodes.length - 1; index >= 0 ; index--) {\n            const child = parentNode.childNodes[index];\n            if (child.className == classToRemove) {\n               parentNode.removeChild(child)\n            }\n        }\n    }\n}","export class Tags {\n    /**\n    * @param {Array<string>} tagsList\n    */\n\n    constructor(tagsList) {\n        this.tagsList = tagsList;\n    }\n\n    /**\n     * \n     * @param {HTMLDivElement} parentElement \n     * @param {*} tagsList \n     * @param {*} className \n     */\n    appendTags(parentElement, className) {\n        this.tagsList.forEach(tag => {\n            const tagItem = document.createElement('div');\n            tagItem.className = className;\n\n            const checkboxTag = document.createElement('input');\n            checkboxTag.type = \"checkbox\";\n            checkboxTag.className = \"tag_checkbox\"\n            checkboxTag.id = tag;\n            tagItem.appendChild(checkboxTag)\n\n            const labelTag = document.createElement('label');\n            labelTag.className = \"tag_name\"\n            labelTag.setAttribute(\"for\", tag);\n            labelTag.innerHTML = `#${tag}`;\n            tagItem.appendChild(labelTag)\n\n            parentElement.appendChild(tagItem)\n        });\n    }\n    /**\n     * \n     * @param {HTMLDivElement} parentElement \n     */\n    addEventOnChange(parentElement, callback) {\n        parentElement.childNodes.forEach(child => {\n            child.addEventListener(\"change\", () => {\n                callback(child.firstChild.checked, child.firstChild.id)\n            });\n        })\n    }\n}\n\n","export class PhotographerProfileModel {\n    constructor(photographer) {\n        this.photographer = photographer;\n    }\n\n    getName() {\n        return this.photographer.name\n    }\n\n    getLocation() {\n        return `${this.photographer.city}, ${this.photographer.country}`\n    }\n\n    getTagline() {\n        return this.photographer.tagline\n    }\n\n    getPrice() {\n        return this.photographer.price\n    }\n\n    getTags() {\n        return this.photographer.tags\n    }\n\n    getPortrait() {\n        return this.photographer.portrait\n    }\n\n    getId() {\n        return this.photographer.id\n    }\n\n}\n\n\n\n\n\n\n\n","import { PhotographerProfileModel } from \"./PhotographerProfileModel\";\n\nexport class HomePageModel {\n\n    /**\n    * @param {Array<PhotographerProfileModel>} photographersList\n    * @param {Array<string>} tagsList\n    */\n    constructor(photographersList, tagsList) {\n        this.photographersList = photographersList;\n        this.tagsList = tagsList;\n    }\n\n\n    getPhotographersList() {\n        return this.photographersList\n    }\n\n\n    getTagsList() {\n        return this.tagsList\n    }\n}","import { Utils } from \"../utils/Utils\";\nimport { Tags } from \"./Tags\";\nimport { PhotographerProfileModel } from \"../models/PhotographerProfileModel\";\nimport { HomePageModel } from \"../models/HomePageModel\";\nexport class HomePageBuilder {\n    /**\n     * \n     * @param {Promise<HomePageModel>} homePageModel \n     */\n    constructor(homePageModel) {\n        this.homePageModelPromise = homePageModel\n        this.clickedNavTags = [];\n    }\n\n    //display header and main (home page)\n    render() {\n        this.homePageModelPromise\n            .then((homePageModel) => {\n                this.photographers = homePageModel.photographersList\n                this.allTags = homePageModel.tagsList\n\n                this.renderHeader()\n                this.renderMain(this.photographers)\n            })\n    }\n    \n    renderHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_home';\n        header.innerHTML = `\n        <a class=\"logo\" href=\"/\">\n            <img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"Fisheye Home Page\" />\n        </a>\n        <a class=\"go_main\" href=\"#app\">Passer au contenu</a>\n        <nav class=\"main_nav\" aria-label=\"main navigation\" role=\"navigation\">\n        </nav>\n        `;\n        this.renderNavTags(header.querySelector(\".main_nav\"))\n\n        const main = document.getElementById('app');\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    renderNavTags(mainNav) {\n        const tags = new Tags(this.allTags)\n        tags.appendTags(mainNav, 'main_nav__item');\n        tags.addEventOnChange(mainNav, (isChecked, tag) => this.handleTagClick(isChecked, tag));\n    }\n\n    handleTagClick(isChecked, tag) {\n        if (isChecked) {\n            this.clickedNavTags.push(tag);\n            this.clickedNavTags = [...new Set(this.clickedNavTags)];\n        } else {\n            const currentIndex = this.clickedNavTags.indexOf(tag);\n            this.clickedNavTags.splice(currentIndex, 1);\n        }\n        \n        Utils.removeChildOf(\".photographers\", \"article\")\n        this.sortPhotographers(this.photographers)\n    }\n\n    sortPhotographers(photographers) {\n        let selectedPhotographers = [];\n        this.clickedNavTags.forEach(clickedNavTag => {\n            photographers.forEach(photographer => {\n                if (photographer.getTags().includes(clickedNavTag)) {\n                    selectedPhotographers.push(photographer)\n                }\n            });\n        });\n\n        if (this.clickedNavTags.length == 0) {\n            this.createArticle(photographers)\n        } else {\n            selectedPhotographers = [...new Set(selectedPhotographers)];\n            this.createArticle(selectedPhotographers)\n        }\n\n    }\n\n    renderMain(photographers) {\n        this.createMainTitle()\n        this.createPhotographersWrapper()\n        this.createArticle(photographers)\n    }\n\n    createMainTitle() {\n        const title = document.createElement('h1')\n        title.className = 'main_title'\n        title.ariaLabel = 'photographers'\n        title.innerHTML = `Nos photographes`\n        document.getElementById(\"app\").appendChild(title)\n    }\n\n    createPhotographersWrapper() {\n        const photographersWrapper = document.createElement('div')\n        photographersWrapper.className = 'photographers'\n        photographersWrapper.ariaLabelledby = 'photographers'\n        document.getElementById(\"app\").appendChild(photographersWrapper)\n    }\n\n    /**\n     * create article for each photographer; add their picture and content\n     * @param {Array<PhotographerProfileModel>} photographers \n     */\n    createArticle(photographers) {\n\n        photographers.forEach(photographer => {\n\n            const article = document.createElement('article')\n            article.className = 'article';\n            article.innerHTML = `<a class=\"photographer_thumbnail\" href=\"/photographers-profile/${photographer.getId()}\">`;\n\n            this.appendPhotographerThumbnailPicture(article, photographer);\n            this.appendPhotographerThumbnailContent(article, photographer);\n\n            document.querySelector('.photographers').appendChild(article);\n        });\n    }\n\n    /**\n     * \n     * @param {PhotographerProfileModel} photographer \n     */\n    appendPhotographerThumbnailPicture(article, photographer) {\n        const thumbnailPicture = document.createElement('a')\n        thumbnailPicture.className = 'photographer_thumbnail__picture';\n        thumbnailPicture.innerHTML = `\n        <img class=\"photographer_thumbnail__picture\"\n        src=\"/static/Photographers ID Photos/${photographer.getPortrait()}\"\n        alt=\"photographer's thumbnail picture\" />`;\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailPicture);\n    }\n\n    /**\n     * \n     * @param {PhotographerProfileModel} photographer \n     */\n    appendPhotographerThumbnailContent(article, photographer) {\n        const thumbnailContent = document.createElement('div')\n        thumbnailContent.className = 'photographer_thumbnail__content';\n        thumbnailContent.innerHTML = `\n        <h2 class=\"photographer_name\">${photographer.getName()}</h2>\n        <h3 class=\"photographer_location\">${photographer.getLocation()}</h3>\n        <p class=\"photographer_desc\">${photographer.getTagline()}</p>\n        <p class=\"photographer_price\">${photographer.getPrice()}/jour</p>\n        <div class=\"tags\"></div>`;\n\n        photographer.getTags().forEach(photographerTag => {\n            const tag = document.createElement('a')\n            tag.className = 'tags__item';\n            tag.innerHTML = `<span>#${photographerTag}</span>`\n            thumbnailContent.querySelector('.tags').appendChild(tag)\n        })\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailContent);\n    }\n}","\nexport const mediaEnum = {\n    PICTURE: \"picture\",\n    VIDEO: \"video\",\n}\n\nexport class MediaUtils {\n\n    // static getMediaTitle(medium) {\n    //     let tmpMedium = this.getMediaSource(medium)\n    //     let mediumTitle = tmpMedium.toLowerCase();\n    //     let mediumTitleArray = mediumTitle.split(\".\");\n    //     mediumTitle = mediumTitleArray[0];\n    //     mediumTitleArray = mediumTitle.split(\"_\");\n    //     mediumTitle = mediumTitleArray.shift(); //remove 1st element in array \n    //     mediumTitle = mediumTitleArray.join(\" \"); //add elements of array into a string\n    //     mediumTitle = mediumTitle.charAt(0).toUpperCase() + mediumTitle.slice(1);\n    //     return mediumTitle;\n    // }\n\n    static getMediaSource(medium) {\n        let source = medium.image;\n        if (source == null) {\n            source = medium.video;\n        }\n        return source;\n    }\n\n    static getMediumType(medium) {\n        let extension = this.getMediaSource(medium).split('.').pop();\n        if (/(jpg)$/ig.test(extension)) {\n            return mediaEnum.PICTURE;\n        }\n        if (/(mp4)$/ig.test(extension)) {\n            return mediaEnum.VIDEO;\n        }\n    }\n\n}","import { MediaUtils } from \"../utils/MediaUtils\";\n\nexport class MediumModel {\n    constructor(medium) {\n        this.medium = medium;\n    }\n\n    getMediumType() {\n        return MediaUtils.getMediumType(this.medium)\n    }\n\n    getSource() {\n        return MediaUtils.getMediaSource(this.medium)\n    }\n\n    getTitle() {\n        return this.medium.title\n    }\n\n    getPrice() {\n        return this.medium.price\n    }\n\n    getLikes() {\n        return this.medium.likes\n    }\n\n    getTags() {\n        return this.medium.tags\n    }\n\n    getId() {\n        return this.medium.id\n    }\n\n    getPhotographerId() {\n        return this.medium.photographerId\n    }\n    \n    getDate() {\n        return this.medium.date\n    }\n    \n\n}\n\n\n\n\n\n\n\n","import { MediumModel } from \"../models/MediumModel\";\nimport { mediaEnum } from \"../utils/MediaUtils\";\nimport { PhotographerProfileModel } from \"../models/PhotographerProfileModel\";\n\nexport class MediaFactory {\n\n    /**\n     * \n     * @param {MediumModel} medium \n     * @param {PhotographerProfileModel} currentPhotographer \n     * @returns \n     */\n    renderMedium(medium, currentPhotographer) {\n\n\n        let mediumThumbnail = this.createMediumDisplay(medium, currentPhotographer, \"medium_thumbnail\");\n              \n        this.appendThumbnailContent(medium, mediumThumbnail);\n\n        return mediumThumbnail;\n    }\n\n    appendThumbnailContent(medium, mediumThumbnail) {\n        let mediumThumbnailContent = document.createElement('div');\n        mediumThumbnailContent.className = \"medium_thumbnail__content\";\n        mediumThumbnailContent.innerHTML = `\n            <h2 class=\"medium_title\">${medium.getTitle()}</h2>\n            <div class=\"price_and_likes\">\n              <span class=\"medium_price\" title=\"price:\">${medium.getPrice()}</span>\n              <span class=\"medium_number_of_likes\">${medium.getLikes()}</span>\n              <label class=\"checkbox__like aria-label=\"likes\"> \n                <input type=\"checkbox\" class=\"checkbox__input\" name=\"like\" aria-labelledby=\"likes\">\n                    <i class=\"far fa-heart like__unchecked\"></i>\n                    <i class=\"fas fa-heart like__checked\"></i>\n                </input>   \n                </label>\n            </div>\n          </div>`;\n\n        mediumThumbnail.appendChild(mediumThumbnailContent);\n    }\n\n    /**\n     * \n     * @param {MediumModel} medium \n     * @param {PhotographerProfileModel} currentPhotographer \n     * @param {string} className \n     * @param {boolean} controls \n     * @returns \n     */\n    createMediumDisplay(medium, currentPhotographer, className, controls = false) {\n        let mediumThumbnail = document.createElement('article');\n        mediumThumbnail.className = className;\n        mediumThumbnail.ariaLabel = medium.getTitle();\n        \n        const mediumType = medium.getMediumType();\n\n        let mediumSource = String(medium.getSource());\n\n        var media;\n        switch (mediumType) {\n            case mediaEnum.PICTURE: {\n                media = document.createElement('img');\n                media.src = `/static/${currentPhotographer.getName().split(' ')[0]}/${mediumSource}`\n                break;\n            }\n            case mediaEnum.VIDEO: {\n                media = document.createElement('video');\n                let source = document.createElement('source');\n                source.src = `/static/${currentPhotographer.getName().split(' ')[0]}/${mediumSource}`\n                source.type = \"video/mp4\"\n                media.controls = controls;\n                if(controls){\n                    media.autoplay = true\n                }\n                media.appendChild(source);\n                break;\n            }\n            default: mediumSource = String(\"\");\n\n        }\n        media.className = `${className}__miniature`;\n        media.alt = medium.getTitle();\n        mediumThumbnail.appendChild(media);\n        return mediumThumbnail;\n    }\n\n}\n\n\n","import { PhotographerProfileModel } from \"../models/PhotographerProfileModel\";\n\nexport class ContactModal {\n    /**\n     * \n     * @param {PhotographerProfileModel} currentPhotographer \n     */\n    constructor(currentPhotographer) {\n        this.currentPhotographer = currentPhotographer;\n    }\n\n    //modal creation \n    renderContactModal() {\n        this.createContactModal();\n        this.createContactModalBody();\n\n        this.contactModal = document.querySelector('.contact_modal');\n    }\n\n    createContactModal() {\n        const contactModal = document.createElement('dialog');\n        contactModal.className = 'contact_modal';\n\n        document.getElementById(\"app\").appendChild(contactModal);\n    }\n\n    createContactModalBody() {\n        const modalBody = document.createElement('div');\n        modalBody.className = 'contact_modal__body';\n\n        this.appendModalTitle(modalBody);\n        this.appendCloseButton(modalBody);\n        this.appendContactForm(modalBody);\n        this.createModalButton(modalBody);\n\n        document.querySelector('.contact_modal').appendChild(modalBody);\n    }\n\n    appendModalTitle(modalBody) {\n        const modalTitle = document.createElement('h2');\n        modalTitle.className = 'contact_modal__body__title';\n        modalTitle.innerHTML = `Contactez-moi </br> ${this.currentPhotographer.getName()}`;\n\n        modalBody.appendChild(modalTitle);\n\n    }\n\n    appendCloseButton(modalBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button';\n        closeButton.role = \"button\";\n        closeButton.ariaLabel = \"close dialog\"\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideContactModal();\n        });\n        modalBody.appendChild(closeButton);\n\n    }\n\n    appendContactForm(modalBody) {\n        const contactForm = document.createElement('form');\n        contactForm.className = 'contact_form';\n        contactForm.setAttribute = (\"method\", \"post\");\n        contactForm.setAttribute = (\"action\", \"submit\");\n\n        this.createFormFields(contactForm);\n        this.addEventListenerValidate(contactForm);\n\n        modalBody.appendChild(contactForm);\n    }\n\n    addEventListenerValidate(contactForm) {\n        const inputs = contactForm.querySelectorAll('.input_field');\n\n        inputs.forEach(input => {\n            input.addEventListener('blur', () => {\n                if (this.validateFieldsFormat(input) === true) {\n                    this.hideErrorMessage(input.parentElement);\n                } else {\n                    if (input.id === \"email\") {\n                        this.showErrorMessage(input.parentElement, 'Veuillez entrer une adresse mail valide')\n                    } else if (input.id === \"message\") {\n                        this.showErrorMessage(input.parentElement, \"Dites-m'en un peu plus...\")\n                    } else {\n                        this.showErrorMessage(input.parentElement, 'Veuillez entrer au moins 2 caractres')\n                    }\n                }\n            });\n        });\n    }\n\n    createFormData() {\n        const formData = document.createElement('div');\n        formData.className = 'formData';\n        return formData;\n    }\n\n    createLabel(forParam, textParam) {\n        const label = document.createElement('label');\n        label.setAttribute(\"for\", forParam);\n        label.innerHTML = `${textParam}`;\n        return label;\n    }\n\n    createInputField(id) {\n        const inputField = document.createElement('input');\n        inputField.className = 'input_field';\n        inputField.type = \"text\";\n        inputField.setAttribute(\"id\", id);\n        return inputField;\n    }\n\n    createTextArea(id) {\n        const textAreaInput = document.createElement('textarea');\n        textAreaInput.className = 'input_field';\n        textAreaInput.setAttribute(\"id\", id);\n        textAreaInput.setAttribute(\"rows\", 5);\n        return textAreaInput;\n    }\n\n    createFormFields(contactForm) {\n\n        //Firstname\n        let formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"firstname\", \"Prnom\"));\n        formData.appendChild(this.createInputField(\"firstname\"));\n        contactForm.appendChild(formData);\n\n        //Lastname\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"lastname\", \"Nom\"));\n        formData.appendChild(this.createInputField(\"lastname\"));\n        contactForm.appendChild(formData);\n\n        //Email\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"email\", \"Email\"));\n        formData.appendChild(this.createInputField(\"email\"));\n        contactForm.appendChild(formData);\n\n        //Message\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"message\", \"Votre message\"));\n        formData.appendChild(this.createTextArea(\"message\"));\n        contactForm.appendChild(formData);\n    }\n\n    createModalButton(modalBody) {\n        const modalButton = document.createElement('button');\n        modalButton.className = 'button_contact submit_button';\n        modalButton.type = \"submit\";\n        modalButton.innerHTML = `Envoyer`;\n\n        modalButton.addEventListener('click', (e) => {\n            const inputs = [...modalBody.querySelectorAll('.input_field')];\n            e.preventDefault();\n            if (this.validateFields(modalBody) === true) {\n                this.hideContactModal();\n                inputs.map(input => {\n                    const fields = {\n                        input: input.id,\n                        inputValue: input.value,\n                    }\n                    return fields;\n                })\n                .forEach((field) => console.log(field.input + \" : \" + field.inputValue));\n            } else {\n                console.log(\"Merci de rensigner les champs\")\n            }\n        });\n        modalBody.appendChild(modalButton);\n    }\n\n    showContactModal() {\n        this.contactModal.style.display = \"block\";\n    }\n\n    hideContactModal() {\n        this.contactModal.style.display = \"none\";\n    }\n\n\n    //fields validation \n\n    //error message is displayed when field is invalid\t\n    showErrorMessage(field, message) {\n        field.setAttribute('data-error', message);\n        field.setAttribute('data-error-visible', 'true');\n    }\n\n    //error message is hidden \n    hideErrorMessage(field) {\n        field.removeAttribute('data-error');\n        field.removeAttribute('data-error-visible');\n    }\n\n    validateFieldsFormat(input) {\n        const fieldFormat = /^[A-Za-z\\-\\s']{2,}$/;\n        const emailAddressFormat = /\\S+@\\S+\\.\\S+/;\n        const messageFormat = /^[A-Za-z\\-\\s'.,;:!?]{5,500}$/;\n\n        if (input.id === \"email\") {\n            if ((input.value.length != 0) && (emailAddressFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        if (input.id === \"message\") {\n            if ((input.value.length != 0) && (messageFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n\n        } else {\n            if ((input.value.length != 0) && (fieldFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    validateFields(modalBody) {\n        const inputs = modalBody.querySelectorAll('.input_field');\n        let outcome = true\n        inputs.forEach(input => {\n            if (this.validateFieldsFormat(input) === false) {\n                outcome = false\n            }\n        });\n        return outcome;\n    }\n}","import { MediaFactory } from './MediaFactory';\nimport { MediumModel } from '../models/MediumModel';\nimport { PhotographerProfileModel } from '../models/PhotographerProfileModel';\nimport { Utils } from '../utils/Utils';\n\nexport class LightboxMedia {\n    /**\n     * @param {Array<MediumModel>} mediaList \n     * @param {PhotographerProfileModel} currentPhotographer \n     */\n    constructor(mediaList = [], currentPhotographer) {\n        this.mediaList = mediaList;\n        this.currentPhotographer = currentPhotographer;\n\n        this.mediaFactory = new MediaFactory();\n    }\n\n    renderLightboxMedia() {\n        this.createLightboxMedia();\n        this.createLightboxMediaBody();\n\n        this.lightboxMedia = document.querySelector('.lightbox_media');\n    }\n\n    createLightboxMedia() {\n        const lightboxMedia = document.createElement('dialog');\n        lightboxMedia.className = 'lightbox_media';\n        lightboxMedia.ariaLabel = \"image close-up view\"\n        document.getElementById(\"app\").appendChild(lightboxMedia);\n    }\n\n    createLightboxMediaBody() {\n        const lightboxBody = document.createElement('div');\n        lightboxBody.className = 'lightbox_media__body';\n\n        this.appendCloseButton(lightboxBody);\n        this.appendNavButtons(lightboxBody);\n        this.handleNav(lightboxBody);\n        this.appendMediumBox(lightboxBody);\n        this.appendMediumTitle(lightboxBody);\n       \n        document.querySelector('.lightbox_media').appendChild(lightboxBody);\n    }\n\n    appendCloseButton(lightboxBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button_lightbox';\n        closeButton.role = \"button\";\n        closeButton.ariaLabel = \"close dialog\";\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideLightboxMedia();\n        });\n        lightboxBody.appendChild(closeButton);\n    }\n\n    createNavButton(buttonClass, buttonIcon, accessibleName) {\n        const button = document.createElement('button');\n        button.className = buttonClass;\n        button.innerHTML = `<i class=\"fas ${buttonIcon} fa-3x\"></i>`;\n        button.ariaLabel = accessibleName\n        return button;\n    }\n\n    appendNavButtons(lightboxBody) {\n        const previousButton = this.createNavButton(\"previous_button\", \"fa-chevron-left\", \"previous image\");\n        const nextButton = this.createNavButton(\"next_button\", \"fa-chevron-right\", \"next image\");\n\n        lightboxBody.appendChild(previousButton);\n        lightboxBody.appendChild(nextButton);\n    }\n\n    handleNav(lightboxBody) {\n\n        const previousButton = lightboxBody.querySelector('.previous_button');\n        const nextButton = lightboxBody.querySelector('.next_button');\n\n        previousButton.addEventListener('click', () => {\n\n            const currentIndex = this.mediaList.indexOf(this.medium);\n            const newIndex = currentIndex - 1;\n\n            const nextButton = lightboxBody.querySelector('.next_button');\n            nextButton.style.display = \"block\";\n            console.log(newIndex)\n            if (newIndex >= 0 ) {\n                this.showLightboxMedia(this.mediaList[newIndex], this.currentPhotographer, this.mediaList);\n            } \n\n            if (newIndex == 0) {\n                previousButton.style.display = \"none\"; //disable prev button\n            }\n        });\n\n        nextButton.addEventListener('click', () => {\n            const currentIndex = this.mediaList.indexOf(this.medium);\n            const newIndex = currentIndex + 1;\n\n            const previousButton = lightboxBody.querySelector('.previous_button');\n            previousButton.style.display = \"block\";\n\n            if (newIndex <= this.mediaList.length -1) {\n                this.showLightboxMedia(this.mediaList[newIndex], this.currentPhotographer, this.mediaList);\n            }\n\n            if (newIndex == this.mediaList.length -1) {\n                nextButton.style.display = \"none\";\n            }\n        });\n    }\n\n\n    appendMediumBox(lightboxBody) {\n        const nextButton = lightboxBody.querySelector('.next_button');\n        const mediumBox = document.createElement('div');\n        mediumBox.className = \"medium_box\";\n        lightboxBody.insertBefore(mediumBox, nextButton);\n    }\n\n    appendMediumTitle(lightboxBody) {\n        const mediumTitle = document.createElement('h2');\n        mediumTitle.className = 'lightbox_title';\n        lightboxBody.querySelector('.medium_box').appendChild(mediumTitle);\n    }\n\n    showLightboxMedia(medium, currentPhotographer, mediaList) {\n        this.mediaList = mediaList;\n        this.medium = medium;\n        Utils.removeChildOf('.medium_box', 'lightbox_medium');\n\n        \n        const mediumTitle = document.querySelector('.lightbox_title')\n        mediumTitle.innerHTML = medium.getTitle();\n\n        const lightboxMedium = this.mediaFactory.createMediumDisplay(medium, currentPhotographer, \"lightbox_medium\", true);\n        document.querySelector('.medium_box').insertBefore(lightboxMedium, mediumTitle);\n        this.lightboxMedia.style.display = \"block\";        \n    }\n\n    hideLightboxMedia() {\n        this.lightboxMedia.style.display = \"none\";\n    }\n\n}\n","import { MediumModel } from \"./MediumModel\";\nimport { PhotographerProfileModel } from \"./PhotographerProfileModel\";\n\nexport class PhotographerPageModel {\n\n    /**\n   * @param {Array<PhotographerProfileModel>} photographersList\n    * @param {Array<MediumModel>} mediaList\n    */\n    constructor(photographersList, mediaList) {\n        this.photographersList = photographersList;\n        this.mediaList = mediaList;\n    }\n\n    getPhotographersList() {\n        return this.photographersList\n    }\n\n    getMediaList() {\n        return this.mediaList\n    }\n}","import { MediaFactory } from './MediaFactory';\nimport { ContactModal } from \"./ContactModal\";\nimport { LightboxMedia } from \"./LightboxMedia\";\nimport { Tags } from \"./Tags\";\nimport { Utils } from \"../utils/Utils\";\nimport { PhotographerPageModel } from \"../models/PhotographerPageModel\";\nimport { PhotographerProfileModel } from '../models/PhotographerProfileModel';\nimport { MediumModel } from '../models/MediumModel';\n\nexport class PhotographerPageBuilder {\n\n    SortEnum = {\n        DATE: \"Date\",\n        POPULARITY: \"Popularit\",\n        TITLE: \"Titre\",\n    }\n\n    /**\n     * \n     * @param {Promise<PhotographerPageModel>} photographerPageModel \n     */\n    constructor(photographerPageModel) {\n        this.photographerPageModelPromise = photographerPageModel\n        this.photographerPageModelPromise.then((photographerPageModel) => {\n            this.determineCurrentPhotographer(photographerPageModel.getPhotographersList());\n            this.determineCurrentPhotographerMedia(photographerPageModel.getMediaList());\n            this.contactModal = new ContactModal(this.currentPhotographer);\n            this.lightboxMedia = new LightboxMedia(this.allMedia, this.currentPhotographer);\n        })\n        this.isDropdownVisible = false //dropdown menu hidden by default\n        this.mediaList = [];\n        this.activeTags = [];\n        this.selectedMedia = [];\n        this.mediaFactory = new MediaFactory();\n\n    }\n\n    render(id) {\n        this.idPhotographer = id\n        this.photographerPageModelPromise.then(() => {\n            this.renderHeader();\n            this.renderMain();\n            this.contactModal.renderContactModal();\n            this.lightboxMedia.renderLightboxMedia();\n        })\n    }\n\n    /**\n     * save photographer in currentPhotographer if their id == photographer wanted \n     * @param {Array<PhotographerProfileModel} photographers \n     */\n    determineCurrentPhotographer(photographers) {\n        photographers.forEach(photographer => {\n            if (photographer.getId() == this.idPhotographer) {\n                this.currentPhotographer = photographer;\n            }\n        });\n    }\n\n    /**\n     * add medium to array if photographer id in media object = id in photographers object\n     * @param {Array<MediumModel>} media \n     */\n    determineCurrentPhotographerMedia(media) {\n        media.forEach(medium => {\n            if (medium.getPhotographerId() == this.idPhotographer) {\n                this.mediaList.push(medium);\n            }\n        });\n    }\n\n    renderHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_photographer_page';\n        header.innerHTML = `\n        <a class=\"logo\" href=\"/\">\n        <img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"Fisheye Home Page\" />\n        </a>\n        `;\n\n        const main = document.getElementById('app');\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    renderMain() {\n        this.renderBanner();\n        this.renderDropdown();\n        this.renderSummary();\n        this.sortBy(this.SortEnum.POPULARITY);\n    }\n\n\n    //Banner\n    renderBanner() {\n        const banner = document.createElement('div');\n        banner.className = 'banner';\n        banner.innerHTML = `\n        <div class=\"banner__text_content\">\n            <h2 class=\"photographer_name\">${this.currentPhotographer.getName()}</h2>\n            <h3 class=\"photographer_location\">${this.currentPhotographer.getLocation()}</h3>\n            <p class=\"photographer_desc\">${this.currentPhotographer.getTagline()}</p>\n            <div class=\"tags tags_photographer_page\"></div>\n        </div>\n        <button class=\"button_contact button_banner\" aria-label=\"Contact Me\"> Contactez-moi </button>\n        <div class=\"photographer__picture\">\n            <img class=\"photographer_thumbnail__picture picture_profile\" src=\"/static/Photographers ID Photos/${this.currentPhotographer.getPortrait()}\" alt=\"\">\n        </div>`\n\n        banner.querySelector(\".button_banner\").addEventListener('click', () => {\n            this.contactModal.showContactModal();\n        });\n\n        this.renderBannerTags(banner.querySelector(\".tags_photographer_page\"));\n\n        document.getElementById('app').appendChild(banner);\n    }\n\n    renderBannerTags(bannerTags) {\n        const tags = new Tags(this.currentPhotographer.getTags());\n        tags.appendTags(bannerTags, 'photographer_tags__item')\n        tags.addEventOnChange(bannerTags, (isChecked, tag) => this.handleTagClick(isChecked, tag));\n    }\n\n    handleTagClick(isChecked, tag) {\n        if (isChecked) {\n            this.activeTags.push(tag);\n            this.activeTags = [...new Set(this.activeTags)];\n        } else {\n            const currentIndex = this.activeTags.indexOf(tag);\n            this.activeTags.splice(currentIndex, 1);\n        }\n        Utils.removeChildOf(\"#app\", \"medium_thumbnail\");\n        this.sortMedia()\n    }\n\n    sortMedia() {\n        this.selectedMedia = [];\n        this.activeTags.forEach(clickedPhotographerTag => {\n            this.mediaList.forEach(medium => {\n                medium.getTags().forEach(tag => {\n                    console.log(tag)\n                    if (tag == clickedPhotographerTag) {\n                        this.selectedMedia.push(medium)\n                    }\n                })\n            });\n        });\n\n        if (this.selectedMedia.length == 0) {\n            this.mediaList.forEach(medium => {\n                this.createMediumThumbnail(medium)\n\n            });\n        } else {\n            this.selectedMedia = [...new Set(this.selectedMedia)];\n\n            this.selectedMedia.forEach(selectedMedium => {\n                this.createMediumThumbnail(selectedMedium);\n            });\n        }\n\n    }\n\n    //dropdown\n    renderDropdown() {\n\n        const dropdownMenu = this.createDropdownMenu();\n        document.querySelector('main').appendChild(dropdownMenu);\n\n        const dropdrownButton = document.querySelector('.dropdown__button');\n        const dropdrownContent = document.querySelector('.dropdown__content');\n\n        dropdrownButton.addEventListener('click', () => {\n            if (this.isDropdownVisible == false) {\n                dropdrownContent.style.display = \"block\";\n                this.isDropdownVisible = true; //content visibility state \n            } else {\n                dropdrownContent.style.display = \"none\";\n                this.isDropdownVisible = false;\n            }\n        });\n\n        const dropdownItems = document.getElementsByClassName(\"dropdown__content__item\");\n        for (let item of dropdownItems) {\n            item.addEventListener('click', () => {\n                this.handleDropdownItemClick(dropdrownButton, item);\n            })\n        }\n    }\n\n    createDropdownMenu() {\n        const dropdownMenu = document.createElement('div');\n        dropdownMenu.className = \"dropdown_menu\";\n        dropdownMenu.innerHTML = `\n        <span class=\"sort_by\">Trier par</span>\n        <div class=\"dropdown\">\n        <button class=\"dropdown__button\">${this.SortEnum.POPULARITY}</button>\n        <div class=\"dropdown__content\">\n        <a class=\"dropdown__content__item\">${this.SortEnum.DATE}</a>\n        <a class=\"dropdown__content__item\">${this.SortEnum.TITLE}</a>\n        </div></div>`\n        return dropdownMenu;\n    }\n\n\n    //sticker photographer total number of likes and price\n    renderSummary() {\n        let numberOfLikes = 0;\n        this.mediaList.forEach(medium => {\n            numberOfLikes = numberOfLikes + medium.getLikes()\n        });\n\n        const stickerSummary = document.createElement('div');\n        stickerSummary.className = 'sticker_summary';\n        stickerSummary.innerHTML = `\n        <div class=\"total_likes\">\n            <p class=\"total_number_of_likes\">${numberOfLikes}</p>\n            <i class=\"fas fa-heart fa-lg\" aria-label=\"likes\" aria-hidden=\"true\"></i>\n        </div>\n        <div class=\"photographer_price\">${this.currentPhotographer.getPrice()}/jour</div>\n        `\n        document.querySelector('main').appendChild(stickerSummary);\n\n    }\n\n    incrementNumberOfLikes(mediumThumbnail) {\n        const likeButton = mediumThumbnail.querySelector('.checkbox__input');\n        const mediumLikes = mediumThumbnail.querySelector('.medium_number_of_likes');\n        const totalLikes = document.querySelector('.total_number_of_likes');\n\n        likeButton.addEventListener('change', () => {\n            if (likeButton.checked) {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) + 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) + 1;\n            } else {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) - 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) - 1;\n            }\n\n        });\n    }\n\n    /**\n     * \n     * @param {MediumModel} medium \n     */\n    createMediumThumbnail(medium) {\n        const mediumThumbnail = this.mediaFactory.renderMedium(medium, this.currentPhotographer);\n\n        const main = document.querySelector('main');\n        main.appendChild(mediumThumbnail);\n\n        const mediumThumbnailMiniature = mediumThumbnail.querySelector('.medium_thumbnail__miniature');\n\n        mediumThumbnailMiniature.addEventListener('click', () => {\n            if (this.selectedMedia.length == 0) {\n                this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, this.mediaList)\n            } else {\n                this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, this.selectedMedia)\n            }\n        })\n\n        this.incrementNumberOfLikes(mediumThumbnail);\n    }\n\n    handleDropdownItemClick(dropdrownButton, item) {\n        dropdrownButton.click();\n\n        Utils.removeChildOf(\"#app\", \"medium_thumbnail\");\n        this.sortBy(item.innerHTML);\n        this.swapDropdownItems(item, dropdrownButton);\n    }\n\n    swapDropdownItems(item, dropdrownButton) {\n        var temporary = item.innerHTML;\n        item.innerHTML = dropdrownButton.innerHTML;\n        dropdrownButton.innerHTML = temporary;\n    }\n\n    //a & b = media\n    sortBy(sortType) {\n        let sortedMedia = null;\n        switch (sortType) {\n            case this.SortEnum.DATE:\n                sortedMedia = this.mediaList.sort((a, b) => new Date(b.getDate()) - new Date(a.getDate()))\n                break;\n            case this.SortEnum.POPULARITY:\n                sortedMedia = this.mediaList.sort((a, b) => b.getLikes() - a.getLikes());\n                break;\n            case this.SortEnum.TITLE:\n                sortedMedia = this.mediaList.sort((a, b) => a.getTitle().localeCompare(b.getTitle(), 'fr'));\n                break;\n        }\n        sortedMedia.forEach(sortedMedium => {\n            this.createMediumThumbnail(sortedMedium)\n        })\n    }\n}","import { HomePageBuilder } from \"./HomePageBuilder\";\nimport { PhotographerPageBuilder } from \"./PhotographerPageBuilder\";\n\n\nexport const PageFactoryEnum = {\n    HOME: \"home\",\n    PHOTOGRAPHER : \"photographer\",\n}\n//Map[key] = value\nlet registeredPages = new Map([\n    [PageFactoryEnum.PHOTOGRAPHER, PhotographerPageBuilder],\n    [PageFactoryEnum.HOME, HomePageBuilder]\n])\n\nexport class PageFactory {\n    getPage(type, pageModel) {\n        return new (registeredPages.get(type))(pageModel);\n    }\n}\n\n","import { HomePageModel } from \"../models/HomePageModel\";\nimport { MediumModel } from \"./MediumModel\";\nimport { PhotographerPageModel } from \"./PhotographerPageModel\";\n\n\nexport class AppModel {\n\n    /**\n   * @param {HomePageModel} homePage\n    * @param {PhotographerPageModel} photographerPageModel\n    */\n    constructor(homePage, photographerPageModel) {\n        this.homePageModel = homePage;\n        this.photographerPageModel = photographerPageModel;\n    }\n\n    getHomePage() {\n        return this.homePageModel\n    }\n\n    getMediaPageModel() {\n        return this.photographerPageModel\n    }\n}","export class PhotographersUtils {\n\n    static getAllTags(json) {\n        let photographers = json.photographers;\n        const allTags = photographers.map(photographer => photographer.tags).flat();\n        const tagsList = [...new Set(allTags)];\n        return tagsList;\n    }\n}","import { AppModel } from \"../models/AppModel\";\nimport { HomePageModel } from \"../models/HomePageModel\";\nimport { MediumModel as MediumModel } from \"../models/MediumModel\";\nimport { PhotographerPageModel } from \"../models/PhotographerPageModel\";\nimport { PhotographerProfileModel } from \"../models/PhotographerProfileModel\";\nimport { PhotographersUtils } from \"./PhotographersUtils\";\n\nexport class DataFetcher {\n    constructor(dataSource) {\n        this.dataSource = dataSource; //json file\n    }\n\n    fetchSource() {\n        const result = fetch(this.dataSource) // ressource request\n        .then(resp => resp.json())\n        .then(json => this.appPageWrapper(json))\n        return result;\n    }\n\n\n    appPageWrapper(json) {\n        const tagsList = PhotographersUtils.getAllTags(json); \n        const photographersList = json.photographers.map(photographer => new PhotographerProfileModel(photographer));\n        const homePageModel = new HomePageModel(photographersList, tagsList);\n        const mediaList = this.createMediaList(json);\n        const mediaPageModel = new PhotographerPageModel(photographersList, mediaList);\n        \n        return new AppModel(homePageModel, mediaPageModel)\n    }\n\n\n    createMediaList(json){\n        const mediaList = json.media.map(medium => new MediumModel(medium)) //map array<JSON medium> => array<mediumModel>\n        return mediaList;\n      \n    }\n\n\n\n}\n\n\n","import { PageFactory, PageFactoryEnum } from './scripts/factory/PageFactory';\nimport { AppModel } from './scripts/models/AppModel';\nimport { DataFetcher } from './scripts/utils/DataFetcher';\n\nconst dataFetcher = new DataFetcher('/static/FishEyeData-new.json');\nconst json = dataFetcher.fetchSource()\nconst pageFactory = new PageFactory();\n\n//possible routes\nconst routes = [\n    {\n        regex: /\\/{1}$/gm,\n        component: pageFactory.getPage(PageFactoryEnum.HOME, json.then(appModel => appModel.homePageModel))\n    },\n    {\n        regex: /\\/[A-Za-z\\-]{1,}\\/[0-9]{0,3}?$/,\n        component: pageFactory.getPage(PageFactoryEnum.PHOTOGRAPHER, json.then(appModel => appModel.photographerPageModel))\n    },\n];\n\nexport const router = () => {\n    const idPhotographer = location.pathname.split('/')[2];\n    routes.find(route => route.regex.test(location.pathname)).component.render(idPhotographer)\n};","import { router } from './Router';\n\nwindow.addEventListener('hashchange', router); // identifier of the URL changes\nwindow.addEventListener('load', router); // ressource has loaded","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}