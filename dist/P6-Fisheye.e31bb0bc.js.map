{"version":3,"sources":["scripts/utils/Utils.js","scripts/factory/Tags.js","scripts/models/PhotographerProfileModel.js","scripts/models/HomePageModel.js","scripts/factory/HomePageBuilder.js","scripts/utils/MediaUtils.js","scripts/models/MediumModel.js","scripts/factory/MediaFactory.js","scripts/factory/ContactModal.js","scripts/factory/LightboxMedia.js","scripts/models/PhotographerPageModel.js","scripts/factory/PhotographerPageBuilder.js","scripts/factory/PageFactory.js","scripts/models/AppModel.js","scripts/utils/PhotographersUtils.js","scripts/utils/DataFetcher.js","Router.js","index.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Utils","removeChildOf","node","classToRemove","parentNode","document","querySelector","console","log","index","childNodes","length","child","className","removeChild","Tags","constructor","tagsList","appendTags","parentElement","forEach","tag","tagItem","createElement","checkboxTag","type","id","appendChild","labelTag","setAttribute","innerHTML","addEventOnChange","callback","addEventListener","firstChild","checked","PhotographerProfileModel","photographer","getName","name","getLocation","city","country","getTagline","tagline","getPrice","price","getTags","tags","getPortrait","portrait","getId","HomePageModel","photographersList","getPhotographersList","getTagsList","HomePageBuilder","homePageModel","homePageModelPromise","clickedNavTags","render","then","photographers","allTags","renderHeader","renderMain","header","createHeader","appendLogo","appendMainNav","appendMainAnchor","main","getElementById","insertBefore","logo","mainNav","ariaLabel","role","appendNavTags","mainAnchor","nav","tagName","charAt","toUpperCase","substring","headerTag","push","Set","currentIndex","indexOf","splice","handleTagClick","sortPhotographers","selectedPhotographers","clickedNavTag","includes","createArticle","createMainTitle","createPhotographersWrapper","title","photographersWrapper","ariaLabelledby","article","appendPhotographerThumbnailPicture","appendPhotographerThumbnailContent","thumbnailPicture","thumbnailContent","photographerTag","mediaEnum","PICTURE","VIDEO","MediaUtils","getMediaSource","medium","source","image","video","getMediumType","extension","split","pop","test","MediumModel","getSource","getTitle","getLikes","likes","getPhotographerId","photographerId","getDate","date","MediaFactory","renderMedium","currentPhotographer","mediumThumbnail","createMediumDisplay","appendThumbnailContent","mediumThumbnailContent","controls","mediumType","mediumSource","String","media","src","autoplay","alt","ContactModal","renderContactModal","createContactModal","createContactModalBody","contactModal","modalBody","appendModalTitle","appendCloseButton","appendContactForm","createModalButton","modalTitle","closeButton","hideContactModal","contactForm","createFormFields","addEventListenerValidate","inputs","querySelectorAll","input","validateFieldsFormat","hideErrorMessage","showErrorMessage","createFormData","formData","createLabel","forParam","textParam","label","createInputField","inputField","createTextArea","textAreaInput","modalButton","e","preventDefault","validateFields","map","fields","inputValue","value","field","showContactModal","style","display","message","removeAttribute","fieldFormat","emailAddressFormat","messageFormat","outcome","LightboxMedia","mediaList","mediaFactory","renderLightboxMedia","createLightboxMedia","createLightboxMediaBody","lightboxMedia","lightboxBody","appendNavButtons","handleNav","appendMediumBox","appendMediumTitle","hideLightboxMedia","createNavButton","buttonClass","buttonIcon","accessibleName","button","previousButton","nextButton","newIndex","showLightboxMedia","mediumBox","mediumTitle","lightboxMedium","PhotographerPageModel","getMediaList","PhotographerPageBuilder","photographerPageModel","DATE","POPULARITY","TITLE","photographerPageModelPromise","isDropdownVisible","activeTags","selectedMedia","idPhotographer","determineCurrentPhotographer","determineCurrentPhotographerMedia","allMedia","renderBanner","renderSummary","renderDropdown","sortBy","SortEnum","banner","launchContactModal","appendBannerTags","bannerTags","isChecked","sortMedia","clickedPhotographerTag","createMediumThumbnail","selectedMedium","dropdownMenu","createDropdownMenu","appendSortByText","appendDropdown","dropdrownButton","dropdrownContent","dropdownItems","getElementsByClassName","item","handleDropdownItemClick","dropdown","appendDropdownButton","createDropdownContent","dropdownButton","dropdownContent","appendDropdownItemDATE","appendDropdownItemTITLE","dropdownItemDATE","dropdownItemTITLE","summary","createSummary","createTotalLikes","createPhotographerPrice","stickerSummary","photographerPrice","numberOfLikes","totalNumberOfLikes","incrementNumberOfLikes","likeButton","mediumLikes","totalLikes","parseInt","mediumThumbnailMiniature","click","swapDropdownItems","temporary","sortType","sortedMedia","sort","a","b","Date","localeCompare","sortedMedium","PageFactoryEnum","HOME","PHOTOGRAPHER","registeredPages","Map","PageFactory","getPage","pageModel","get","AppModel","homePage","getHomePage","getMediaPageModel","PhotographersUtils","getAllTags","json","flat","DataFetcher","dataSource","fetchSource","result","fetch","resp","appPageWrapper","createMediaList","mediaPageModel","dataFetcher","pageFactory","routes","regex","component","appModel","router","location","pathname","find","route","window","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"P6-Fisheye.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export class Utils {\n\n    static removeChildOf(node, classToRemove){\n        const parentNode = document.querySelector(node)\n        console.log(parentNode)\n        for (let index = parentNode.childNodes.length - 1; index >= 0 ; index--) {\n            const child = parentNode.childNodes[index];\n            if (child.className == classToRemove) {\n               parentNode.removeChild(child)\n            }\n        }\n    }\n}","export class Tags {\n    /**\n    * @param {Array<string>} tagsList\n    */\n\n    constructor(tagsList) {\n        this.tagsList = tagsList;\n    }\n\n    /**\n     * \n     * @param {HTMLDivElement} parentElement \n     * @param {*} tagsList \n     * @param {*} className \n     */\n    appendTags(parentElement, className) {\n        //console.log(parentElement)\n        this.tagsList.forEach(tag => {\n            const tagItem = document.createElement('div');\n            tagItem.className = className;\n\n            const checkboxTag = document.createElement('input');\n            checkboxTag.type = \"checkbox\";\n            checkboxTag.className = \"tag_checkbox\"\n            checkboxTag.id = tag;\n            tagItem.appendChild(checkboxTag)\n\n            const labelTag = document.createElement('label');\n            labelTag.className = \"tag_name\"\n            labelTag.setAttribute(\"for\", tag);\n            labelTag.innerHTML = `#${tag}`;\n            tagItem.appendChild(labelTag)\n\n            parentElement.appendChild(tagItem)\n        });\n    }\n    /**\n     * \n     * @param {HTMLDivElement} parentElement \n     */\n    addEventOnChange(parentElement, callback) {\n        parentElement.childNodes.forEach(child => {\n            child.addEventListener(\"change\", () => {\n                callback(child.firstChild.checked, child.firstChild.id)\n            });\n        })\n    }\n}\n\n","export class PhotographerProfileModel {\n    constructor(photographer) {\n        this.photographer = photographer;\n    }\n\n    getName() {\n        return this.photographer.name\n    }\n\n    getLocation() {\n        return `${this.photographer.city}, ${this.photographer.country}`\n    }\n\n    getTagline() {\n        return this.photographer.tagline\n    }\n\n    getPrice() {\n        return this.photographer.price\n    }\n\n    getTags() {\n        return this.photographer.tags\n    }\n\n    getPortrait() {\n        return this.photographer.portrait\n    }\n\n    getId() {\n        return this.photographer.id\n    }\n\n}\n\n\n\n\n\n\n\n","import { PhotographerProfileModel } from \"./PhotographerProfileModel\";\n\nexport class HomePageModel {\n\n    /**\n    * @param {Array<PhotographerProfileModel>} photographersList\n    * @param {Array<string>} tagsList\n    */\n    constructor(photographersList, tagsList) {\n        this.photographersList = photographersList;\n        this.tagsList = tagsList;\n    }\n\n\n    getPhotographersList() {\n        return this.photographersList\n    }\n\n\n    getTagsList() {\n        return this.tagsList\n    }\n}","import { Utils } from \"../utils/Utils\";\nimport { Tags } from \"./Tags\";\nimport { PhotographerProfileModel } from \"../models/PhotographerProfileModel\";\nimport { HomePageModel } from \"../models/HomePageModel\";\nexport class HomePageBuilder {\n    /**\n     * \n     * @param {Promise<HomePageModel>} homePageModel \n     */\n    constructor(homePageModel) {\n        this.homePageModelPromise = homePageModel\n        this.clickedNavTags = [];\n    }\n\n    //display header and main (home page)\n    render() {\n        this.homePageModelPromise\n            .then((homePageModel) => {\n                let photographers = homePageModel.photographersList\n                this.allTags = homePageModel.tagsList\n\n                this.renderHeader(photographers)\n                this.renderMain(photographers)\n            })\n    }\n\n    renderHeader(photographers) {\n        const header = this.createHeader();\n        this.appendLogo(header);\n        this.appendMainNav(photographers, header);\n        this.appendMainAnchor(header);\n\n        const main = document.getElementById(\"app\");\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_home';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.innerHTML = `<img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"Fisheye Home Page\" />`;\n\n        header.appendChild(logo);\n    }\n\n    appendMainNav(photographers, header) {\n        const mainNav = document.createElement('nav');\n        mainNav.className = 'main_nav';\n        mainNav.ariaLabel = 'main navigation';\n        mainNav.role = 'navigation'\n\n        this.appendNavTags(photographers, mainNav)\n        header.appendChild(mainNav);\n    }\n\n    appendMainAnchor(header) {\n        const mainAnchor = document.createElement('a');\n        mainAnchor.className = \"go_main\";\n        mainAnchor.setAttribute = (\"href\", \"#app\");\n        mainAnchor.innerHTML = `Passer au contenu`;\n\n        header.appendChild(mainAnchor);\n    }\n\n    \n      \n    appendNavTags(photographers, nav) {\n        this.allTags.forEach(tag => {\n            const tagName = tag.charAt(0).toUpperCase() + tag.substring(1);\n            const headerTag = document.createElement('div');\n            headerTag.className = 'main_nav__item';\n\n            const checkboxTag = document.createElement('input');\n            checkboxTag.type = \"checkbox\";\n            checkboxTag.className = \"tag_checkbox\"\n            checkboxTag.id = tagName;\n            headerTag.appendChild(checkboxTag)\n\n            const labelTag = document.createElement('label');\n            labelTag.className = \"tag_name\"\n            labelTag.setAttribute(\"for\", tagName);\n            labelTag.innerHTML = `#${tagName}`;\n            headerTag.appendChild(labelTag)\n\n            nav.appendChild(headerTag);\n\n            //listen to clicks on main nav tags\n            headerTag.addEventListener(\"change\", () => {\n\n                if (checkboxTag.checked) {\n                this.clickedNavTags.push(tag);\n                this.clickedNavTags = [...new Set(this.clickedNavTags)];\n                } else {\n                    const currentIndex = this.clickedNavTags.indexOf(tag);\n                    this.clickedNavTags.splice(currentIndex, 1);\n                }\n                this.handleTagClick(photographers)\n            });\n        });\n    }\n\n    handleTagClick(photographers) {\n        Utils.removeChildOf(\".photographers\", \"article\")\n        this.sortPhotographers(photographers)\n    }\n\n    sortPhotographers(photographers) {\n        let selectedPhotographers = [];\n        this.clickedNavTags.forEach(clickedNavTag => {\n            photographers.forEach(photographer => {\n                if (photographer.getTags().includes(clickedNavTag)) {\n                    selectedPhotographers.push(photographer)\n                }\n            });\n        });\n\n        if (this.clickedNavTags.length == 0) {\n            this.createArticle(photographers)\n        } else {\n            selectedPhotographers = [...new Set(selectedPhotographers)];\n            this.createArticle(selectedPhotographers)\n        }\n        \n    }    \n\n    renderMain(photographers) {\n        this.createMainTitle()\n        this.createPhotographersWrapper()\n        this.createArticle(photographers)\n    }\n\n    createMainTitle() {\n        const title = document.createElement('h1')\n        title.className = 'main_title'\n        title.ariaLabel = 'photographers'\n        title.innerHTML = `Nos photographes`\n        document.getElementById(\"app\").appendChild(title)\n    }\n\n    createPhotographersWrapper() {\n        const photographersWrapper = document.createElement('div')\n        photographersWrapper.className = 'photographers'\n        photographersWrapper.ariaLabelledby = 'photographers'\n        document.getElementById(\"app\").appendChild(photographersWrapper)\n    }\n\n\n    /**\n     * \n     * @param {Array<PhotographerProfileModel>} photographers \n     */\n    createArticle(photographers) {\n\n        photographers.forEach(photographer => {\n\n            const article = document.createElement('article')\n            article.className = 'article';\n            article.innerHTML = `<a class=\"photographer_thumbnail\" href=\"/photographers-profile/${photographer.getId()}\">`;\n\n            this.appendPhotographerThumbnailPicture(article, photographer);\n            this.appendPhotographerThumbnailContent(article, photographer);\n\n            document.querySelector('.photographers').appendChild(article);\n        });\n    }\n\n    /**\n     * \n     * @param {PhotographerProfileModel} photographer \n     */\n    appendPhotographerThumbnailPicture(article, photographer) {\n        const thumbnailPicture = document.createElement('a')\n        thumbnailPicture.className = 'photographer_thumbnail__picture';\n        thumbnailPicture.innerHTML = `\n        <img class=\"photographer_thumbnail__picture\"\n        src=\"/static/Photographers ID Photos/${photographer.getPortrait()}\"\n        alt=\"photographer's thumbnail picture\" />`;\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailPicture);\n    }\n\n    /**\n     * \n     * @param {PhotographerProfileModel} photographer \n     */\n    appendPhotographerThumbnailContent(article, photographer) {\n        const thumbnailContent = document.createElement('div')\n        thumbnailContent.className = 'photographer_thumbnail__content';\n        thumbnailContent.innerHTML = `\n        <h2 class=\"photographer_name\">${photographer.getName()}</h2>\n        <h3 class=\"photographer_location\">${photographer.getLocation()}</h3>\n        <p class=\"photographer_desc\">${photographer.getTagline()}</p>\n        <p class=\"photographer_price\">${photographer.getPrice()}/jour</p>\n        <div class=\"tags\"></div>`;\n\n        photographer.getTags().forEach(photographerTag => {\n            const tag = document.createElement('a')\n            tag.className = 'tags__item';\n            tag.innerHTML = `<span>#${photographerTag}</span>`\n            thumbnailContent.querySelector('.tags').appendChild(tag)\n        })\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailContent);\n    }\n}\n","\nexport const mediaEnum = {\n    PICTURE: \"picture\",\n    VIDEO: \"video\",\n}\n\nexport class MediaUtils {\n\n    // static getMediaTitle(medium) {\n    //     let tmpMedium = this.getMediaSource(medium)\n    //     let mediumTitle = tmpMedium.toLowerCase();\n    //     let mediumTitleArray = mediumTitle.split(\".\");\n    //     mediumTitle = mediumTitleArray[0];\n    //     mediumTitleArray = mediumTitle.split(\"_\");\n    //     mediumTitle = mediumTitleArray.shift(); //remove 1st element in array \n    //     mediumTitle = mediumTitleArray.join(\" \"); //add elements of array into a string\n    //     mediumTitle = mediumTitle.charAt(0).toUpperCase() + mediumTitle.slice(1);\n    //     return mediumTitle;\n    // }\n\n    static getMediaSource(medium) {\n        let source = medium.image;\n        if (source == null) {\n            source = medium.video;\n        }\n        return source;\n    }\n\n    static getMediumType(medium) {\n        let extension = this.getMediaSource(medium).split('.').pop();\n        if (/(jpg)$/ig.test(extension)) {\n            return mediaEnum.PICTURE;\n        }\n        if (/(mp4)$/ig.test(extension)) {\n            return mediaEnum.VIDEO;\n        }\n    }\n\n}","import { MediaUtils } from \"../utils/MediaUtils\";\n\nexport class MediumModel {\n    constructor(medium) {\n        this.medium = medium;\n    }\n\n    getMediumType() {\n        return MediaUtils.getMediumType(this.medium)\n    }\n\n    getSource() {\n        return MediaUtils.getMediaSource(this.medium)\n    }\n\n    getTitle() {\n        return this.medium.title\n    }\n\n    getPrice() {\n        return this.medium.price\n    }\n\n    getLikes() {\n        return this.medium.likes\n    }\n\n    getTags() {\n        return this.medium.tags\n    }\n\n    getId() {\n        return this.medium.id\n    }\n\n    getPhotographerId() {\n        return this.medium.photographerId\n    }\n    \n    getDate() {\n        return this.medium.date\n    }\n    \n\n}\n\n\n\n\n\n\n\n","import { MediumModel } from \"../models/MediumModel\";\nimport { mediaEnum } from \"../utils/MediaUtils\";\nimport { PhotographerProfileModel } from \"../models/PhotographerProfileModel\";\n\nexport class MediaFactory {\n\n    /**\n     * \n     * @param {MediumModel} medium \n     * @param {PhotographerProfileModel} currentPhotographer \n     * @returns \n     */\n    renderMedium(medium, currentPhotographer) {\n\n\n        let mediumThumbnail = this.createMediumDisplay(medium, currentPhotographer, \"medium_thumbnail\");\n              \n        this.appendThumbnailContent(medium, mediumThumbnail);\n\n        return mediumThumbnail;\n    }\n\n    appendThumbnailContent(medium, mediumThumbnail) {\n        let mediumThumbnailContent = document.createElement('div');\n        mediumThumbnailContent.className = \"medium_thumbnail__content\";\n        mediumThumbnailContent.innerHTML = `\n            <h2 class=\"medium_title\">${medium.getTitle()}</h2>\n            <div class=\"price_and_likes\">\n              <span class=\"medium_price\">${medium.getPrice()}</span>\n              <span class=\"medium_number_of_likes\">${medium.getLikes()}</span>\n              <label class=\"checkbox__like aria-label=\"likes\"> \n                <input type=\"checkbox\" class=\"checkbox__input\" name=\"like\" aria-labelledby=\"likes\">\n                    <i class=\"far fa-heart like__unchecked\"></i>\n                    <i class=\"fas fa-heart like__checked\"></i>\n                </input>   \n                </label>\n            </div>\n          </div>`;\n\n        mediumThumbnail.appendChild(mediumThumbnailContent);\n    }\n\n    /**\n     * \n     * @param {MediumModel} medium \n     * @param {PhotographerProfileModel} currentPhotographer \n     * @param {string} className \n     * @param {boolean} controls \n     * @returns \n     */\n    createMediumDisplay(medium, currentPhotographer, className, controls = false) {\n        let mediumThumbnail = document.createElement('div');\n        mediumThumbnail.className = className;\n        mediumThumbnail.ariaLabel = medium.getTitle();\n        \n        const mediumType = medium.getMediumType();\n\n        let mediumSource = String(medium.getSource());\n\n        var media;\n        switch (mediumType) {\n            case mediaEnum.PICTURE: {\n                media = document.createElement('img');\n                media.src = `/static/${currentPhotographer.getName().split(' ')[0]}/${mediumSource}`\n                break;\n            }\n            case mediaEnum.VIDEO: {\n                media = document.createElement('video');\n                let source = document.createElement('source');\n                source.src = `/static/${currentPhotographer.getName().split(' ')[0]}/${mediumSource}`\n                source.type = \"video/mp4\"\n                media.controls = controls;\n                if(controls){\n                    media.autoplay = true\n                }\n                media.appendChild(source);\n                break;\n            }\n            default: mediumSource = String(\"\");\n\n        }\n        media.className = `${className}__miniature`;\n        media.alt = medium.getTitle();\n        mediumThumbnail.appendChild(media);\n        return mediumThumbnail;\n    }\n\n}\n\n\n","import { PhotographerProfileModel } from \"../models/PhotographerProfileModel\";\n\nexport class ContactModal {\n    /**\n     * \n     * @param {PhotographerProfileModel} currentPhotographer \n     */\n    constructor(currentPhotographer) {\n        this.currentPhotographer = currentPhotographer;\n    }\n\n    //modal creation \n    renderContactModal() {\n        this.createContactModal();\n        this.createContactModalBody();\n\n        this.contactModal = document.querySelector('.contact_modal');\n    }\n\n    createContactModal() {\n        const contactModal = document.createElement('dialog');\n        contactModal.className = 'contact_modal';\n\n        document.getElementById(\"app\").appendChild(contactModal);\n    }\n\n    createContactModalBody() {\n        const modalBody = document.createElement('div');\n        modalBody.className = 'contact_modal__body';\n\n        this.appendModalTitle(modalBody);\n        this.appendCloseButton(modalBody);\n        this.appendContactForm(modalBody);\n        this.createModalButton(modalBody);\n\n        document.querySelector('.contact_modal').appendChild(modalBody);\n    }\n\n    appendModalTitle(modalBody) {\n        const modalTitle = document.createElement('h2');\n        modalTitle.className = 'contact_modal__body__title';\n        modalTitle.innerHTML = `Contactez-moi </br> ${this.currentPhotographer.getName()}`;\n\n        modalBody.appendChild(modalTitle);\n\n    }\n\n    appendCloseButton(modalBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button';\n        closeButton.role = \"button\";\n        closeButton.ariaLabel = \"close dialog\"\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideContactModal();\n        });\n        modalBody.appendChild(closeButton);\n\n    }\n\n    appendContactForm(modalBody) {\n        const contactForm = document.createElement('form');\n        contactForm.className = 'contact_form';\n        contactForm.setAttribute = (\"method\", \"post\");\n        contactForm.setAttribute = (\"action\", \"submit\");\n\n        this.createFormFields(contactForm);\n        this.addEventListenerValidate(contactForm);\n\n        modalBody.appendChild(contactForm);\n    }\n\n    addEventListenerValidate(contactForm) {\n        const inputs = contactForm.querySelectorAll('.input_field');\n\n        inputs.forEach(input => {\n            input.addEventListener('blur', () => {\n                if (this.validateFieldsFormat(input) === true) {\n                    this.hideErrorMessage(input.parentElement);\n                } else {\n                    if (input.id === \"email\") {\n                        this.showErrorMessage(input.parentElement, 'Veuillez entrer une adresse mail valide')\n                    } else if (input.id === \"message\") {\n                        this.showErrorMessage(input.parentElement, \"Dites-m'en un peu plus...\")\n                    } else {\n                        this.showErrorMessage(input.parentElement, 'Veuillez entrer au moins 2 caractres')\n                    }\n                }\n            });\n        });\n    }\n\n    createFormData() {\n        const formData = document.createElement('div');\n        formData.className = 'formData';\n        return formData;\n    }\n\n    createLabel(forParam, textParam) {\n        const label = document.createElement('label');\n        label.setAttribute(\"for\", forParam);\n        label.innerHTML = `${textParam}`;\n        return label;\n    }\n\n    createInputField(id) {\n        const inputField = document.createElement('input');\n        inputField.className = 'input_field';\n        inputField.type = \"text\";\n        inputField.setAttribute(\"id\", id);\n        return inputField;\n    }\n\n    createTextArea(id) {\n        const textAreaInput = document.createElement('textarea');\n        textAreaInput.className = 'input_field';\n        textAreaInput.setAttribute(\"id\", id);\n        textAreaInput.setAttribute(\"rows\", 5);\n        return textAreaInput;\n    }\n\n    createFormFields(contactForm) {\n\n        //Firstname\n        let formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"firstname\", \"Prnom\"));\n        formData.appendChild(this.createInputField(\"firstname\"));\n        contactForm.appendChild(formData);\n\n        //Lastname\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"lastname\", \"Nom\"));\n        formData.appendChild(this.createInputField(\"lastname\"));\n        contactForm.appendChild(formData);\n\n        //Email\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"email\", \"Email\"));\n        formData.appendChild(this.createInputField(\"email\"));\n        contactForm.appendChild(formData);\n\n        //Message\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"message\", \"Votre message\"));\n        formData.appendChild(this.createTextArea(\"message\"));\n        contactForm.appendChild(formData);\n    }\n\n    createModalButton(modalBody) {\n        const modalButton = document.createElement('button');\n        modalButton.className = 'button_contact submit_button';\n        modalButton.type = \"submit\";\n        modalButton.innerHTML = `Envoyer`;\n\n        modalButton.addEventListener('click', (e) => {\n            const inputs = [...modalBody.querySelectorAll('.input_field')];\n            e.preventDefault();\n            if (this.validateFields(modalBody) === true) {\n                this.hideContactModal();\n                inputs.map(input => {\n                    const fields = {\n                        input: input.id,\n                        inputValue: input.value,\n                    }\n                    return fields;\n                })\n                .forEach((field) => console.log(field.input + \" : \" + field.inputValue));\n            } else {\n                console.log(\"Merci de rensigner les champs\")\n            }\n        });\n        modalBody.appendChild(modalButton);\n    }\n\n    showContactModal() {\n        this.contactModal.style.display = \"block\";\n    }\n\n    hideContactModal() {\n        this.contactModal.style.display = \"none\";\n    }\n\n\n    //fields validation \n\n    //error message is displayed when field is invalid\t\n    showErrorMessage(field, message) {\n        field.setAttribute('data-error', message);\n        field.setAttribute('data-error-visible', 'true');\n    }\n\n    //error message is hidden \n    hideErrorMessage(field) {\n        field.removeAttribute('data-error');\n        field.removeAttribute('data-error-visible');\n    }\n\n    validateFieldsFormat(input) {\n        const fieldFormat = /^[A-Za-z\\-\\s']{2,}$/;\n        const emailAddressFormat = /\\S+@\\S+\\.\\S+/;\n        const messageFormat = /^[A-Za-z\\-\\s'.,;:!?]{5,500}$/;\n\n        if (input.id === \"email\") {\n            if ((input.value.length != 0) && (emailAddressFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        if (input.id === \"message\") {\n            if ((input.value.length != 0) && (messageFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n\n        } else {\n            if ((input.value.length != 0) && (fieldFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    validateFields(modalBody) {\n        const inputs = modalBody.querySelectorAll('.input_field');\n        let outcome = true\n        inputs.forEach(input => {\n            if (this.validateFieldsFormat(input) === false) {\n                outcome = false\n            }\n        });\n        return outcome;\n    }\n}","import { MediaFactory } from './MediaFactory';\nimport { MediumModel } from '../models/MediumModel';\nimport { PhotographerProfileModel } from '../models/PhotographerProfileModel';\nimport { Utils } from '../utils/Utils';\n\nexport class LightboxMedia {\n    /**\n     * @param {Array<MediumModel>} mediaList \n     * @param {PhotographerProfileModel} currentPhotographer \n     */\n    constructor(mediaList = [], currentPhotographer) {\n        this.mediaList = mediaList;\n        this.currentPhotographer = currentPhotographer;\n\n        this.mediaFactory = new MediaFactory();\n    }\n\n    renderLightboxMedia() {\n        this.createLightboxMedia();\n        this.createLightboxMediaBody();\n\n        this.lightboxMedia = document.querySelector('.lightbox_media');\n    }\n\n    createLightboxMedia() {\n        const lightboxMedia = document.createElement('dialog');\n        lightboxMedia.className = 'lightbox_media';\n        lightboxMedia.ariaLabel = \"image close-up view\"\n        document.getElementById(\"app\").appendChild(lightboxMedia);\n    }\n\n    createLightboxMediaBody() {\n        const lightboxBody = document.createElement('div');\n        lightboxBody.className = 'lightbox_media__body';\n\n        this.appendCloseButton(lightboxBody);\n        this.appendNavButtons(lightboxBody);\n        this.handleNav(lightboxBody);\n        this.appendMediumBox(lightboxBody);\n        this.appendMediumTitle(lightboxBody);\n       \n        document.querySelector('.lightbox_media').appendChild(lightboxBody);\n    }\n\n    appendCloseButton(lightboxBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button_lightbox';\n        closeButton.role = \"button\";\n        closeButton.ariaLabel = \"close dialog\";\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideLightboxMedia();\n        });\n        lightboxBody.appendChild(closeButton);\n    }\n\n    createNavButton(buttonClass, buttonIcon, accessibleName) {\n        const button = document.createElement('button');\n        button.className = buttonClass;\n        button.innerHTML = `<i class=\"fas ${buttonIcon} fa-3x\"></i>`;\n        button.ariaLabel = accessibleName\n        return button;\n    }\n\n    appendNavButtons(lightboxBody) {\n        const previousButton = this.createNavButton(\"previous_button\", \"fa-chevron-left\", \"previous image\");\n        const nextButton = this.createNavButton(\"next_button\", \"fa-chevron-right\", \"next image\");\n\n        lightboxBody.appendChild(previousButton);\n        lightboxBody.appendChild(nextButton);\n    }\n\n    handleNav(lightboxBody) {\n\n        const previousButton = lightboxBody.querySelector('.previous_button');\n        const nextButton = lightboxBody.querySelector('.next_button');\n\n        previousButton.addEventListener('click', () => {\n\n            const currentIndex = this.mediaList.indexOf(this.medium);\n            const newIndex = currentIndex - 1;\n\n            const nextButton = lightboxBody.querySelector('.next_button');\n            nextButton.style.display = \"block\";\n            console.log(newIndex)\n            if (newIndex >= 0 ) {\n                this.showLightboxMedia(this.mediaList[newIndex], this.currentPhotographer, this.mediaList);\n            } \n\n            if (newIndex == 0) {\n                previousButton.style.display = \"none\"; //disable prev button\n            }\n        });\n\n        nextButton.addEventListener('click', () => {\n            const currentIndex = this.mediaList.indexOf(this.medium);\n            const newIndex = currentIndex + 1;\n\n            const previousButton = lightboxBody.querySelector('.previous_button');\n            previousButton.style.display = \"block\";\n\n            if (newIndex <= this.mediaList.length -1) {\n                this.showLightboxMedia(this.mediaList[newIndex], this.currentPhotographer, this.mediaList);\n            }\n\n            if (newIndex == this.mediaList.length -1) {\n                nextButton.style.display = \"none\";\n            }\n        });\n    }\n\n\n    appendMediumBox(lightboxBody) {\n        const nextButton = lightboxBody.querySelector('.next_button');\n        const mediumBox = document.createElement('div');\n        mediumBox.className = \"medium_box\";\n        lightboxBody.insertBefore(mediumBox, nextButton);\n    }\n\n    appendMediumTitle(lightboxBody) {\n        const mediumTitle = document.createElement('h2');\n        mediumTitle.className = 'lightbox_title';\n        lightboxBody.querySelector('.medium_box').appendChild(mediumTitle);\n    }\n\n    showLightboxMedia(medium, currentPhotographer, mediaList) {\n        this.mediaList = mediaList;\n        this.medium = medium;\n        Utils.removeChildOf('.medium_box', 'lightbox_medium');\n\n        \n        const mediumTitle = document.querySelector('.lightbox_title')\n        mediumTitle.innerHTML = medium.getTitle();\n\n        const lightboxMedium = this.mediaFactory.createMediumDisplay(medium, currentPhotographer, \"lightbox_medium\", true);\n        document.querySelector('.medium_box').insertBefore(lightboxMedium, mediumTitle);\n        this.lightboxMedia.style.display = \"block\";        \n    }\n\n    hideLightboxMedia() {\n        this.lightboxMedia.style.display = \"none\";\n    }\n\n}\n","import { MediumModel } from \"./MediumModel\";\nimport { PhotographerProfileModel } from \"./PhotographerProfileModel\";\n\nexport class PhotographerPageModel {\n\n    /**\n   * @param {Array<PhotographerProfileModel>} photographersList\n    * @param {Array<MediumModel>} mediaList\n    */\n    constructor(photographersList, mediaList) {\n        this.photographersList = photographersList;\n        this.mediaList = mediaList;\n    }\n\n    getPhotographersList() {\n        return this.photographersList\n    }\n\n    getMediaList() {\n        return this.mediaList\n    }\n}","import { MediaFactory } from './MediaFactory';\nimport { ContactModal } from \"./ContactModal\";\nimport { LightboxMedia } from \"./LightboxMedia\";\nimport { Tags } from \"./Tags\";\nimport { Utils } from \"../utils/Utils\";\nimport { PhotographerPageModel } from \"../models/PhotographerPageModel\";\nimport { PhotographerProfileModel } from '../models/PhotographerProfileModel';\nimport { MediumModel } from '../models/MediumModel';\n\nexport class PhotographerPageBuilder {\n\n    SortEnum = {\n        DATE: \"Date\",\n        POPULARITY: \"Popularit\",\n        TITLE: \"Titre\",\n    }\n    \n    /**\n     * \n     * @param {Promise<PhotographerPageModel>} photographerPageModel \n     */\n    constructor(photographerPageModel) {\n        this.photographerPageModelPromise = photographerPageModel\n        this.isDropdownVisible = false //dropdown menu hidden by default\n        this.mediaList = [];\n        this.activeTags = [];\n        this.selectedMedia = [];\n        this.mediaFactory = new MediaFactory();\n    }\n\n    render(id) {\n        this.idPhotographer = id\n        this.photographerPageModelPromise\n            .then((photographerPageModel) => {\n                this.determineCurrentPhotographer(photographerPageModel.getPhotographersList());\n                this.determineCurrentPhotographerMedia(photographerPageModel.getMediaList());\n\n                this.renderHeader();\n                this.renderMain();\n\n                this.contactModal = new ContactModal(this.currentPhotographer);\n                this.contactModal.renderContactModal();\n\n                this.lightboxMedia = new LightboxMedia(this.allMedia, this.currentPhotographer);\n                this.lightboxMedia.renderLightboxMedia();\n            })\n    }\n\n    renderHeader() {\n        const header = this.createHeader();\n        this.appendLogo(header);\n\n        const main = document.querySelector(\"main\");\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_photographer_page';\n        return header;\n    }\n    \n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.setAttribute(\"href\", \"/\");\n        logo.innerHTML = `<img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"Fisheye Home Page\" />`;\n\n        header.appendChild(logo);\n    }\n\n    // for each photographer, \n    //  if their id == photographer wanted \n    //  then save photographer in currentPhotographer \n    /**\n     * \n     * @param {Array<PhotographerProfileModel} photographers \n     */\n    determineCurrentPhotographer(photographers) {\n        photographers.forEach(photographer => {\n            if (photographer.getId() == this.idPhotographer) {\n                this.currentPhotographer = photographer;\n            }\n        });\n    }\n\n    //for each medium, \n    //  if photographer id in media object = id in photographers object,\n    //  then add medium to array\n    /**\n     * \n     * @param {Array<MediumModel>} media \n     */\n    determineCurrentPhotographerMedia(media) {\n        media.forEach(medium => {\n            if (medium.getPhotographerId() == this.idPhotographer) {\n                this.mediaList.push(medium);\n            }\n        });\n    }\n\n    renderMain() {\n        this.renderBanner();\n        this.renderSummary();\n        this.renderDropdown();\n        this.sortBy(this.SortEnum.POPULARITY);\n    }\n\n\n    //Banner\n    renderBanner() {\n        const banner = document.createElement('div');\n        banner.className = 'banner';\n        banner.innerHTML = `\n        <div class=\"banner__text_content\">\n            <h2 class=\"photographer_name\">${this.currentPhotographer.getName()}</h2>\n            <h3 class=\"photographer_location\">${this.currentPhotographer.getLocation()}</h3>\n            <p class=\"photographer_desc\">${this.currentPhotographer.getTagline()}</p>\n            <div class=\"tags tags_photographer_page\"></div>\n        </div>\n        <button class=\"button_contact button_banner\" aria-label=\"Contact Me\"> Contactez-moi </button>\n        <div class=\"photographer__picture\">\n            <img class=\"photographer_thumbnail__picture picture_profile\" src=\"/static/Photographers ID Photos/${this.currentPhotographer.getPortrait()}\" alt=\"\">\n        </div>`\n\n        banner.querySelector(\".button_banner\").addEventListener('click', () => {\n            this.launchContactModal()\n        });\n        this.appendBannerTags(banner.querySelector(\".tags_photographer_page\"))\n        document.getElementById('app').appendChild(banner);\n    }\n\n    launchContactModal() {\n        this.contactModal.showContactModal();\n    }\n\n    appendBannerTags(bannerTags) {\n        const tags = new Tags(this.currentPhotographer.getTags());\n        tags.appendTags(bannerTags,'photographer_tags__item')\n        tags.addEventOnChange(bannerTags, (isChecked, tag) => this.handleTagClick(isChecked, tag));\n    }\n\n    handleTagClick(isChecked, tag) {\n        console.log(isChecked)\n        console.log(tag)\n        if (isChecked) {\n            this.activeTags.push(tag);\n            this.activeTags = [...new Set(this.activeTags)];\n        } else {\n            const currentIndex = this.activeTags.indexOf(tag);\n            this.activeTags.splice(currentIndex, 1);\n        }\n        Utils.removeChildOf(\"#app\", \"medium_thumbnail\");\n        this.sortMedia()\n    }\n\n    sortMedia() {\n       this.selectedMedia = [];\n       console.log(this.activeTags)\n        this.activeTags.forEach(clickedPhotographerTag => {\n            this.mediaList.forEach(medium => {\n                medium.getTags().forEach(tag => {\n                    console.log(tag)\n                    if (tag == clickedPhotographerTag) {\n                        this.selectedMedia.push(medium)\n                    }\n                })\n            });\n        });\n        console.log(this.selectedMedia)\n        \n\n        if (this.selectedMedia.length == 0) {\n            this.mediaList.forEach(medium => {\n                this.createMediumThumbnail(medium)\n\n            });\n        } else {\n            this.selectedMedia = [...new Set(this.selectedMedia)];\n\n            this.selectedMedia.forEach(selectedMedium => {\n                this.createMediumThumbnail(selectedMedium);\n            });\n        }\n\n    }\n\n    //dropdown\n    renderDropdown() {\n\n        const dropdownMenu = this.createDropdownMenu();\n        this.appendSortByText(dropdownMenu);\n        this.appendDropdown(dropdownMenu);\n        document.querySelector('main').appendChild(dropdownMenu);\n\n        const dropdrownButton = document.querySelector('.dropdown__button');\n        const dropdrownContent = document.querySelector('.dropdown__content');\n\n        dropdrownButton.addEventListener('click', () => {\n            if (this.isDropdownVisible == false) {\n                dropdrownContent.style.display = \"block\";\n                this.isDropdownVisible = true; //content visibility state \n            } else {\n                dropdrownContent.style.display = \"none\";\n                this.isDropdownVisible = false;\n            }\n        });\n\n        const dropdownItems = document.getElementsByClassName(\"dropdown__content__item\");\n        for (let item of dropdownItems) {\n            item.addEventListener('click', () => {\n                this.handleDropdownItemClick(dropdrownButton, item);\n            })\n        }\n    }\n\n    createDropdownMenu() {\n        const dropdownMenu = document.createElement('div');\n        dropdownMenu.className = \"dropdown_menu\";\n        return dropdownMenu;\n    }\n\n    appendSortByText(dropdownMenu) {\n        const sortBy = document.createElement('span');\n        sortBy.className = 'sort_by';\n        sortBy.innerHTML = `Trier par`;\n        dropdownMenu.appendChild(sortBy);\n    }\n\n    appendDropdown(dropdownMenu) {\n        const dropdown = document.createElement('div');\n        dropdown.className = \"dropdown\";\n        this.appendDropdownButton(dropdown);\n        this.createDropdownContent(dropdown);\n        dropdownMenu.appendChild(dropdown);\n    }\n\n    appendDropdownButton(dropdown) {\n        const dropdownButton = document.createElement('button');\n        dropdownButton.className = 'dropdown__button';\n        dropdownButton.role = \"button\"\n        dropdownButton.innerHTML = this.SortEnum.POPULARITY;\n        dropdown.appendChild(dropdownButton);\n    }\n\n    createDropdownContent(dropdown) {\n        const dropdownContent = document.createElement('div');\n        dropdownContent.className = 'dropdown__content';\n\n        this.appendDropdownItemDATE(dropdownContent);\n        this.appendDropdownItemTITLE(dropdownContent);\n\n        dropdown.appendChild(dropdownContent);\n    }\n\n    appendDropdownItemDATE(dropdownContent) {\n        const dropdownItemDATE = document.createElement('a');\n        dropdownItemDATE.className = 'dropdown__content__item';\n        dropdownItemDATE.innerHTML = this.SortEnum.DATE;\n        dropdownContent.appendChild(dropdownItemDATE);\n    }\n\n    appendDropdownItemTITLE(dropdownContent) {\n        const dropdownItemTITLE = document.createElement('a');\n        dropdownItemTITLE.className = 'dropdown__content__item';\n        dropdownItemTITLE.innerHTML = this.SortEnum.TITLE;\n        dropdownContent.appendChild(dropdownItemTITLE);\n    }\n\n\n    //sticker photographer total number of likes and price\n    renderSummary() {\n        const summary = this.createSummary();\n        this.createTotalLikes(summary);\n        this.createPhotographerPrice(summary);\n\n    }\n\n    createSummary() {\n        const stickerSummary = document.createElement('div');\n        stickerSummary.className = 'sticker_summary';\n        document.querySelector('main').appendChild(stickerSummary);\n        return stickerSummary;\n    }\n\n    createPhotographerPrice(summary) {\n        const photographerPrice = document.createElement('div');\n        photographerPrice.className = \"photographer_price\";\n        photographerPrice.innerHTML = this.currentPhotographer.getPrice() + \"/jour\";\n\n        summary.appendChild(photographerPrice);\n    }\n\n    createTotalLikes(summary) {\n        let numberOfLikes = 0;\n        this.mediaList.forEach(medium => {\n            numberOfLikes = numberOfLikes + medium.getLikes()\n        });\n\n        const totalNumberOfLikes = document.createElement('div');\n        totalNumberOfLikes.className = \"total_likes\";\n\n        totalNumberOfLikes.innerHTML = `\n        <p class=\"total_number_of_likes\">` + numberOfLikes + `</p>\n        <i class=\"fas fa-heart fa-lg\" aria-label=\"likes\"></i>`;\n\n        summary.appendChild(totalNumberOfLikes);\n    }\n\n    incrementNumberOfLikes(mediumThumbnail) {\n        const likeButton = mediumThumbnail.querySelector('.checkbox__input');\n        const mediumLikes = mediumThumbnail.querySelector('.medium_number_of_likes');\n        const totalLikes = document.querySelector('.total_number_of_likes');\n\n        likeButton.addEventListener('change', () => {\n            if (likeButton.checked) {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) + 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) + 1;\n            } else {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) - 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) - 1;\n            }\n\n        });\n    }\n\n    /**\n     * \n     * @param {MediumModel} medium \n     */\n    createMediumThumbnail(medium) {\n        const mediumThumbnail = this.mediaFactory.renderMedium(medium, this.currentPhotographer);\n\n        const main = document.querySelector('main');\n        main.appendChild(mediumThumbnail);\n\n        const mediumThumbnailMiniature = mediumThumbnail.querySelector('.medium_thumbnail__miniature');\n\n        mediumThumbnailMiniature.addEventListener('click', () => {\n            if (this.selectedMedia.length == 0) {\n                this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, this.mediaList)\n            } else {\n                this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, this.selectedMedia)\n            }\n        })\n\n        this.incrementNumberOfLikes(mediumThumbnail);\n    }\n\n    handleDropdownItemClick(dropdrownButton, item) {\n        dropdrownButton.click();\n\n        Utils.removeChildOf(\"#app\", \"medium_thumbnail\");//remove everything\n        this.sortBy(item.innerHTML); //sort\n        this.swapDropdownItems(item, dropdrownButton); //swap\n    }\n\n    swapDropdownItems(item, dropdrownButton) {\n        var temporary = item.innerHTML;\n        item.innerHTML = dropdrownButton.innerHTML;\n        dropdrownButton.innerHTML = temporary;\n    }\n\n    //a & b = media\n    sortBy(sortType) {\n        let sortedMedia = null;\n        switch (sortType) {\n            case this.SortEnum.DATE:\n                sortedMedia = this.mediaList.sort((a, b) => new Date(b.getDate()) - new Date(a.getDate()))\n                break;\n            case this.SortEnum.POPULARITY:\n                sortedMedia = this.mediaList.sort((a, b) => b.getLikes() - a.getLikes());\n                break;\n            case this.SortEnum.TITLE:\n                sortedMedia = this.mediaList.sort((a,b) => a.getTitle().localeCompare(b.getTitle(), 'fr'));\n                break;\n        }\n        console.log(sortedMedia)\n        sortedMedia.forEach(sortedMedium => {\n            this.createMediumThumbnail(sortedMedium)\n        })\n    }\n}","import { HomePageBuilder } from \"./HomePageBuilder\";\nimport { PhotographerPageBuilder } from \"./PhotographerPageBuilder\";\n\n\nexport const PageFactoryEnum = {\n    HOME: \"home\",\n    PHOTOGRAPHER : \"photographer\",\n}\n//Map[key] = value\nlet registeredPages = new Map([\n    [PageFactoryEnum.PHOTOGRAPHER, PhotographerPageBuilder],\n    [PageFactoryEnum.HOME, HomePageBuilder]\n])\n\nexport class PageFactory {\n    getPage(type, pageModel) {\n        return new (registeredPages.get(type))(pageModel);\n    }\n}\n\n","import { HomePageModel } from \"../models/HomePageModel\";\nimport { MediumModel } from \"./MediumModel\";\nimport { PhotographerPageModel } from \"./PhotographerPageModel\";\n\n\nexport class AppModel {\n\n    /**\n   * @param {HomePageModel} homePage\n    * @param {PhotographerPageModel} photographerPageModel\n    */\n    constructor(homePage, photographerPageModel) {\n        this.homePageModel = homePage;\n        this.photographerPageModel = photographerPageModel;\n    }\n\n    getHomePage() {\n        return this.homePageModel\n    }\n\n    getMediaPageModel() {\n        return this.photographerPageModel\n    }\n}","export class PhotographersUtils {\n\n    static getAllTags(json) {\n        let photographers = json.photographers;\n        const allTags = photographers.map(photographer => photographer.tags).flat();\n        const tagsList = [...new Set(allTags)];\n        return tagsList;\n    }\n}","import { AppModel } from \"../models/AppModel\";\nimport { HomePageModel } from \"../models/HomePageModel\";\nimport { MediumModel as MediumModel } from \"../models/MediumModel\";\nimport { PhotographerPageModel } from \"../models/PhotographerPageModel\";\nimport { PhotographerProfileModel } from \"../models/PhotographerProfileModel\";\nimport { PhotographersUtils } from \"./PhotographersUtils\";\n\nexport class DataFetcher {\n    constructor(dataSource) {\n        this.dataSource = dataSource; //json file\n    }\n\n    fetchSource() {\n        const result = fetch(this.dataSource) // ressource request\n        .then(resp => resp.json())\n        .then(json => this.appPageWrapper(json))\n        return result;\n    }\n\n\n    appPageWrapper(json) {\n        const tagsList = PhotographersUtils.getAllTags(json); \n        const photographersList = json.photographers.map(photographer => new PhotographerProfileModel(photographer));\n        const homePageModel = new HomePageModel(photographersList, tagsList);\n        const mediaList = this.createMediaList(json);\n        const mediaPageModel = new PhotographerPageModel(photographersList, mediaList);\n        \n        return new AppModel(homePageModel, mediaPageModel)\n    }\n\n\n    createMediaList(json){\n        const mediaList = json.media.map(medium => new MediumModel(medium)) //map array<JSON medium> => array<mediumModel>\n        return mediaList;\n      \n    }\n\n\n\n}\n\n\n","import { PageFactory, PageFactoryEnum } from './scripts/factory/PageFactory';\nimport { AppModel } from './scripts/models/AppModel';\nimport { DataFetcher } from './scripts/utils/DataFetcher';\n\nconst dataFetcher = new DataFetcher('/static/FishEyeData-new.json');\nconst json = dataFetcher.fetchSource()\nconst pageFactory = new PageFactory();\n\n//possible routes\nconst routes = [\n    {\n        regex: /\\/{1}$/gm,\n        component: pageFactory.getPage(PageFactoryEnum.HOME, json.then(appModel => appModel.homePageModel))\n    },\n    {\n        regex: /\\/[A-Za-z\\-]{1,}\\/[0-9]{0,3}?$/,\n        component: pageFactory.getPage(PageFactoryEnum.PHOTOGRAPHER, json.then(appModel => appModel.photographerPageModel))\n    },\n];\n\nexport const router = () => {\n    const idPhotographer = location.pathname.split('/')[2];\n    routes.find(route => route.regex.test(location.pathname)).component.render(idPhotographer)\n};","import { router } from './Router';\n\nwindow.addEventListener('hashchange', router); // identifier of the URL changes\nwindow.addEventListener('load', router); // ressource has loaded","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}