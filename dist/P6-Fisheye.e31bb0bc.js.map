{"version":3,"sources":["scripts/utils/Utils.js","scripts/factory/HomePageBuilder.js","scripts/factory/MediaFactory.js","scripts/factory/ContactModal.js","scripts/factory/LightboxMedia.js","scripts/factory/PhotographerPageBuilder.js","scripts/factory/PageFactory.js","scripts/utils/DataFetcher.js","Router.js","index.js","../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Utils","removeChildOf","node","classToRemove","parentNode","document","querySelector","console","log","index","childNodes","length","child","className","removeChild","removeAllThumbnails","photographersNode","mainNode","HomePageBuilder","constructor","json","dataPromise","clickedNavTags","render","then","jsonData","photographers","renderHeader","renderMain","header","createHeader","appendLogo","appendMainNav","main","insertBefore","createElement","logo","innerHTML","appendChild","mainNav","appendNavTags","nav","allTags","map","photographer","tags","flat","distinctTags","Set","forEach","tag","tagName","charAt","toUpperCase","substring","headerTag","checkboxTag","type","id","labelTag","setAttribute","addEventListener","checked","push","currentIndex","indexOf","splice","handleTagClick","sortPhotographers","selectedPhotographers","clickedNavTag","includes","createArticle","createMainTitle","title","article","appendPhotographerThumbnailPicture","appendPhotographerThumbnailContent","thumbnailPicture","portrait","thumbnailContent","name","city","country","tagline","price","photographerTag","MediaFactory","PICTURE","VIDEO","getMediumType","tmpMedium","extension","split","pop","test","mediaEnum","extractMediumTitle","medium","getMediumFile","mediumTitle","toLowerCase","mediumTitleArray","shift","join","slice","renderMedium","currentPhotographer","mediumThumbnail","createMediumDisplay","appendThumbnailContent","mediumThumbnailContent","likes","controls","mediumType","media","String","image","src","video","source","autoplay","alt","ContactModal","renderContactModal","createContactModal","createContactModalBody","contactModal","modalBody","appendModalTitle","appendCloseButton","appendContactForm","createModalButton","modalTitle","closeButton","hideContactModal","contactForm","createFormFields","addEventListenerValidate","inputs","querySelectorAll","input","validateFieldsFormat","hideErrorMessage","parentElement","showErrorMessage","createFormData","formData","createLabel","forParam","textParam","label","createInputField","inputField","createTextArea","textAreaInput","modalButton","e","preventDefault","validateFields","fields","inputValue","value","field","showContactModal","style","display","message","removeAttribute","fieldFormat","emailAddressFormat","messageFormat","outcome","LightboxMedia","allMedia","mediaFactory","renderLightboxMedia","createLightboxMedia","createLightboxMediaBody","lightboxMedia","lightboxBody","appendNavButtons","handleNav","appendMediumBox","appendMediumTitle","hideLightboxMedia","createNavButton","buttonClass","buttonIcon","button","previousButton","nextButton","newIndex","showLightboxMedia","mediumBox","removeLightboxMedium","lightboxMedium","PhotographerPageBuilder","DATE","POPULARITY","TITLE","jsonPromise","isDropdownVisible","photographerTags","selectedMedia","idPhotographer","determineCurrentPhotographer","determineCurrentPhotographerMedia","photographerId","renderBanner","renderSummary","renderDropdown","sortBy","SortEnum","createBanner","renderBannerContent","createBannerButton","createBannerPicture","banner","bannerContent","createBannerContent","appendBannerName","appendBannerLocation","appendBannerDesc","appendBannerTags","appendBannerContentTags","bannerTitle","bannerLocation","bannerDesc","contactButton","launchContactModal","bannerPicture","bannerTags","bannerTag","sortMedia","clickedPhotographerTag","createMediumThumbnail","selectedMedium","dropdownMenu","createDropdownMenu","appendSortByText","appendDropdown","dropdrownButton","dropdrownContent","dropdownItems","getElementsByClassName","item","handleDropdownItemClick","dropdown","appendDropdownButton","createDropdownContent","dropdownButton","dropdownContent","appendDropdownItemDATE","appendDropdownItemTITLE","dropdownItemDATE","dropdownItemTITLE","summary","createSummary","createTotalLikes","createPhotographerPrice","stickerSummary","photographerPrice","numberOfLikes","totalNumberOfLikes","incrementNumberOfLikes","likeButton","mediumLikes","totalLikes","parseInt","mediumThumbnailMiniature","click","swapDropdownItems","temporary","sortType","sortedMedia","sort","a","b","Date","date","compareTitle","sortedMedium","t1","t2","localeCompare","PageFactoryEnum","HOME","PHOTOGRAPHER","registeredPages","Map","PageFactory","getPage","get","DataFetcher","dataSource","fetchSource","resp","fetch","dataFetcher","pageFactory","routes","regex","component","router","location","pathname","find","route","window","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","body","getElementById","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"P6-Fisheye.e31bb0bc.js","sourceRoot":"..","sourcesContent":["export class Utils {\n\n    static removeChildOf(node, classToRemove){\n        const parentNode = document.querySelector(node)\n        console.log(parentNode)\n        for (let index = parentNode.childNodes.length - 1; index >= 0 ; index--) {\n            const child = parentNode.childNodes[index];\n            if (child.className == classToRemove) {\n               parentNode.removeChild(child)\n            }\n        }\n    }\n\n    //HOME\n    removeAllThumbnails() {\n        const photographersNode = document.querySelector('.photographers')\n        for (let index = photographersNode.childNodes.length - 1; index >= 0 ; index--) {\n            const child = photographersNode.childNodes[index];\n            photographersNode.removeChild(child)\n        }\n    }\n\n    //PHOTOGRAPHER\n    removeAllThumbnails() {\n        const mainNode = document.querySelector('main')\n        for (let index = mainNode.childNodes.length - 1; index >= 0; index--) {\n            const child = mainNode.childNodes[index];\n            if (child.className == \"medium_thumbnail\") {\n                mainNode.removeChild(child)\n            }\n        }\n    }\n    \n}","import { Utils } from \"../utils/Utils\";\n\nexport class HomePageBuilder {\n    constructor(json) {\n        this.dataPromise = json\n        this.clickedNavTags = [];\n    }\n\n    //display header and main (home page)\n    render() {\n        this.dataPromise\n            .then((jsonData) => {\n                let photographers = jsonData.photographers\n\n                this.renderHeader(photographers)\n                this.renderMain(photographers)\n            })\n    }\n\n    renderHeader(photographers) {\n        const header = this.createHeader()\n        this.appendLogo(header)\n        this.appendMainNav(photographers, header)\n\n        const main = document.querySelector(\"main\");\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_home';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.innerHTML = `\n        <img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"logo\" />\n        `;\n\n        header.appendChild(logo);\n    }\n\n    appendMainNav(photographers, header) {\n        const mainNav = document.createElement('nav');\n        mainNav.className = 'main_nav';\n\n        this.appendNavTags(photographers, mainNav)\n        header.appendChild(mainNav);\n    }\n\n    appendNavTags(photographers, nav) {\n        const allTags = photographers.map(photographer => photographer.tags).flat()\n        const distinctTags = [...new Set(allTags)] //remove duplicates\n\n        //add each tag dynamically in the nav\n        distinctTags.forEach(tag => {\n            const tagName = tag.charAt(0).toUpperCase() + tag.substring(1);\n            const headerTag = document.createElement('div');\n            headerTag.className = 'main_nav__item';\n\n            const checkboxTag = document.createElement('input');\n            checkboxTag.type = \"checkbox\";\n            checkboxTag.className = \"tag_checkbox\"\n            checkboxTag.id = tagName;\n            headerTag.appendChild(checkboxTag)\n\n            const labelTag = document.createElement('label');\n            labelTag.className = \"tag_name\"\n            labelTag.setAttribute(\"for\", tagName);\n            labelTag.innerHTML = `#${tagName}`;\n            headerTag.appendChild(labelTag)\n\n            nav.appendChild(headerTag);\n\n            //listen to clicks on main nav tags\n            headerTag.addEventListener(\"change\", () => {\n\n                if (checkboxTag.checked) {\n                this.clickedNavTags.push(tag);\n                this.clickedNavTags = [...new Set(this.clickedNavTags)];\n                } else {\n                    const currentIndex = this.clickedNavTags.indexOf(tag);\n                    this.clickedNavTags.splice(currentIndex, 1);\n                }\n                this.handleTagClick(photographers)\n            });\n        });\n    }\n\n    handleTagClick(photographers) {\n        Utils.removeChildOf(\".photographers\", \"article\")\n        this.sortPhotographers(photographers)\n    }\n\n    sortPhotographers(photographers) {\n        let selectedPhotographers = [];\n        this.clickedNavTags.forEach(clickedNavTag => {\n            photographers.forEach(photographer => {\n                if (photographer.tags.includes(clickedNavTag)) {\n                    selectedPhotographers.push(photographer)\n                }\n            });\n        });\n\n        if (this.clickedNavTags.length == 0) {\n            this.createArticle(photographers)\n        } else {\n            selectedPhotographers = [...new Set(selectedPhotographers)];\n            this.createArticle(selectedPhotographers)\n        }\n        \n    }    \n\n    renderMain(photographers) {\n        this.createMainTitle()\n        this.createArticle(photographers)\n    }\n\n    createMainTitle() {\n        const title = document.createElement('h1')\n        title.className = 'main_title'\n        title.innerHTML = `Nos photographes`\n        document.querySelector(\"main\").appendChild(title)\n    }\n\n    createArticle(photographers) {\n\n        photographers.forEach(photographer => {\n\n            const article = document.createElement('article')\n            article.className = 'article';\n            article.innerHTML = `<a class=\"photographer_thumbnail\" href=\"/photographers-profile/${photographer.id}\">`;\n\n            this.appendPhotographerThumbnailPicture(article, photographer);\n            this.appendPhotographerThumbnailContent(article, photographer);\n\n            document.querySelector('.photographers').appendChild(article);\n        });\n    }\n\n    appendPhotographerThumbnailPicture(article, photographer) {\n        const thumbnailPicture = document.createElement('a')\n        thumbnailPicture.className = 'photographer_thumbnail__picture';\n        thumbnailPicture.innerHTML = `\n        <img class=\"photographer_thumbnail__picture\"\n        src=\"/static/Photographers ID Photos/${photographer.portrait}\"\n        alt=\"photographer's thumbnail picture\" />`;\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailPicture);\n    }\n\n    appendPhotographerThumbnailContent(article, photographer) {\n        const thumbnailContent = document.createElement('div')\n        thumbnailContent.className = 'photographer_thumbnail__content';\n        thumbnailContent.innerHTML = `\n        <h2 class=\"photographer_name\">${photographer.name}</h2>\n        <h3 class=\"photographer_location\">${photographer.city}, ${photographer.country}</h3>\n        <p class=\"photographer_desc\">${photographer.tagline}</p>\n        <p class=\"photographer_price\">${photographer.price}/jour</p>\n        <div class=\"tags\"></div>`;\n\n        photographer.tags.forEach(photographerTag => {\n            const tag = document.createElement('a')\n            tag.className = 'tags__item';\n            tag.innerHTML = `<span>#${photographerTag}</span>`\n            thumbnailContent.querySelector('.tags').appendChild(tag)\n        })\n\n        article.querySelector('.photographer_thumbnail').appendChild(thumbnailContent);\n    }\n}\n","export class MediaFactory {\n    constructor() {\n    }\n\n    mediaEnum = {\n        PICTURE: \"picture\",\n        VIDEO: \"video\",\n    }\n\n    getMediumType(tmpMedium) {\n        let extension = tmpMedium.split('.').pop();\n        if (/(jpg)$/ig.test(extension)) {\n            return this.mediaEnum.PICTURE;\n        }\n        if (/(mp4)$/ig.test(extension)) {\n            return this.mediaEnum.VIDEO;\n        }\n    }\n\n    extractMediumTitle(medium) {\n        let tmpMedium = this.getMediumFile(medium)\n        let mediumTitle = tmpMedium.toLowerCase();\n        let mediumTitleArray = mediumTitle.split(\".\");\n        mediumTitle = mediumTitleArray[0];\n        mediumTitleArray = mediumTitle.split(\"_\");\n        mediumTitle = mediumTitleArray.shift(); //remove 1st element in array \n        mediumTitle = mediumTitleArray.join(\" \"); //add elements of array into a string\n        mediumTitle = mediumTitle.charAt(0).toUpperCase() + mediumTitle.slice(1);\n        return mediumTitle;\n    }\n\n\n    renderMedium(medium, currentPhotographer) {\n\n        let mediumTitle = this.extractMediumTitle(medium);\n\n        let mediumThumbnail = this.createMediumDisplay(medium, currentPhotographer, mediumTitle, \"medium_thumbnail\");\n              \n        this.appendThumbnailContent(mediumTitle, medium, mediumThumbnail);\n\n        return mediumThumbnail;\n    }\n\n    appendThumbnailContent(mediumTitle, medium, mediumThumbnail) {\n        let mediumThumbnailContent = document.createElement('div');\n        mediumThumbnailContent.className = \"medium_thumbnail__content\";\n        mediumThumbnailContent.innerHTML = `\n            <h2 class=\"medium_title\">${mediumTitle}</h2>\n            <div class=\"price_and_likes\">\n              <span class=\"medium_price\">${medium.price}</span>\n              <span class=\"medium_number_of_likes\">${medium.likes}</span>\n              <label class=\"checkbox__like\"> \n                <input type=\"checkbox\" class=\"checkbox__input\" name=\"like\">\n                    <i class=\"far fa-heart like__unchecked\"></i>\n                    <i class=\"fas fa-heart like__checked\"></i>\n                </input>   \n                </label>\n            </div>\n          </div>`;\n\n        mediumThumbnail.appendChild(mediumThumbnailContent);\n    }\n\n    createMediumDisplay(medium, currentPhotographer, mediumTitle, className, controls = false) {\n        let mediumThumbnail = document.createElement('div');\n        mediumThumbnail.className = className;\n        \n        const mediumType = this.getMediumType(this.getMediumFile(medium));\n\n        var media;\n        switch (mediumType) {\n            case this.mediaEnum.PICTURE: {\n                let tmpMedium = String(medium.image);\n                media = document.createElement('img');\n                media.src = `/static/${currentPhotographer.name.split(' ')[0]}/${tmpMedium}`;\n                break;\n            }\n            case this.mediaEnum.VIDEO: {\n                let tmpMedium = String(medium.video);\n                media = document.createElement('video');\n                let source = document.createElement('source');\n                source.src = `/static/${currentPhotographer.name.split(' ')[0]}/${tmpMedium}`\n                source.type = \"video/mp4\"\n                media.controls = controls;\n                if(controls){\n                    media.autoplay = true\n                }\n                media.appendChild(source);\n                break;\n            }\n            default: tmpMedium = String(\"\");\n\n        }\n        media.className = `${className}__miniature`;\n        media.alt = mediumTitle;\n        mediumThumbnail.appendChild(media);\n        return mediumThumbnail;\n    }\n\n    getMediumFile(medium) {\n        let tmpMedium = medium.image;\n        if (tmpMedium == null) {\n            tmpMedium = medium.video;\n        }\n        return tmpMedium;\n    }\n}\n\n\n","export class ContactModal {\n    constructor(currentPhotographer) {\n        this.currentPhotographer = currentPhotographer;\n    }\n\n    //modal creation \n    renderContactModal() {\n        this.createContactModal();\n        this.createContactModalBody();\n\n        this.contactModal = document.querySelector('.contact_modal');\n    }\n\n    createContactModal() {\n        const contactModal = document.createElement('div');\n        contactModal.className = 'contact_modal';\n\n        document.querySelector('main').appendChild(contactModal);\n    }\n\n    createContactModalBody() {\n        const modalBody = document.createElement('div');\n        modalBody.className = 'contact_modal__body';\n\n        this.appendModalTitle(modalBody);\n        this.appendCloseButton(modalBody);\n        this.appendContactForm(modalBody);\n        this.createModalButton(modalBody);\n\n        document.querySelector('.contact_modal').appendChild(modalBody);\n    }\n\n    appendModalTitle(modalBody) {\n        const modalTitle = document.createElement('h2');\n        modalTitle.className = 'contact_modal__body__title';\n        modalTitle.innerHTML = `Contactez-moi </br> ${this.currentPhotographer.name}`;\n\n        modalBody.appendChild(modalTitle);\n\n    }\n\n    appendCloseButton(modalBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button';\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideContactModal();\n        });\n        modalBody.appendChild(closeButton);\n\n    }\n\n    appendContactForm(modalBody) {\n        const contactForm = document.createElement('form');\n        contactForm.className = 'contact_form';\n        contactForm.setAttribute = (\"method\", \"post\");\n        contactForm.setAttribute = (\"action\", \"submit\");\n\n        this.createFormFields(contactForm);\n        this.addEventListenerValidate(contactForm);\n\n        modalBody.appendChild(contactForm);\n    }\n\n    addEventListenerValidate(contactForm) {\n        const inputs = contactForm.querySelectorAll('.input_field');\n\n        inputs.forEach(input => {\n            input.addEventListener('blur', () => {\n                if (this.validateFieldsFormat(input) === true) {\n                    this.hideErrorMessage(input.parentElement);\n                } else {\n                    if (input.id === \"email\") {\n                        this.showErrorMessage(input.parentElement, 'Veuillez entrer une adresse mail valide')\n                    } else if (input.id === \"message\") {\n                        this.showErrorMessage(input.parentElement, \"Dites-m'en un peu plus...\")\n                    } else {\n                        this.showErrorMessage(input.parentElement, 'Veuillez entrer au moins 2 caractres')\n                    }\n                }\n            });\n        });\n    }\n\n    createFormData() {\n        const formData = document.createElement('div');\n        formData.className = 'formData';\n        return formData;\n    }\n\n    createLabel(forParam, textParam) {\n        const label = document.createElement('label');\n        label.setAttribute(\"for\", forParam);\n        label.innerHTML = `${textParam}`;\n        return label;\n    }\n\n    createInputField(id) {\n        const inputField = document.createElement('input');\n        inputField.className = 'input_field';\n        inputField.type = \"text\";\n        inputField.setAttribute(\"id\", id);\n        return inputField;\n    }\n\n    createTextArea(id) {\n        const textAreaInput = document.createElement('textarea');\n        textAreaInput.className = 'input_field';\n        textAreaInput.setAttribute(\"id\", id);\n        textAreaInput.setAttribute(\"rows\", 5);\n        return textAreaInput;\n    }\n\n    createFormFields(contactForm) {\n\n        //Firstname\n        let formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"firstname\", \"Prnom\"));\n        formData.appendChild(this.createInputField(\"firstname\"));\n        contactForm.appendChild(formData);\n\n        //Lastname\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"lastname\", \"Nom\"));\n        formData.appendChild(this.createInputField(\"lastname\"));\n        contactForm.appendChild(formData);\n\n        //Email\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"email\", \"Email\"));\n        formData.appendChild(this.createInputField(\"email\"));\n        contactForm.appendChild(formData);\n\n        //Message\n        formData = this.createFormData();\n        formData.appendChild(this.createLabel(\"message\", \"Votre message\"));\n        formData.appendChild(this.createTextArea(\"message\"));\n        contactForm.appendChild(formData);\n    }\n\n    createModalButton(modalBody) {\n        const modalButton = document.createElement('button');\n        modalButton.className = 'button_contact submit_button';\n        modalButton.type = \"submit\";\n        modalButton.innerHTML = `Envoyer`;\n\n        modalButton.addEventListener('click', (e) => {\n            const inputs = [...modalBody.querySelectorAll('.input_field')];\n            e.preventDefault();\n            if (this.validateFields(modalBody) === true) {\n                this.hideContactModal();\n                inputs.map(input => {\n                    const fields = {\n                        input: input.id,\n                        inputValue: input.value,\n                    }\n                    return fields;\n                })\n                .forEach((field) => console.log(field.input + \" : \" + field.inputValue));\n            } else {\n                console.log(\"Merci de rensigner les champs\")\n            }\n        });\n        modalBody.appendChild(modalButton);\n    }\n\n    showContactModal() {\n        this.contactModal.style.display = \"block\";\n    }\n\n    hideContactModal() {\n        this.contactModal.style.display = \"none\";\n    }\n\n\n    //fields validation \n\n    //error message is displayed when field is invalid\t\n    showErrorMessage(field, message) {\n        field.setAttribute('data-error', message);\n        field.setAttribute('data-error-visible', 'true');\n    }\n\n    //error message is hidden \n    hideErrorMessage(field) {\n        field.removeAttribute('data-error');\n        field.removeAttribute('data-error-visible');\n    }\n\n    validateFieldsFormat(input) {\n        const fieldFormat = /^[A-Za-z\\-\\s']{2,}$/;\n        const emailAddressFormat = /\\S+@\\S+\\.\\S+/;\n        const messageFormat = /^[A-Za-z\\-\\s'.,;:!?]{5,500}$/;\n\n        if (input.id === \"email\") {\n            if ((input.value.length != 0) && (emailAddressFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        if (input.id === \"message\") {\n            if ((input.value.length != 0) && (messageFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n\n        } else {\n            if ((input.value.length != 0) && (fieldFormat.test(input.value))) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    validateFields(modalBody) {\n        const inputs = modalBody.querySelectorAll('.input_field');\n        let outcome = true\n        inputs.forEach(input => {\n            if (this.validateFieldsFormat(input) === false) {\n                outcome = false\n            }\n        });\n        return outcome;\n    }\n}","import { MediaFactory } from './MediaFactory';\n\nexport class LightboxMedia {\n    constructor(allMedia = [], currentPhotographer) {\n        this.allMedia = allMedia;\n        this.currentPhotographer = currentPhotographer;\n\n        this.mediaFactory = new MediaFactory();\n    }\n\n    renderLightboxMedia() {\n        this.createLightboxMedia();\n        this.createLightboxMediaBody();\n\n        this.lightboxMedia = document.querySelector('.lightbox_media');\n    }\n\n    createLightboxMedia() {\n        const lightboxMedia = document.createElement('div');\n        lightboxMedia.className = 'lightbox_media';\n\n        document.querySelector('main').appendChild(lightboxMedia);\n    }\n\n    createLightboxMediaBody() {\n        const lightboxBody = document.createElement('div');\n        lightboxBody.className = 'lightbox_media__body';\n\n        this.appendCloseButton(lightboxBody);\n        this.appendNavButtons(lightboxBody);\n        this.handleNav(lightboxBody);\n        this.appendMediumBox(lightboxBody);\n        this.appendMediumTitle(lightboxBody);\n       \n        document.querySelector('.lightbox_media').appendChild(lightboxBody);\n    }\n\n    appendCloseButton(lightboxBody) {\n        const closeButton = document.createElement('button');\n        closeButton.className = 'close_button_lightbox';\n        closeButton.innerHTML = `<i class=\"fas fa-times fa-3x\"></i>`;\n        closeButton.addEventListener('click', () => {\n            this.hideLightboxMedia();\n        });\n        lightboxBody.appendChild(closeButton);\n    }\n\n    createNavButton(buttonClass, buttonIcon) {\n        const button = document.createElement('button');\n        button.className = buttonClass;\n        button.innerHTML = `<i class=\"fas ${buttonIcon} fa-3x\"></i>`;\n        return button;\n    }\n\n    appendNavButtons(lightboxBody) {\n        const previousButton = this.createNavButton(\"previous_button\", \"fa-chevron-left\");\n        const nextButton = this.createNavButton(\"next_button\", \"fa-chevron-right\");\n\n        lightboxBody.appendChild(previousButton);\n        lightboxBody.appendChild(nextButton);\n    }\n\n    handleNav(lightboxBody) {\n\n        const previousButton = lightboxBody.querySelector('.previous_button');\n        const nextButton = lightboxBody.querySelector('.next_button');\n\n        previousButton.addEventListener('click', () => {\n\n            const currentIndex = this.allMedia.indexOf(this.medium);\n            const newIndex = currentIndex - 1;\n\n            const nextButton = lightboxBody.querySelector('.next_button');\n            nextButton.style.display = \"block\";\n            \n            if (newIndex >= 0 ) {\n                this.showLightboxMedia(this.allMedia[newIndex], this.currentPhotographer, this.allMedia);\n            } \n\n            if (newIndex == 0) {\n                previousButton.style.display = \"none\"; //disable prev button\n            }\n        });\n\n        nextButton.addEventListener('click', () => {\n            const currentIndex = this.allMedia.indexOf(this.medium);\n            const newIndex = currentIndex + 1;\n\n            const previousButton = lightboxBody.querySelector('.previous_button');\n            previousButton.style.display = \"block\";\n\n            if (newIndex <= this.allMedia.length -1) {\n                this.showLightboxMedia(this.allMedia[newIndex], this.currentPhotographer, this.allMedia);\n            }\n\n            if (newIndex == this.allMedia.length -1) {\n                nextButton.style.display = \"none\";\n            }\n        });\n    }\n\n\n    appendMediumBox(lightboxBody) {\n        const nextButton = lightboxBody.querySelector('.next_button');\n        const mediumBox = document.createElement('div');\n        mediumBox.className = \"medium_box\";\n        lightboxBody.insertBefore(mediumBox, nextButton);\n    }\n\n    appendMediumTitle(lightboxBody) {\n        const mediumTitle = document.createElement('h2');\n        mediumTitle.className = 'lightbox_title';\n        lightboxBody.querySelector('.medium_box').appendChild(mediumTitle);\n    }\n\n    showLightboxMedia(medium, currentPhotographer, allMedia) {\n        this.allMedia = allMedia;\n        this.medium = medium;\n        this.removeLightboxMedium();\n\n        const title =this.mediaFactory.extractMediumTitle(medium);\n        const mediumTitle = document.querySelector('.lightbox_title')\n        mediumTitle.innerHTML = title;\n\n        const lightboxMedium = this.mediaFactory.createMediumDisplay(medium, currentPhotographer, title, \"lightbox_medium\", true);\n        document.querySelector('.medium_box').insertBefore(lightboxMedium, mediumTitle);\n        this.lightboxMedia.style.display = \"block\";        \n    }\n\n    hideLightboxMedia() {\n        this.lightboxMedia.style.display = \"none\";\n    }\n\n    removeLightboxMedium() {\n        const mainNode = document.querySelector('.medium_box')\n        for (let index = mainNode.childNodes.length - 1; index >= 0; index--) {\n            const child = mainNode.childNodes[index];\n            if (child.className != \"lightbox_title\") mainNode.removeChild(child)\n        }\n    }\n}\n","import { MediaFactory } from './MediaFactory';\nimport { ContactModal } from \"./ContactModal\";\nimport { LightboxMedia } from \"./LightboxMedia\";\nimport { Utils } from \"../utils/Utils\"\n\nexport class PhotographerPageBuilder {\n\n    SortEnum = {\n        DATE: \"Date\",\n        POPULARITY: \"Popularit\",\n        TITLE: \"Titre\",\n    }\n\n    constructor(json) {\n        this.jsonPromise = json\n        this.isDropdownVisible = false //dropdown menu hidden by default\n        this.allMedia = [];\n        this.photographerTags = [];\n        this.selectedMedia = [];\n        this.mediaFactory = new MediaFactory();\n    }\n\n    render(id) {\n        this.idPhotographer = id\n        this.jsonPromise.then((jsonData) => {\n            this.determineCurrentPhotographer(jsonData.photographers);\n            this.determineCurrentPhotographerMedia(jsonData.media);\n\n            this.renderHeader();\n            this.renderMain();\n\n            this.contactModal = new ContactModal(this.currentPhotographer);\n            this.contactModal.renderContactModal();\n\n            this.lightboxMedia = new LightboxMedia(this.allMedia, this.currentPhotographer);\n            this.lightboxMedia.renderLightboxMedia();\n        })\n    }\n\n    renderHeader() {\n        const header = this.createHeader();\n        this.appendLogo(header);\n\n        const main = document.querySelector(\"main\");\n        document.querySelector('body').insertBefore(header, main);\n    }\n\n    createHeader() {\n        const header = document.createElement('header');\n        header.className = 'header_photographer_page';\n        return header;\n    }\n\n    appendLogo(header) {\n        const logo = document.createElement('a');\n        logo.className = 'logo';\n        logo.setAttribute(\"href\", \"/\");\n        logo.innerHTML = `<img class=\"logo_img\" src=\"/static/logo.svg\" alt=\"logo\" />`;\n\n        header.appendChild(logo);\n    }\n\n    // for each photographer, \n    //  if their id == photographer wanted \n    //  then save photographer in currentPhotographer \n    determineCurrentPhotographer(photographers) {\n        photographers.forEach(photographer => {\n            if (photographer.id == this.idPhotographer) {\n                this.currentPhotographer = photographer;\n            }\n        });\n    }\n\n    //for each medium, \n    //  if photographer id in media object = id in photographers object,\n    //  then add medium to array\n    determineCurrentPhotographerMedia(media) {\n        media.forEach(medium => {\n            if (medium.photographerId == this.idPhotographer) {\n                this.allMedia.push(medium);\n            }\n        });\n    }\n\n    renderMain() {\n        this.renderBanner();\n        this.renderSummary();\n        this.renderDropdown();\n        this.sortBy(this.SortEnum.POPULARITY);\n    }\n\n\n    //Banner\n\n    renderBanner() {\n        this.createBanner();\n        this.renderBannerContent();\n        this.createBannerButton();\n        this.createBannerPicture();\n    }\n\n    createBanner() {\n        const banner = document.createElement('div');\n        banner.className = 'banner';\n        document.querySelector('main').appendChild(banner);\n    }\n\n    renderBannerContent() {\n        const bannerContent = this.createBannerContent();\n        this.appendBannerName(bannerContent);\n        this.appendBannerLocation(bannerContent);\n        this.appendBannerDesc(bannerContent);\n        this.appendBannerTags(bannerContent);\n        this.appendBannerContentTags(bannerContent);\n    }\n\n    createBannerContent() {\n        const bannerContent = document.createElement('div');\n        bannerContent.className = 'banner__text_content';\n        document.querySelector('.banner').appendChild(bannerContent);\n        return bannerContent;\n\n    }\n\n    appendBannerName(bannerContent) {\n        const bannerTitle = document.createElement('h2');\n        bannerTitle.className = 'photographer_name';\n        bannerTitle.innerHTML = this.currentPhotographer.name;\n        bannerContent.appendChild(bannerTitle);\n    }\n\n    appendBannerLocation(bannerContent) {\n        const bannerLocation = document.createElement('h3');\n        bannerLocation.className = 'photographer_location';\n        bannerLocation.innerHTML = `${this.currentPhotographer.city}, ${this.currentPhotographer.country}`;\n        bannerContent.appendChild(bannerLocation);\n    }\n\n    appendBannerDesc(bannerContent) {\n        const bannerDesc = document.createElement('p');\n        bannerDesc.className = 'photographer_desc';\n        bannerDesc.innerHTML = this.currentPhotographer.tagline;\n        bannerContent.appendChild(bannerDesc);\n    }\n\n    createBannerButton() {\n        const contactButton = document.createElement('button');\n        contactButton.className = 'button_contact button_banner';\n        contactButton.innerHTML = `Contactez-moi`;\n        contactButton.addEventListener('click', () => {\n            this.launchContactModal()\n        });\n        document.querySelector('.banner').appendChild(contactButton);\n    }\n\n    launchContactModal() {\n        this.contactModal.showContactModal();\n    }\n\n    createBannerPicture() {\n        const bannerPicture = document.createElement('div');\n        bannerPicture.className = 'photographer__picture';\n        bannerPicture.innerHTML = `\n            <img\n                class=\"photographer_thumbnail__picture picture_profile\"\n                src=\"/static/Photographers ID Photos/${this.currentPhotographer.portrait}\"\n                alt=\"photographer's thumbnail picture\"\n              />`;\n\n        document.querySelector('.banner').appendChild(bannerPicture);\n    }\n\n    appendBannerTags(bannerContent) {\n        const bannerTags = document.createElement('div');\n        bannerTags.className = 'tags tags_photographer_page';\n        bannerContent.appendChild(bannerTags);\n    }\n\n    appendBannerContentTags(bannerContent) {\n        this.currentPhotographer.tags.forEach(photographerTag => {\n            const bannerTag = document.createElement('div');\n            bannerTag.className = 'photographer_tags__item';\n\n            const checkboxTag = document.createElement('input');\n            checkboxTag.type = \"checkbox\";\n            checkboxTag.className = \"tag_checkbox\"\n            checkboxTag.id = photographerTag;\n            bannerTag.appendChild(checkboxTag)\n\n            const labelTag = document.createElement('label');\n            labelTag.className = \"tag_name\"\n            labelTag.setAttribute(\"for\", photographerTag);\n            labelTag.innerHTML = `#${photographerTag}`;\n            bannerTag.appendChild(labelTag)\n\n            bannerContent.querySelector('.tags_photographer_page').appendChild(bannerTag);\n\n            checkboxTag.addEventListener('change', () => {\n                if (checkboxTag.checked) {\n                    this.photographerTags.push(photographerTag);\n                    this.photographerTags = [...new Set(this.photographerTags)];\n                } else {\n                    const currentIndex = this.photographerTags.indexOf(photographerTag);\n                    this.photographerTags.splice(currentIndex, 1);\n                }\n                console.log(this.photographerTags)\n                this.handleTagClick();\n            });\n        });\n    }\n\n    handleTagClick() {\n        Utils.removeChildOf(\"#app\", \"medium_thumbnail\");\n        this.sortMedia()\n    }\n\n    sortMedia() {\n       this.selectedMedia = [];\n        this.photographerTags.forEach(clickedPhotographerTag => {\n            this.allMedia.forEach(medium => {\n                medium.tags.forEach(tag => {\n                    if (tag == clickedPhotographerTag) {\n                        this.selectedMedia.push(medium)\n                    }\n                })\n            });\n        });\n\n        if (this.selectedMedia.length == 0) {\n            this.allMedia.forEach(medium => {\n                this.createMediumThumbnail(medium)\n\n            });\n        } else {\n            this.selectedMedia = [...new Set(this.selectedMedia)];\n\n            this.selectedMedia.forEach(selectedMedium => {\n                this.createMediumThumbnail(selectedMedium);\n            });\n        }\n\n    }\n\n\n    //dropdown\n\n    renderDropdown() {\n\n        const dropdownMenu = this.createDropdownMenu();\n        this.appendSortByText(dropdownMenu);\n        this.appendDropdown(dropdownMenu);\n        document.querySelector('main').appendChild(dropdownMenu);\n\n        const dropdrownButton = document.querySelector('.dropdown__button');\n        const dropdrownContent = document.querySelector('.dropdown__content');\n\n        dropdrownButton.addEventListener('click', () => {\n            if (this.isDropdownVisible == false) {\n                dropdrownContent.style.display = \"block\";\n                this.isDropdownVisible = true; //content visibility state \n            } else {\n                dropdrownContent.style.display = \"none\";\n                this.isDropdownVisible = false;\n            }\n        });\n\n        const dropdownItems = document.getElementsByClassName(\"dropdown__content__item\");\n        for (let item of dropdownItems) {\n            item.addEventListener('click', () => {\n                this.handleDropdownItemClick(dropdrownButton, item);\n            })\n        }\n    }\n\n    createDropdownMenu() {\n        const dropdownMenu = document.createElement('div');\n        dropdownMenu.className = \"dropdown_menu\";\n        return dropdownMenu;\n    }\n\n    appendSortByText(dropdownMenu) {\n        const sortBy = document.createElement('span');\n        sortBy.className = 'sort_by';\n        sortBy.innerHTML = `Trier par`;\n        dropdownMenu.appendChild(sortBy);\n    }\n\n    appendDropdown(dropdownMenu) {\n        const dropdown = document.createElement('div');\n        dropdown.className = \"dropdown\";\n        this.appendDropdownButton(dropdown);\n        this.createDropdownContent(dropdown);\n        dropdownMenu.appendChild(dropdown);\n    }\n\n    appendDropdownButton(dropdown) {\n        const dropdownButton = document.createElement('button');\n        dropdownButton.className = 'dropdown__button';\n        dropdownButton.innerHTML = this.SortEnum.POPULARITY;\n        dropdown.appendChild(dropdownButton);\n    }\n\n    createDropdownContent(dropdown) {\n        const dropdownContent = document.createElement('div');\n        dropdownContent.className = 'dropdown__content';\n\n        this.appendDropdownItemDATE(dropdownContent);\n        this.appendDropdownItemTITLE(dropdownContent);\n\n        dropdown.appendChild(dropdownContent);\n    }\n\n    appendDropdownItemDATE(dropdownContent) {\n        const dropdownItemDATE = document.createElement('a');\n        dropdownItemDATE.className = 'dropdown__content__item';\n        dropdownItemDATE.innerHTML = this.SortEnum.DATE;\n        dropdownContent.appendChild(dropdownItemDATE);\n    }\n\n    appendDropdownItemTITLE(dropdownContent) {\n        const dropdownItemTITLE = document.createElement('a');\n        dropdownItemTITLE.className = 'dropdown__content__item';\n        dropdownItemTITLE.innerHTML = this.SortEnum.TITLE;\n        dropdownContent.appendChild(dropdownItemTITLE);\n    }\n\n\n    //sticker photographer total number of likes and price\n\n    renderSummary() {\n        const summary = this.createSummary();\n        this.createTotalLikes(summary);\n        this.createPhotographerPrice(summary);\n\n    }\n\n    createSummary() {\n        const stickerSummary = document.createElement('div');\n        stickerSummary.className = 'sticker_summary';\n        document.querySelector('main').appendChild(stickerSummary);\n        return stickerSummary;\n    }\n\n    createPhotographerPrice(summary) {\n        const price = this.currentPhotographer.price;\n        const photographerPrice = document.createElement('div');\n        photographerPrice.className = \"photographer_price\";\n        photographerPrice.innerHTML = price + \"/jour\";\n\n        summary.appendChild(photographerPrice);\n    }\n\n    createTotalLikes(summary) {\n        let numberOfLikes = 0;\n        this.allMedia.forEach(medium => {\n            numberOfLikes = numberOfLikes + medium.likes\n        });\n\n        const totalNumberOfLikes = document.createElement('div');\n        totalNumberOfLikes.className = \"total_likes\";\n\n        totalNumberOfLikes.innerHTML = `\n        <p class=\"total_number_of_likes\">` + numberOfLikes + `</p>\n        <i class=\"fas fa-heart fa-lg\"></i>`;\n\n        summary.appendChild(totalNumberOfLikes);\n    }\n\n    incrementNumberOfLikes(mediumThumbnail) {\n        const likeButton = mediumThumbnail.querySelector('.checkbox__input');\n        const mediumLikes = mediumThumbnail.querySelector('.medium_number_of_likes');\n        const totalLikes = document.querySelector('.total_number_of_likes');\n\n        likeButton.addEventListener('change', () => {\n            if (likeButton.checked) {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) + 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) + 1;\n            } else {\n                mediumLikes.innerHTML = parseInt(mediumLikes.innerHTML) - 1;\n                totalLikes.innerHTML = parseInt(totalLikes.innerHTML) - 1;\n            }\n\n        });\n    }\n\n    createMediumThumbnail(medium) {\n        const mediumThumbnail = this.mediaFactory.renderMedium(medium, this.currentPhotographer);\n\n        const main = document.querySelector('main');\n        main.appendChild(mediumThumbnail);\n\n        const mediumThumbnailMiniature = mediumThumbnail.querySelector('.medium_thumbnail__miniature');\n\n        mediumThumbnailMiniature.addEventListener('click', () => {\n            if (this.selectedMedia.length == 0) {\n                this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, this.allMedia)\n            } else {\n                this.lightboxMedia.showLightboxMedia(medium, this.currentPhotographer, this.selectedMedia)\n            }\n        })\n\n        this.incrementNumberOfLikes(mediumThumbnail);\n    }\n\n    handleDropdownItemClick(dropdrownButton, item) {\n        dropdrownButton.click();\n\n        Utils.removeChildOf(\"#app\", \"medium_thumbnail\");//remove everything\n        this.sortBy(item.innerHTML); //sort\n        this.swapDropdownItems(item, dropdrownButton); //swap\n    }\n\n    swapDropdownItems(item, dropdrownButton) {\n        var temporary = item.innerHTML;\n        item.innerHTML = dropdrownButton.innerHTML;\n        dropdrownButton.innerHTML = temporary;\n    }\n\n    //a & b = media\n    sortBy(sortType) {\n        let sortedMedia = null;\n        switch (sortType) {\n            case this.SortEnum.DATE:\n                sortedMedia = this.allMedia.sort((a, b) => new Date(b.date) - new Date(a.date))\n                break;\n            case this.SortEnum.POPULARITY:\n                sortedMedia = this.allMedia.sort((a, b) => b.likes - a.likes);\n                \n                break;\n            case this.SortEnum.TITLE:\n                sortedMedia = this.allMedia.sort((a,b) => this.compareTitle(a,b));\n                break;\n        }\n        sortedMedia.forEach(sortedMedium => {\n            this.createMediumThumbnail(sortedMedium)\n        })\n    }\n\n    compareTitle(a,b){\n        const t1 = this.mediaFactory.extractMediumTitle(a)\n        const t2 = this.mediaFactory.extractMediumTitle(b)\n\n        return t1.localeCompare(t2, 'fr')\n    }\n}","import { HomePageBuilder } from \"./HomePageBuilder\";\nimport { PhotographerPageBuilder } from \"./PhotographerPageBuilder\";\n\n\nexport const PageFactoryEnum = {\n    HOME: \"home\",\n    PHOTOGRAPHER : \"photographer\",\n}\n//Map[key] = value\nlet registeredPages = new Map([\n    [PageFactoryEnum.PHOTOGRAPHER, PhotographerPageBuilder],\n    [PageFactoryEnum.HOME, HomePageBuilder]\n])\n\nexport class PageFactory {\n    getPage(type, json) {\n        return new (registeredPages.get(type))(json);\n    }\n}\n\n","export class DataFetcher {\n    constructor(dataSource) {\n        this.dataSource = dataSource; //json file\n    }\n\n    async fetchSource() {\n        const resp = await fetch(this.dataSource); // ressource request\n        //console.log(resp);\n        return await resp.json();\n    }\n}","import { PageFactory, PageFactoryEnum } from './scripts/factory/PageFactory';\nimport { DataFetcher } from './scripts/utils/DataFetcher';\n\nconst dataFetcher = new DataFetcher('/static/FishEyeDataFR.json');\nconst json =  dataFetcher.fetchSource()\nconst pageFactory = new PageFactory();\n\n//possible routes\nconst routes = [\n    {\n        regex: /\\/{1}$/gm,\n        component: pageFactory.getPage(PageFactoryEnum.HOME, json)\n    },\n    {\n        regex: /\\/[A-Za-z\\-]{1,}\\/[0-9]{0,3}?$/, \n        component: pageFactory.getPage(PageFactoryEnum.PHOTOGRAPHER, json)\n    },\n];\n\nexport const router = () => {\n    const idPhotographer = location.pathname.split('/')[2];\n    routes.find(route => route.regex.test(location.pathname)).component.render(idPhotographer)\n};","import { router } from './Router';\n\nwindow.addEventListener('hashchange', router); // identifier of the URL changes\nwindow.addEventListener('load', router); // ressource has loaded","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}